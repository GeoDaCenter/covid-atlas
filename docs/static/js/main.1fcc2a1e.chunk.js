(this["webpackJsonpcovid-atlas"]=this["webpackJsonpcovid-atlas"]||[]).push([[0],{253:function(e,t){},268:function(e,t){},341:function(e){e.exports=JSON.parse('{"version":8,"name":"Experimental - Clean \\\\","metadata":{"mapbox:type":"default","mapbox:origin":"basic-v1","mapbox:sdk-support":{"js":"1.9.0","android":"8.6.0","ios":"5.6.0"},"mapbox:autocomposite":true,"mapbox:groups":{"Administrative boundaries, admin":{"name":"Administrative boundaries, admin","collapsed":true},"Natural features, natural-labels":{"name":"Natural features, natural-labels","collapsed":true},"Place labels, place-labels":{"name":"Place labels, place-labels","collapsed":false},"Point of interest labels, poi-labels":{"name":"Point of interest labels, poi-labels","collapsed":true}},"mapbox:uiParadigm":"layers"},"center":[-106.41142047413177,43.731407729117365],"zoom":5.054700049834795,"bearing":0,"pitch":0,"sources":{"composite":{"url":"mapbox://lixun910.5k6jyt33,lixun910.7s0ljdc6,mapbox.mapbox-streets-v8,lixun910.5bmq1hai,lixun910.c1k7tmzy,lixun910.62ab73ca,mapbox.mapbox-terrain-v2","type":"vector"}},"sprite":"mapbox://sprites/lixun910/ckhxm4ot50yk919pj8witkk2d/ei6q81b5ywryaykkp3eopmi80","glyphs":"mapbox://fonts/lixun910/{fontstack}/{range}.pbf","layers":[{"id":"blackbelt","type":"fill","source":"composite","source-layer":"blackbelt-highlight-3vhzb8","layout":{"visibility":"none"},"paint":{"fill-color":"hsla(0, 0%, 0%, 0.5)","fill-outline-color":"hsla(0, 0%, 0%, 0)"}},{"id":"segregated_cities","type":"fill","source":"composite","source-layer":"segregated_cities-9w47nz","layout":{"visibility":"none"},"paint":{"fill-outline-color":"hsla(0, 0%, 0%, 0)","fill-color":"hsla(0, 0%, 0%, 0.5)"}},{"id":"native_american_reservations","type":"fill","source":"composite","source-layer":"nativeamericanreservations-hi-4aqk3l","layout":{"visibility":"none"},"paint":{"fill-outline-color":"hsla(0, 0%, 0%, 0)","fill-color":"hsla(0, 0%, 0%, 0.5)"}},{"id":"uscongress-districts","type":"line","source":"composite","source-layer":"US_Congressional_Districts-4jecfj","layout":{"visibility":"none"},"paint":{"line-color":"hsl(0, 0%, 12%)"}},{"id":"hillshade","type":"fill","source":"composite","source-layer":"hillshade","layout":{},"paint":{"fill-color":"hsl(0, 0%, 10%)","fill-outline-color":"hsla(0, 0%, 0%, 0)","fill-opacity":0.1}},{"id":"water","type":"fill","source":"composite","source-layer":"water","layout":{},"paint":{"fill-color":["case",["==",["id"],0],"hsl(0, 0%, 7%)","hsl(0, 0%, 7%)"],"fill-outline-color":"hsla(0, 0%, 0%, 0)","fill-antialias":false}},{"id":"admin-1-boundary-bg","type":"line","source":"composite","source-layer":"admin","filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"bevel"},"paint":{"line-color":["interpolate",["linear"],["zoom"],8,"hsl(216, 36%, 16%)",16,"rgb(52, 52, 52)"],"line-width":["interpolate",["linear"],["zoom"],7,3.75,12,5.5],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,0.75],"line-dasharray":[1,0],"line-translate":[0,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,8,3]}},{"id":"admin-0-boundary-bg","type":"line","source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"paint":{"line-width":["interpolate",["linear"],["zoom"],2,2,10,5],"line-color":["interpolate",["linear"],["zoom"],6,"hsl(216, 36%, 16%)",8,"rgb(52, 52, 52)"],"line-opacity":["interpolate",["linear"],["zoom"],3,0,4,0.5],"line-translate":[0,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,10,2]}},{"id":"admin-1-boundary","type":"line","source":"composite","source-layer":"admin","filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]],"line-width":["interpolate",["linear"],["zoom"],7,1,12,1.5],"line-opacity":["interpolate",["linear"],["zoom"],2,0,3,1]}},{"id":"admin-0-boundary","type":"line","source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-color":"hsl(0, 0%, 51%)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":[10,0]}},{"id":"admin-0-boundary-disputed","type":"line","source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","disputed"],"true"],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round"},"paint":{"line-color":"rgb(130, 130, 130)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":["step",["zoom"],["literal",[3.25,3.25]],6,["literal",[2.5,2.5]],7,["literal",[2,2.25]],8,["literal",[1.75,2]]]}},{"id":"waterway-label","type":"symbol","source":"composite","source-layer":"natural_label","minzoom":13,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["canal","river","stream","disputed_canal","disputed_river","disputed_stream"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["canal","river","stream"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"text-font":["Lato Italic","Arial Unicode MS Regular"],"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-size":["interpolate",["linear"],["zoom"],13,12,18,16],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"text-color":"hsl(197, 16%, 90%)"}},{"id":"natural-line-label","type":"symbol","source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["glacier","landform","disputed_glacier","disputed_landform"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["glacier","landform"],true,false]],["==",["geometry-type"],"LineString"],["<=",["get","filterrank"],2],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-font":["Lato Bold","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport"},"paint":{"text-halo-width":0.5,"text-halo-color":"hsl(216, 43%, 0%)","text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(184, 2%, 91%)",5,"hsl(184, 7%, 81%)"],17,["step",["get","sizerank"],"hsl(184, 2%, 91%)",13,"hsl(184, 7%, 81%)"]]}},{"id":"natural-point-label","type":"symbol","source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland","disputed_dock","disputed_glacier","disputed_landform","disputed_water_feature","disputed_wetland"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["dock","glacier","landform","water_feature","wetland"],true,false]],["==",["geometry-type"],"Point"],["<=",["get","filterrank"],2],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["Lato Bold","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"hsl(216, 43%, 0%)","text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(184, 2%, 91%)",5,"hsl(184, 7%, 81%)"],17,["step",["get","sizerank"],"hsl(184, 2%, 91%)",13,"hsl(184, 7%, 81%)"]]}},{"id":"water-line-label","type":"symbol","source":"composite","source-layer":"natural_label","filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["bay","ocean","reservoir","sea","water","disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["bay","ocean","reservoir","sea","water"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12],18,["step",["get","sizerank"],18,9,16]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",0.25,["sea","bay"],0.15,0],"text-font":["Lato Italic","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"visibility":"none"},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(197, 44%, 26%)","hsl(197, 16%, 90%)"]}},{"id":"water-point-label","type":"symbol","source":"composite","source-layer":"natural_label","filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["bay","ocean","reservoir","sea","water","disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["bay","ocean","reservoir","sea","water"],true,false]],["==",["geometry-type"],"Point"]],"layout":{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12]],"text-font":["Lato Italic","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",0.25,["bay","sea"],0.15,0.01],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10],"visibility":"none"},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(197, 44%, 26%)","hsl(197, 16%, 90%)"]}},{"id":"poi-label","type":"symbol","source":"composite","source-layer":"poi_label","minzoom":6,"filter":["all",["<=",["get","filterrank"],["+",["step",["zoom"],0,16,1,17,2],0]],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["Lato Bold","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":["match",["get","class"],"park_like","hsl(170, 42%, 0%)","education","hsl(213, 38%, 0%)","medical","hsl(204, 24%, 5%)","hsl(216, 43%, 0%)"],"text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(180, 15%, 100%)","park_like","hsl(107, 1%, 84%)","education","hsl(213, 11%, 100%)","medical","hsl(204, 6%, 100%)","hsl(184, 2%, 91%)"],5,["match",["get","class"],"food_and_drink","hsl(180, 24%, 87%)","park_like","hsl(107, 0%, 73%)","education","hsl(213, 27%, 100%)","medical","hsl(204, 7%, 100%)","hsl(184, 7%, 81%)"]],17,["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(180, 15%, 100%)","park_like","hsl(107, 1%, 84%)","education","hsl(213, 11%, 100%)","medical","hsl(204, 6%, 100%)","hsl(184, 2%, 91%)"],13,["match",["get","class"],"food_and_drink","hsl(180, 24%, 87%)","park_like","hsl(107, 0%, 73%)","education","hsl(213, 27%, 100%)","medical","hsl(204, 7%, 100%)","hsl(184, 7%, 81%)"]]]}},{"id":"settlement-minor-label","type":"symbol","source":"composite","source-layer":"place_label","minzoom":5.25,"maxzoom":15,"filter":["all",["<=",["get","filterrank"],4],["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["settlement","disputed_settlement"],true,false],["match",["get","worldview"],["all","US"],true,false]],["==",["get","class"],"settlement"]],["step",["zoom"],true,8,[">=",["get","symbolrank"],11],10,[">=",["get","symbolrank"],12],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],3,["step",["get","symbolrank"],13.200000000000001,9,12.100000000000001,10,11.55,12,10.450000000000001,14,9.350000000000001,16,7.15,17,4.4],13,["step",["get","symbolrank"],27.500000000000004,9,25.3,10,23.1,11,20.900000000000002,12,19.8,13,18.700000000000003,15,16.5]],"icon-image":"","text-font":["Lato Bold","Arial Unicode MS Regular"],"text-padding":["interpolate",["linear"],["zoom"],0,50,10,5],"text-offset":["step",["zoom"],["literal",[0,0]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},"paint":{"text-halo-color":"hsl(216, 0%, 100%)","text-halo-width":1,"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":0.5}},{"id":"settlement-major-label","type":"symbol","source":"composite","source-layer":"place_label","maxzoom":15,"filter":["all",["<=",["get","filterrank"],4],["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["settlement","disputed_settlement"],true,false],["match",["get","worldview"],["all","US"],true,false]],["==",["get","class"],"settlement"]],["step",["zoom"],false,8,["<",["get","symbolrank"],11],10,["<",["get","symbolrank"],12],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"icon-image":"","text-font":["Lato Bold","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["literal",[0,0]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7,"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],8,["step",["get","symbolrank"],30.599999999999998,9,28.9,10,25.5],15,["step",["get","symbolrank"],47.6,9,44.199999999999996,10,39.1,11,35.699999999999996,12,34,13,32.3,15,27.2]]},"paint":{"text-halo-color":"hsla(0, 0%, 100%, 0.63)","text-halo-width":1,"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":1}},{"id":"state-label","type":"symbol","source":"composite","source-layer":"place_label","minzoom":3,"maxzoom":9,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["state","disputed_state"],true,false],["match",["get","worldview"],["all","US"],true,false]],["==",["get","class"],"state"]],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"text-size":["interpolate",["cubic-bezier",0.85,0.7,0.65,1],["zoom"],4,["step",["get","symbolrank"],13,6,12.35,7,11.700000000000001],9,["step",["get","symbolrank"],31.200000000000003,6,23.400000000000002,7,18.2]],"text-transform":"uppercase","text-font":["Lato Black","Arial Unicode MS Bold"],"text-field":["step",["zoom"],["step",["get","symbolrank"],["coalesce",["get","name_en"],["get","name"]],5,["coalesce",["get","abbr"],["get","name_en"],["get","name"]]],5,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":0.15,"text-max-width":6},"paint":{"text-color":"rgb(0, 0, 0)","text-halo-color":"hsl(216, 43%, 100%)","text-halo-width":1}},{"id":"uscongress","type":"symbol","source":"composite","source-layer":"district_centroids-c05zce","layout":{"text-field":["concat",["to-string",["get","State Code"]],"-",["get","District"]],"text-font":["Open Sans Condensed Bold","Arial Unicode MS Regular"],"text-size":["interpolate",["linear"],["zoom"],5,10,8,36],"visibility":"none"},"paint":{"text-color":"hsl(0, 0%, 100%)"}}],"created":"2020-11-25T16:18:56.139Z","modified":"2021-01-04T19:30:35.587Z","id":"ckhxm4ot50yk919pj8witkk2d","owner":"lixun910","visibility":"private","draft":false}')},615:function(e,t){},619:function(e,t,n){},620:function(e,t,n){},621:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(1),r=n(48),o=n.n(r),c=n(159),s=n(40),l=n.n(s),d=n(8),u=n(76),h=n(57),p=n(28),b=n(20),j=n(325),g=function(e,t,n,a){try{return e[t][n].indexOf(a)}catch(i){return null}},x=n(326),m=n(71),f=function(e,t,n){var a=n.nProperty,i=n.nIndex,r=n.nRange,o=n.dProperty,c=n.dIndex,s=n.dRange,l=n.nType,d=n.dType,u=n.scale;return i<r&&(Object(x.a)("nRange"),r=i),void 0===e||null!==a&&void 0===e[a]&&null!==i&&void 0===e[i]?null:"time-series"===l&&"time-series"===d?null===r&null===s?e[i]/t[c]*u:(e[i]-e[i-r])/r/((t[c]-t[c-s])/s)*u:null===o&&null===r?(e[a]||e[i])*u:null===o&&null!==r?(e[i]-e[i-r])/r*u:null!==o&&null===r?(e[a]||e[i])/(t[o]||t[c])*u:null!==o&&null!==r&&null===s?(e[i]-e[i-r])/r/(t[o]||t[c])*u:0},v=function(e,t){for(var n=[],a=0;a<e.length;a++)-1!==t.indexOf(e[a])&&n.push(a);return n},O=function(e,t){for(var n={},a=0;a<e.length;a++)n[t[a]]=e[a][2];return n},y=function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e,t,n){for(var a=e.cartogram(t,n),i={},r=0;r<a.length;r++)a[r].value=n[r],i[r]=a[r];return i},_=function(e){for(var t=0,n=0,a=Object.keys(e),i=a.length,r=0;r<i;r++)t+=e[a[r]].position[0],n+=e[a[r]].position[1];return[t/i,n/i]},S=function(e,t){for(var n={},a=0;a<e.length;a++)n[t[a]]=e[a][1];return n},D=n(698),C=n(671);function k(){return(k=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){return D.a(e,C.a)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e){return k.apply(this,arguments)},P=function(e,t){var n=t.numerator,a=t.nProperty,i=t.nIndex,r=t.denominator,o=t.dType,c=t.dIndex;if(void 0!=e[0][r]){var s=[],l=e.length;if(null===i&&null===a)for(var u=e[0][n].length-1,h="time-series"===o?e[0][r].length-1:c;l>0;)l--,s.unshift(f(e[l][n],e[l][r],Object(d.a)(Object(d.a)({},t),{},{nIndex:u,dIndex:h}))||0);else for(;l>0;)l--,s.unshift(f(e[l][n],e[l][r],t)||0);return s}},I=function(e,t,n,a){var i,r,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=Object.keys(e),s=0,l=new Array(a.length),d=-7;for(null===o?(i="count",r="sum"):(i=o+" Daily Count",r=o+" Total Cases");s<a.length;){var u={};if(-1===n.indexOf(s))u[r]=null,u[i]=null,l[s]=u,s++,d++;else{for(var h=0,p=0;p<c.length;)void 0!==e[c[p]][t]&&(h+=e[c[p]][t][s]||0),p++;u[r]=h,u.date=a[s],u[i]=d<0?h:(h-l[d][r])/7,l[s]=u,s++,d++}}return l},A=function(e,t,n){var a=performance.now(),i=t.numerator,r=t.nProperty,o=t.nIndex,c=t.denominator,s=t.dType,l=t.dIndex,u={},h=e.length;if(null===o&&null===r)for(var p=e[0][c].length-1,b="time-series"===s?e[0][c].length-1:l;h>0;)u[e[--h].properties.GEOID]=f(e[h][i],e[h][c],Object(d.a)(Object(d.a)({},t),{},{nIndex:p,dIndex:b}))||0;else for(;h>0;)u[e[--h].properties.GEOID]=f(e[h][i],e[h][c],t)||0;var j=[];h=0;for(var g=Object.keys(n);h<g.length;)j.push(u[n[g[h]]]),h++;return console.log(performance.now()-a),j},E=function(e){for(var t={},n={},a=0;a<e.length;)t[e[a].properties.GEOID]=a,n[a]=e[a].properties.GEOID,a++;return{geoidOrder:t,indexOrder:n}},L=(n(268),function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:return n=e.sent,a=n.clone(),e.next=6,y(a);case 6:return i=e.sent,e.abrupt("return",{response:n,ab:i});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e,t){var n=e.CreateQueenWeights(t,1,0,0);return{map_uuid:t,w:n,w_uuid:n.get_uid()}},N=function(e,t,n,a){for(var i=R(e,t),r=!0,o=0;o<n.length;++o)0!==n[o]&&(r=!1);var c=[],s=[];if(r)for(var l=0;l<n.length;++l)c.push(0),s.push(0);else{var d=e.local_moran(i.map_uuid,i.w_uuid,n);c=e.parseVecDouble(d.clusters()),s=e.parseVecDouble(d.significances())}return console.log(i.w_uuid),console.log(i.map_uuid),c};function M(){return(M=Object(h.a)(l.a.mark((function e(t,n,a,i){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){var t,r=D.a(e,C.a),o={},c=r.length,s=null;if(n.forEach((function(e){r[0].hasOwnProperty(e)&&(t=e)})),void 0!==i&&(s=v(i,Object.keys(r[0]))),a)for(;c>0;){c--;for(var l=0,d=new Array(i.length);l<i.length;)d[l]=(r[c][i[l]]||0)+(d[l-1]||0),l++;o[r[c][t]]=d}else if(void 0!==i)for(;c>0;){c--;for(var u=0,h=new Array(i.length);u<i.length;)h[u]=r[c][i[u]]||h[u-1],u++;o[r[c][t]]=h}else for(;c>0;)c--,o[r[c][t]]=Object.values(r[c]);return[o,Object.keys(r[0]),s]}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e,t,n,a){return M.apply(this,arguments)},F={natural_breaks:[[240,240,240],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[177,0,38]],lisa:[[255,255,255],[255,0,0],[0,0,255],[167,173,249],[244,173,168]],hinge15_breaks:[[1,102,94],[90,180,172],[199,234,229],[246,232,195],[216,179,101],[140,81,10]],uninsured:[[240,240,240],[247,252,253],[224,236,244],[191,211,230],[158,188,218],[140,150,198],[140,107,177],[136,65,157],[129,15,124]],over65:[[240,240,240],[247,252,240],[224,243,219],[204,235,197],[168,221,181],[123,204,196],[78,179,211],[43,140,190],[8,104,172]],lifeExp:[[240,240,240],[247,252,240],[224,243,219],[204,235,197],[168,221,181],[123,204,196],[78,179,211],[43,140,190],[8,104,172]],forecasting:[[239,239,239],[254,232,200],[253,187,132],[227,74,51]],testing:[[240,240,240],[13,8,135],[92,1,166],[156,23,158],[203,70,121],[237,121,83],[253,180,47],[240,249,33]],testingCap:[[240,240,240],[247,251,255],[222,235,247],[198,219,239],[158,202,225],[107,174,214],[66,146,198],[33,113,181],[8,81,156],[8,48,107]],vaccination:[[240,240,240],[252,251,253],[238,236,245],[217,216,234],[188,188,219],[158,155,201],[129,123,185],[106,81,164],[84,40,143]]},U={testing:{bins:["No Data","<3%","5%","10%","15%","20%",">25%"],breaks:[0,.03,.05,.1,.15,.2,.25,Math.pow(10,12)]},testingCap:{bins:["No Data","<50","100","150","200","250","300","350",">400"],breaks:[0,50,100,150,200,250,300,350,400,Math.pow(10,12)]},lisa:{bins:["Not significant tooltip:NotSig","High-High tooltip:HighHigh","Low-Low tooltip:LowLow","Low-High  tooltip:LowHigh","High-Low  tooltip:HighLow"]},forecasting:{bins:["N/A","Low","Medium","High"],breaks:[1,2,3,4]}},B={white:"#ffffff",black:"#00000",darkgray:"#1a1a1a",gray:"#2b2b2b",buttongray:"#f5f5f5",lightgray:"#d8d8d8",yellow:"#FFCE00",lightblue:"#A1E1E3",pairedColors:{count:["#1f78b4","#33a02c","#e31a1c","#ff7f00","#6a3d9a","#b15928"],sum:["#a6cee3","#b2df8a","#fb9a99","#fdbf6f","#cab2d6","#ffff99"]},qualtitiveScale:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]},V={"county_usfacts.geojson":{plainName:"USA Facts County",geojson:"county_usfacts.geojson",csvs:["covid_confirmed_usafacts","covid_deaths_usafacts","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID",["FIPS","fips","countyFIPS"]],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:[],dateList:{covid_confirmed_usafacts:"usDateList",covid_deaths_usafacts:"usDateList"}},"county_1p3a.geojson":{plainName:"1Point3Acres County",geojson:"county_1p3a.geojson",csvs:["covid_confirmed_1p3a","covid_deaths_1p3a","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID",["FIPS","fips","countyFIPS","GEOID"]],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:["covid_confirmed_1p3a","covid_deaths_1p3a"],dateList:{covid_confirmed_1p3a:"isoDateList",covid_deaths_1p3a:"isoDateList"}},"county_nyt.geojson":{plainName:"New York Times County",geojson:"county_nyt.geojson",csvs:["covid_confirmed_nyt","covid_deaths_nyt","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID",["FIPS","fips","countyFIPS"]],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:[],dateList:{covid_confirmed_nyt:"isoDateList",covid_deaths_nyt:"isoDateList"}},"state_1p3a.geojson":{plainName:"1Point3Acres State",geojson:"state_1p3a.geojson",csvs:["covid_confirmed_1p3a_state","covid_deaths_1p3a_state","chr_health_context_state","chr_life_state","chr_health_factors_state","covid_testing_1p3a_state","covid_wk_pos_1p3a_state","covid_tcap_1p3a_state","covid_ccpt_1p3a_state","vaccine_admin_cdc","vaccine_dist_cdc"],joinCols:["GEOID",["FIPS","fips","countyFIPS","GEOID"]],tableNames:["cases","deaths","chr_health_context","chr_life","chr_health_factors","testing","testing_wk_pos","testing_tcap","testing_ccpt","vaccinesAdmin","vaccinesDist"],accumulate:["covid_confirmed_1p3a_state","covid_deaths_1p3a_state"],dateList:{covid_confirmed_1p3a_state:"isoDateList",covid_deaths_1p3a_state:"isoDateList",covid_testing_1p3a_state:"isoDateList",covid_wk_pos_1p3a_state:"isoDateList",covid_tcap_1p3a_state:"isoDateList",covid_ccpt_1p3a_state:"isoDateList",vaccine_admin_cdc:"isoDateList",vaccine_dist_cdc:"isoDateList"}},"state_usafacts.geojson":{plainName:"USA Facts State",geojson:"state_usafacts.geojson",csvs:["covid_confirmed_usafacts_state","covid_deaths_usafacts_state","chr_health_context_state","chr_life_state","chr_health_factors_state","covid_testing_usafacts_state","covid_wk_pos_usafacts_state","covid_tcap_usafacts_state","covid_ccpt_usafacts_state"],joinCols:["GEOID",["FIPS","fips","stateFIPS"]],tableNames:["cases","deaths","chr_health_context","chr_life","chr_health_factors","testing","testing_wk_pos","testing_tcap","testing_ccpt"],accumulate:[],dateList:{covid_confirmed_usafacts_state:"usDateList",covid_deaths_usafacts_state:"usDateList"}},"state_nyt.geojson":{plainName:"New York Times State",geojson:"state_nyt.geojson",csvs:["covid_confirmed_nyt_state","covid_deaths_nyt_state","chr_health_context_state","chr_life_state","chr_health_factors_state","covid_testing_1p3a_state","covid_wk_pos_1p3a_state","covid_tcap_1p3a_state","covid_ccpt_1p3a_state","vaccine_admin_cdc","vaccine_dist_cdc"],joinCols:["GEOID",["FIPS","fips","countyFIPS"]],tableNames:["cases","deaths","chr_health_context","chr_life","chr_health_factors","testing","testing_wk_pos","testing_tcap","testing_ccpt","vaccinesAdmin","vaccinesDist"],accumulate:[],dateList:{covid_confirmed_nyt_state:"isoDateList",covid_deaths_nyt_state:"isoDateList"}},"global_jhu.geojson":{plainName:"John Hopkins University (Global)",geojson:"global_jhu.geojson",csvs:["covid_confirmed_jhu","covid_deaths_jhu"],joinCols:["GEOID",["UID"]],tableNames:["cases","deaths"],accumulate:[]},"cdc.geojson":{plainName:"Center for Disease Control County",geojson:"cdc.geojson",csvs:["covid_confirmed_usafacts","covid_deaths_usafacts","berkeley_predictions","chr_health_context","chr_life","chr_health_factors","covid_testing_cdc","covid_wk_pos_cdc","covid_tcap_cdc","covid_ccpt_cdc"],joinCols:["GEOID",["fips_code","fips","FIPS","countyFIPS"]],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors","testing","testing_wk_pos","testing_tcap","testing_ccpt"],accumulate:[],dateList:{covid_confirmed_usafacts:"usDateList",covid_deaths_usafacts:"usDateList",covid_testing_cdc:"isoDateList",covid_wk_pos_cdc:"isoDateList",covid_tcap_cdc:"isoDateList",covid_ccpt_cdc:"isoDateList"}}},W={Choropleth:Object(a.jsx)("p",{children:"A thematic map used to represent data through various shading patterns on predetermined geographic areas (counties, state)."}),NaturalBreaksFixed:Object(a.jsx)("p",{children:"A nonlinear algorithm used to group observations such that the within-group homogeneity is maximized for the latest date, bins fixed over time"}),NaturalBreaks:Object(a.jsx)("p",{children:"A nonlinear algorithm used to group observations such that the within-group homogeneity is maximized for every day, bins change over time"}),BoxMap:Object(a.jsx)("p",{children:"Mapping counterpart of the idea behind a box plot"}),Hotspot:Object(a.jsx)("p",{children:"A map showing statisically significant spatial cluster and outlier locations, color coded by type."}),LocalMoran:Object(a.jsx)("p",{children:"Local Moran used to identify local clusters and outliers"}),NotSig:Object(a.jsx)("p",{children:"Area was not statistically signficant as a spatial cluster core or outlier using given parameters."}),HighHigh:Object(a.jsx)("p",{children:"Hot Spot Cluster: area with high values, neighbored by areas with high values"}),LowLow:Object(a.jsx)("p",{children:"Cold Spot Cluster: area with low values, neighbored by areas with low values"}),HighLow:Object(a.jsx)("p",{children:"Hot Outlier: area with high values, neighbored by areas with low values"}),LowHigh:Object(a.jsx)("p",{children:"Low-High Cold Outlier: area with low values, neighbored by areas with high values"}),PovChldPrc:Object(a.jsx)("p",{children:"Percentage of children under age 18 living in poverty"}),IncRt:Object(a.jsx)("p",{children:"Ratio of household income at the 80th percentile to income at the 20th percentile"}),MedianHouseholdIncome:Object(a.jsx)("p",{children:"The income where half of households in a county earn more and half of households earn less"}),FdInsPrc:Object(a.jsx)("p",{children:"Percentage of population who lack adequate access to food"}),UnEmplyPrc:Object(a.jsx)("p",{children:"Percentage of population age 16 and older unemployed but seeking work"}),UnInPrc:Object(a.jsx)("p",{children:"Percentage of people under age 65 without insurance"}),PrmPhysRt:Object(a.jsx)("p",{children:"Ratio of population to primary care physicians"}),PrevHospRt:Object(a.jsx)("p",{children:"Rate of hospital stays for ambulatory-care sensitive conditions per 100,000 Medicare enrollees"}),RsiSgrBlckRt:Object(a.jsx)("p",{children:"Index of dissimilarity where higher values indicate greater residential segregation between Black and White county residents"}),SvrHsngPrbRt:Object(a.jsx)("p",{children:"Percentage of households with at least 1 of 4 housing problems: overcrowding, high housing costs, lack of kitchen facilities, or lack of plumbing facilities"}),Over65YearsPrc:Object(a.jsx)("p",{children:"Percentage of people ages 65 and older"}),AdObPrc:Object(a.jsx)("p",{children:"Percentage of the adult population (age 20 and older) that reports a body mass index (BMI) greater than or equal to 30 kg/m2"}),AdDibPrc:Object(a.jsx)("p",{children:"Percentage of adults aged 20 and above with diagnosed diabetes"}),SmkPrc:Object(a.jsx)("p",{children:"Percentage of adults who are current smokers"}),ExcDrkPrc:Object(a.jsx)("p",{children:"Percentage of adults reporting binge or heavy drinking"}),DrOverdMrtRt:Object(a.jsx)("p",{children:"Number of drug poisoning deaths per 100,000 population"}),LfExpRt:Object(a.jsx)("p",{children:"Average number of years a person can expect to live"}),SlfHlthPrc:Object(a.jsx)("p",{children:"Percentage of adults reporting fair or poor health"}),SeverityIndex:Object(a.jsx)("p",{children:"Indicates the severity of the local covid-19 outbreak, based on cumulative and predicted deaths"}),PredictedDeaths:Object(a.jsx)("p",{children:"Predicted number of deaths for a county"}),PredictedDeathsInterval:Object(a.jsx)("p",{children:"Margin of error for predicted death counts for a county "}),healthfactor:Object(a.jsx)("p",{children:"Health factors represent those things we can modify to improve community conditions and the length and quality of life for residents"}),healthcontext:Object(a.jsx)("p",{children:"Community Health Context reflects the existing health behaviors and demographics of individuals in the community that are influenced by the opportunities to live long and well"}),healthlife:Object(a.jsx)("p",{children:"Length and Quality of Life reflects the physical and mental well-being of residents within a community through measures representing how long and how well residents live"}),Hypersegregated:Object(a.jsxs)("p",{children:["American metropolitan areas where black residents experience hypersegregation, see ",Object(a.jsx)("a",{href:"https://www.princeton.edu/news/2015/05/18/hypersegregated-cities-face-tough-road-change",target:"_blank",rel:"noopener noreferrer",children:"here"})]}),BlackBelt:Object(a.jsxs)("p",{children:["Southern US counties that were at least 40% Black or African American in the 2000 Census, see ",Object(a.jsx)("a",{href:"https://en.wikipedia.org/wiki/Black_Belt_in_the_American_South",target:"_blank",rel:"noopener noreferrer",children:"here"})]}),TestingCapacity:Object(a.jsx)("p",{children:"New screening (e.g., antigen) and diagnostic (e.g., PCR) testing per capita rates by date. The suggested threshold is >150 daily tests per 100k people."}),USCongress:Object(a.jsxs)("p",{children:["Find your representative ",Object(a.jsx)("a",{href:"https://www.govtrack.us/",target:"_blank",rel:"noopener noreferrer",children:"here"})]}),BinModes:Object(a.jsxs)("p",{children:["Fixed bins represent data relative to the most recent date and show a consistent color scale.",Object(a.jsx)("br",{})," Dynamic bins change over time and generate new color scales based on the selected date."]})},G={"state_usafacts.geojson":["Confirmed Count","Confirmed Count per 100K Population","Confirmed Count per Licensed Bed","Death Count","Death Count per 100K Population","Death Count/Confirmed Count","Daily New Confirmed Count","Daily New Confirmed Count per 100K Pop","7-Day Average Daily New Confirmed Count","7-Day Average Daily New Confirmed Count per 100K Pop","Daily New Death Count","Daily New Death Count per 100K Pop","Forecasting (5-Day Severity Index)","7 Day Testing Positivity Rate %","7 Day Testing Capacity","7 Day Confirmed Cases per Testing %"],"county_1p3a.geojson":["Confirmed Count","Confirmed Count per 100K Population","Confirmed Count per Licensed Bed","Death Count","Death Count per 100K Population","Death Count/Confirmed Count","Daily New Confirmed Count","Daily New Confirmed Count per 100K Pop","7-Day Average Daily New Confirmed Count","7-Day Average Daily New Confirmed Count per 100K Pop","Daily New Death Count","Daily New Death Count per 100K Pop","Forecasting (5-Day Severity Index)","Uninsured % (Community Health Factor)","Over 65 Years % (Community Health Context)","Life expectancy (Length and Quality of Life)"],"county_usfacts.geojson":["Confirmed Count","Confirmed Count per 100K Population","Confirmed Count per Licensed Bed","Death Count","Death Count per 100K Population","Death Count/Confirmed Count","Daily New Confirmed Count","Daily New Confirmed Count per 100K Pop","7-Day Average Daily New Confirmed Count","7-Day Average Daily New Confirmed Count per 100K Pop","Daily New Death Count","Daily New Death Count per 100K Pop","Forecasting (5-Day Severity Index)","Uninsured % (Community Health Factor)","Over 65 Years % (Community Health Context)","Life expectancy (Length and Quality of Life)"]},Y=["native_american_reservations","segregated_cities","blackbelt","uscongressional_districts"],K=["clinic","hospital","clinic-hospitals"],X=["county_usfacts.geojson","county_1p3a.geojson","state_usafacts.geojson"],Z=function(e){var t=e.URLmapParams,n=e.URLcurrentData,a=e.URLcurrentVariable,i=e.URLviewState,r=t.overlay?"&ovr=".concat(Y.indexOf(t.overlay)):"",o=t.resource?"&res=".concat(K.indexOf(t.resource)):"",c="7-Day Average Daily New Confirmed Count"!==a?"&var=".concat(G[n].indexOf(a)):"",s="natural_breaks"!==t.mapType?"&mthd=".concat(t.mapType):"",l="county_usfacts.geojson"!==n?"&src=".concat(X.indexOf(n)):"",d="?lat=".concat(Math.round(1e3*i.latitude)/1e3,"&lon=").concat(Math.round(1e3*i.longitude)/1e3,"&z=").concat(Math.round(10*i.zoom)/10),u="cartogram"===t.vizType?"&cartogram=true":"";return"".concat(d).concat(r).concat(o).concat(c).concat(s).concat(l).concat("").concat(u,"&v=1")},q=function(e,t){return"".concat(e,"-").concat(t.numerator,"-").concat(t.nIndex,"-").concat(t.nRange,"-").concat(t.denominator,"-").concat(t.dProperty,"-").concat(t.dIndex,"-").concat(t.dRange,"-").concat(t.scale)},J=function(){var e=Object(h.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=L(t).then((function(e){return n.ReadGeojsonMap(t.split("/").slice(-1)[0],e.ab),e.response.json().then((function(e){return{data:e,geoidIndex:E(e.features)}}))})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(e,t,n,a,i){if(null===e)return null;if("natural_breaks"===a){if(0===e||-1===e&&i.includes("testing"))return n[0];for(var r=1;r<t.length;r++)if(e<t[r])return n[r];return n[0]}if(a.includes("hinge")){if(null===e)return[0,0,0,0];for(var o=1;o<t.length;o++)if(e<t[o])return n[o-1];return n[0]}},$=function(e,t,n,a,i){var r={},o={},c=e.features.length,s=parseInt(e.features[0].properties[t]);if(Number.isInteger(s))for(;c>0;)c--,r[parseInt(e.features[c].properties[t])]=e.features[c],o[parseInt(e.features[c].properties[t])]={};else for(;c>0;)c--,r[e.features[c].properties[t]]=e.features[c],o[e.features[c].properties[t]]={};for(var l=n.length;l>0;){l--;var d=Object.keys(n[l][0]);for(c=d.length;c>0;){c--;try{o[d[c]][a[l]]=n[l][0][d[c]]}catch(j){}}}for(var u=Object(m.merge)(r,o),h=[],p=Object.keys(u),b=0;b<p.length;b++)h.push(u[p[b]]);return h},ee=function(e){return{type:"SET_CURRENT_DATA",payload:{data:e}}},te=function(e){return{type:"SET_VARIABLE_PARAMS",payload:{params:e}}},ne=function(e){return{type:"SET_MAP_PARAMS",payload:{params:e}}},ae=function(e){return{type:"SET_SELECTION_DATA",payload:{data:e}}},ie=function(e){return{type:"APPEND_SELECTION_DATA",payload:{data:e}}},re=function(e){return{type:"SET_ANCHOR_EL",payload:{anchorEl:e}}},oe=function(e){return{type:"SET_PANELS",payload:{params:e}}},ce=n(17),se=n(18);function le(){var e=Object(ce.a)(["\n    position: fixed;\n    bottom:0;\n    left:50%;\n    background:",";\n    transform:translateX(-50%);\n    width:38vw;\n    max-width: 500px;\n    box-sizing: border-box;\n    padding:0 0 5px 0;\n    margin:0;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius:0.5vh 0.5vh 0 0;\n    transition:250ms all;\n    hr {\n        opacity:0.5;\n    }\n    @media (max-width:1024px){\n        width:50vw;\n        div {\n            padding-bottom:5px;\n        }\n        #binModeSwitch {\n            position:absolute !important;\n            right: 10px !important;\n            top: 10px !important;\n        }\n        #dateRangeSelector {\n            position:absolute !important;\n            left: 66% !important;\n            transform:translateX(-50%) !important;\n            top: 10px !important;\n        }\n    }\n    \n    @media (max-width:768px){\n    \n        width:100%;\n        max-width:100%;\n        padding:0;\n        left:0;\n        transform:none;\n    }\n    @media (max-width:750px) and (orientation: landscape) {\n        // bottom all the way down for landscape phone\n    }\n"]);return le=function(){return e},e}var de=se.a.div(le(),B.gray),ue=function(){Object(b.b)();var e=Object(b.c)((function(e){return e.panelState})),t=Object(i.useState)(0),n=Object(p.a)(t,2),r=n[0],o=n[1];return window.addEventListener("resize",(function(){return o(function(){try{return document.querySelector("#main-chart-container").offsetHeight}catch(e){return 0}}())})),Object(a.jsx)(de,{bottom:e.chart?0:r,id:"bottomPanel",children:Object(a.jsx)($t,{})})},he=n(672),pe=n(689),be=n(699);function je(){var e=Object(ce.a)(["\n    width:12.5px;\n    height:12.5px;\n    background:url('","/assets/img/info.png');\n    background-repeat: no-repeat;\n    background-size: cover;\n    outline:none;\n    border:none;\n    padding:0;\n    margin:4px;\n"]);return je=function(){return e},e}var ge=se.a.button(je(),"."),xe=function(e){var t=Object(b.b)();return Object(a.jsx)(ge,{id:e.id,onMouseEnter:function(e){t(re(e.currentTarget))},onMouseLeave:function(){t(re(null))}},e.id)},me=n(62),fe=n(687);function ve(){var e=Object(ce.a)(["\n    display:inline;\n    padding:0;\n    margin:0;\n    align-self:flex-start;\n"]);return ve=function(){return e},e}var Oe=se.a.div(ve()),ye=function(e){var t=e.cx,n=e.cy,i=e.index,r=e.color,o=e.angle;return 13===i?Object(a.jsx)("svg",{x:t-10,y:n-10,width:20,height:20,fill:r,viewBox:"0 0 500 500",children:Object(a.jsx)("polygon",{points:"50,125 50,375 375,250",transform:"rotate(".concat(o," 250 250)")})}):null},we=function(e){var t=e.data.map((function(t){return{val:t/e.data[0]}})),n=fe.a().domain([0,.5,1]).range({"cases/deaths":["green","yellow","red"],testingCap:["#f7fbff","#f7fbff","#08306b"],testingPos:["#0d0887","#cb4679","#f0f921"],vaccination:["#fcfbfd","#bcbcdb","#54288f"]}[e.schema]),i=e.data[13]-e.data[0],r=function(e,t){return n(e/t+.5)};return Object(a.jsx)(Oe,{children:Object(a.jsxs)(me.d,{data:t,width:60,height:30,children:[Object(a.jsx)(me.i,{domain:["dataMin","dataMax"],hide:!0}),Object(a.jsx)(me.c,{type:"linear",dataKey:"val",stroke:r(i,e.data[0]),strokeWidth:2,isAnimationActive:!1,dot:Object(a.jsx)(ye,{color:r(i,e.data[0]),angle:function(e,t){var n=e/t;return n>=.5?-60:n<=-.5?60:-1*n*60}(e.data[12]-e.data[10],e.data[12])})})]})})},_e=Object(a.jsxs)("svg",{viewBox:"0 0 50 50",children:[Object(a.jsx)("circle",{className:"cls-1",cx:"25.43",cy:"24.63",r:"15.4",transform:"translate(-3.28 3.92) rotate(-8.28)"}),Object(a.jsx)("path",{className:"cls-2",d:"M28.87,47.49l-7.07,0L22,41.58a17.18,17.18,0,0,0,6.74,0Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M28.84,7.68a17.18,17.18,0,0,0-6.74,0l-.16-5.89H29Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M44,38.35l-5,5L35,39a17.33,17.33,0,0,0,4.78-4.76Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M15.85,10.22A17.19,17.19,0,0,0,11.07,15L6.8,10.92l5-5Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M48.27,21.17l0,7.08-5.88-.19a17.23,17.23,0,0,0,0-6.75Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M8.45,21.2a17.37,17.37,0,0,0,0,6.74l-5.89.16,0-7.08Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M39.12,6l5,5-4.29,4a17.43,17.43,0,0,0-4.75-4.78Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M11,34.2A17.16,17.16,0,0,0,15.75,39L11.7,43.25l-5-5Z"})]}),Se=Object(a.jsxs)("svg",{viewBox:"0 0 50 50",children:[Object(a.jsx)("rect",{x:"0.03",y:"0.19",width:"49.93",height:"3.85",rx:"1"}),Object(a.jsx)("rect",{x:"0.03",y:"8.4",width:"46.19",height:"3.85",rx:"1"}),Object(a.jsx)("rect",{x:"0.03",y:"21.12",width:"49.93",height:"3.85",rx:"1"}),Object(a.jsx)("rect",{x:"0.03",y:"29.58",width:"49.93",height:"3.85",rx:"1"}),Object(a.jsx)("rect",{x:"0.03",y:"38.04",width:"43.69",height:"3.85",rx:"1"}),Object(a.jsx)("rect",{x:"0.03",y:"46.15",width:"49.93",height:"3.85",rx:"1"})]}),De=Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M52.5,21.4c-1.9,0-3.6,1.3-4.1,3.1L37.9,63.7l-6.4-11.1c-1.2-2-3.7-2.7-5.7-1.5c-0.3,0.2-0.6,0.4-0.9,0.7\r L10.1,66.6c-1.7,1.6-1.7,4.2-0.2,5.9c1.6,1.7,4.2,1.7,5.9,0.2c0.1,0,0.1-0.1,0.1-0.1L27,61.5l8.7,15.1c1.2,2,3.7,2.7,5.7,1.5\r c0.9-0.6,1.6-1.5,1.9-2.5l9.1-33.9l4.6,17.2c0.6,2.2,2.9,3.5,5.1,2.9c1.1-0.3,2-1,2.5-1.9l10.4-18l8.9,9.4c1.6,1.7,4.2,1.8,5.9,0.3\r s1.8-4.2,0.3-5.9c0,0-0.1-0.1-0.1-0.1L77.3,32.1c-1.6-1.7-4.2-1.8-5.9-0.2c-0.3,0.3-0.6,0.6-0.8,1L62.5,47l-6-22.5\r C56,22.7,54.4,21.4,52.5,21.4L52.5,21.4z"})})}),Ce=Object(a.jsx)("svg",{viewBox:"0 0 100 100",x:"0px",y:"0px",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M 62.0763 27.4552 C 64.0258 25.642 65 23.4406 65 20.8589 C 65 18.2815 64.0258 16.0809 62.0763 14.2511 C 60.1273 12.4207 57.7859 11.5 55.0413 11.5 C 52.3076 11.5 49.9438 12.4207 47.9833 14.2511 C 46.0343 16.0809 45.0487 18.2815 45.0487 20.8589 C 45.0487 23.4406 46.0343 25.642 47.9833 27.4552 C 49.9438 29.2682 52.3076 30.178 55.0413 30.178 C 57.7859 30.178 60.1273 29.2682 62.0763 27.4552 ZM 57.5841 88.0802 C 61.1017 86.4348 62.9616 83.3419 61.1353 81.9274 C 60.0823 81.1132 58.7041 82.4604 57.6963 82.4604 C 55.5343 82.4604 54.0103 82.1065 53.1367 81.3939 C 52.2518 80.6754 51.8261 79.3446 51.8261 77.3796 C 51.8261 76.5942 51.9493 75.4433 52.2182 73.9213 C 52.487 72.395 52.8007 71.0302 53.1367 69.8404 L 57.3153 55.0418 C 57.7073 53.683 57.9988 52.1893 58.1554 50.5672 C 58.301 48.9276 58.3798 47.7935 58.3798 47.1533 C 58.3798 44.0378 57.2817 41.5004 55.0971 39.5465 C 52.9237 37.5991 49.8094 36.6159 45.7765 36.6159 C 43.5361 36.6159 41.1501 36.9472 38.652 37.8117 C 33.7564 39.5293 34.8432 43.7968 35.9296 43.7968 C 38.1364 43.7968 39.6152 44.1722 40.3995 44.9193 C 41.1837 45.6604 41.5868 46.9796 41.5868 48.8828 C 41.5868 49.9269 41.4413 51.1007 41.1947 52.3689 C 40.9369 53.6381 40.635 54.9909 40.2541 56.4111 L 36.053 71.2659 C 35.6947 72.8267 35.4253 74.2246 35.2463 75.4648 C 35.0784 76.7058 35 77.9187 35 79.1091 C 35 82.1578 36.12 84.6722 38.3716 86.6596 C 40.6238 88.6528 44.0854 90.5 48.1405 90.5 C 50.7731 90.5 54.537 89.518 57.5841 88.0802 Z"})})}),ke=Object(a.jsx)("svg",{viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("svg",{fill:"#000000",viewBox:"0 0 8.4666665 8.4666669",children:Object(a.jsx)("g",{transform:"translate(0,-288.53333)",children:Object(a.jsx)("path",{d:"m 0.52916618,289.0625 v 1.05833 H 1.0583328 v -0.52916 h 0.5291667 v -0.52917 z m 1.58750012,0 v 0.52917 h 1.0583333 v -0.52917 z m 1.5875,0 v 0.52917 h 1.0583333 v -0.52917 z m 1.5875,0 v 0.52917 h 1.0583333 v -0.52917 z m 1.5875,0 v 0.52917 H 7.408333 v 0.52916 H 7.9374996 V 289.0625 Z M 0.52916618,290.65 v 1.05833 H 1.0583328 V 290.65 Z m 6.87916682,0 v 1.05833 H 7.9374996 V 290.65 Z m -6.87916682,1.5875 v 1.05833 H 1.0583328 v -1.05833 z m 6.87916682,0 v 1.05833 h 0.5291666 v -1.05833 z m -6.87916682,1.5875 v 1.05833 H 1.0583328 V 293.825 Z m 6.87916682,0 v 1.05833 H 7.9374996 V 293.825 Z m -6.87916682,1.5875 v 1.05833 H 1.5874995 v -0.52916 H 1.0583328 v -0.52917 z m 6.87916682,0 v 0.52917 H 6.8791663 v 0.52916 h 1.0583333 v -1.05833 z m -5.2916667,0.52917 v 0.52916 h 1.0583333 v -0.52916 z m 1.5875,0 v 0.52916 h 1.0583333 v -0.52916 z m 1.5875,0 v 0.52916 h 1.0583333 v -0.52916 z"})})})})});function Te(){var e=Object(ce.a)(["\n    position:absolute;\n    left:5px;\n    bottom:50%;\n    background:none;\n    outline:none;\n    border:none;\n    transform: translateY(-50%);\n    cursor:grab;\n    width:10px;\n    padding:0;\n    margin:0;\n    height:20px;\n    svg {\n      width:15px;\n      height:30px;\n      fill:white;\n    }\n    @media (max-width:1024px) {\n      display:none;\n    }\n"]);return Te=function(){return e},e}function Pe(){var e=Object(ce.a)(["\n  outline:none;\n  border:none;\n  position:absolute !important;\n  right:25px;\n  top:15px;\n  div.MuiInputBase-root:before {\n    display:none !important;\n  }\n  div.MuiInputBase-root:after {\n    display:none !important;\n  }\n  svg {\n    path {\n      fill:white;\n    }\n  }\n\n"]);return Pe=function(){return e},e}function Ie(){var e=Object(ce.a)(["\n    padding-right:20px;\n    box-sizing:border-box;\n    // width:100%;\n    // display:inline-block;\n    padding: 0;\n    margin: 0;\n"]);return Ie=function(){return e},e}function Ae(){var e=Object(ce.a)(["\n    padding:5px 0 0 30px;\n    box-sizing:border-box;\n    overflow-x:visible;\n    // display:flex;\n    // flex-direction:column;\n    // flex-wrap:wrap;\n    // width:500px;\n    // columns:"," 250px;\n    // column-gap:10px;\n    // display:inline-block;\n    h3 {\n      font-size:",";\n      display:",";\n      margin:",";\n      padding:",";\n      &:before {\n        content: ': ';\n        display: ",';\n      }\n      &:after {\n        content:" ";\n        white-space:pre;\n        height:0;\n        display: ',";\n      }\n    }\n    div.numberChartContainer {\n      width:100%;\n      display:",";\n      align-items: center;\n    }\n    div.numberContainer {\n      display:",";\n    }\n    .bigOnly {\n      display: ",";\n    }\n    \n"]);return Ae=function(){return e},e}function Ee(){var e=Object(ce.a)(["\n  height:100vh;\n  overflow-y:scroll;\n"]);return Ee=function(){return e},e}function Le(){var e=Object(ce.a)(["\n  display: ",";\n  position:fixed;\n  min-width:250px;\n  right:0;\n  top:50px;\n  overflow-x:visible;\n  height:calc(100vh - 50px);\n  background-color: ","fa;\n  box-shadow: -2px 0px 5px rgba(0,0,0,0.7);\n  padding:20px;\n  box-sizing: border-box;\n  transition:250ms all;\n  font: 'Lato', sans-serif;\n  color: white;\n  font-size:100%;\n  padding:0;\n  z-index:5;\n  transform: translateX(100%);\n  &.open {\n    transform:none;\n  }\n  @media (max-width:1024px) {\n    min-width:50vw;\n  }  \n  @media (max-width:600px) {\n    width:100%;\n    left:0;\n    transform:translateX(-100%);\n    z-index:51;\n    &.open {\n      transform:none;\n    }\n    display: ",";\n  }\n  button#showHideRight {\n    position:absolute;    \n    right:calc(100% - 20px);\n    top:20px;\n    width:40px;\n    height:40px;\n    padding:0;\n    margin:0;\n    background-color: ",";\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\n    outline:none;\n    border:none;\n    cursor: pointer;\n    transition:500ms all;\n    svg {\n      width:15px;\n      height:15px;\n      margin:12.5px 0 0 0;\n      @media (max-width:600px){\n        width:20px;\n        height:20px;\n        margin:5px;\n      }\n      fill:white;\n      transform:rotate(180deg);\n      transition:500ms all;\n    }\n    :after {\n      opacity:0;\n      font-weight:bold;\n      color:white;\n      position: relative;\n      top:-17px;\n      transition:500ms all;\n      content: 'Report';\n      right:50px;\n      z-index:4;\n    }  \n    &.hidden {\n      right:100%;\n      svg {\n        transform:rotate(0deg);\n      }\n      :after {\n        opacity:1;\n      }\n    }\n    @media (max-width:768px){\n      top:120px;\n    }\n    @media (max-width:600px) {\n      left:100%;\n      width:30px;\n      height:30px;\n      top:180px;\n      &.hidden svg {\n        transform:rotate(0deg);\n      }\n      :after {\n        display:none;\n      }\n      &.active {\n        left:90%;\n      }\n      &.active svg {\n        transform:rotate(90deg);\n      }\n    }\n  }\n  \n\n  div {\n    div {\n      p {\n        line-height:1.5;\n        margin:0;\n        display:inline-block;\n      }\n    }\n  }\n  h2 {\n    padding:15px 0 5px 0;\n    margin:0;\n    display:inline-block;\n    max-width:200px;\n  }\n  h6 {\n    padding:0 0 15px 0;\n    margin:0;\n    a {\n      color:",";\n      text-decoration:none;\n    }\n  }\n  .extraPadding {\n    padding-bottom:20vh;\n  }\n"]);return Le=function(){return e},e}var ze=se.a.div(Le(),(function(e){return 0===e.dataLength?"none":"initial"}),B.gray,(function(e){return e.otherPanels||0===e.dataLength?"none":"initial"}),B.gray,B.yellow),Re=se.a.div(Ee()),Ne=se.a.div(Ae(),(function(e){return e.cols}),(function(e){return e.expanded?"150%":"100%"}),(function(e){return e.expanded?"block":"inline"}),(function(e){return e.expanded?"0":"0 15px 0 0"}),(function(e){return e.expanded?"0 0 15px 0 !important":"0"}),(function(e){return e.expanded?"none":"initial"}),(function(e){return e.expanded?"none":"block"}),(function(e){return e.expanded?"flex":"inline"}),(function(e){return e.expanded?"flex":"inline"}),(function(e){return e.expanded?"initial":"none"})),Me=se.a.span(Ie()),He=Object(se.a)(he.a)(Pe()),Fe=(se.a.button(Te()),function(){var e,t,n,r,o,c,s,l,d,u,h,j,x=Object(b.b)(),m=Object(b.c)((function(e){return e.storedData})),v=Object(b.c)((function(e){return e.currentData})),O=Object(b.c)((function(e){return e.dataParams.nIndex})),y=Object(b.c)((function(e){return e.dates})),w=Object(b.c)((function(e){return e.selectionKeys})),_=Object(b.c)((function(e){return e.selectionIndex})),S=Object(b.c)((function(e){return e.panelState})),D=Object(b.c)((function(e){return e.cols})),C=["properties","cases","deaths","predictions","chr_health_factors","chr_life","chr_health_context","testing_ccpt","testing_tcap","testing_wk_pos","testing","vaccinesAdmin"].map((function(e){return void 0!==m[v]&&m[v][0].hasOwnProperty(e)})),k=Object(p.a)(C,12),T=k[0],P=k[1],I=k[2],A=k[3],E=k[4],L=k[5],z=k[6],R=(k[7],k[8],k[9],k[10]),N=k[11],M=Object(i.useState)(!0),H=Object(p.a)(M,2),F=H[0],U=H[1],B=Object(i.useState)(250),V=Object(p.a)(B,2),W=(V[0],V[1],Object(i.useState)(1)),G=Object(p.a)(W,2),Y=(G[0],G[1],Object(i.useState)(!1)),K=Object(p.a)(Y,2),X=(K[0],K[1],function(e){return"".concat(e.slice(-2)[0],"/").concat(e.slice(-1)[0])}),Z=function(e,t,n){var a=function(e,t){return e+t};switch(t){case"sum":return e.reduce(a);case"average":return e.reduce(a)/e.length;case"weighted_average":return Math.round(e.reduce(a)/n*100)/100;default:return null}},q=function(e,t,n){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=0;return a="weighted_average"===n?_.map((function(n){var a=m[v][n].properties.population;if(r+=a,"pcp"===i)try{return parseInt(m[v][n][e][t].split(":")[0])*a}catch(o){return 0}return m[v][n][e][t]*a})):_.map((function(n){return m[v][n][e][t]})),Z(a,n,r)},J=function(e,t,n){var a,i=0;return a="weighted_average"===n?_.map((function(n){var a=m[v][n].properties.population;return i+=a,m[v][n][e].slice(t)[0]*a})):_.map((function(n){return m[v][n][e].slice(t)[0]})),Z(a,n,i)},Q=function(e,t,n){for(var a=[],i=-13;i<1;i++)a.push(t+i);return a.map((function(t){return J(e,t,n)}))},$=function(e,t,n,a){var i,r=0;return i="weighted_average"===a?_.map((function(a){var i=m[v][a].properties.population;return r+=i,f(m[v][a][e],m[v][a][t],n)*i})):_.map((function(a){return f(m[v][a][e],m[v][a][t],n)})),Z(i,a,r)};return Object(a.jsxs)(ze,{className:S.info?"open":"",id:"data-panel",otherPanels:S.variables,dataLength:w.length,children:[T&&Object(a.jsx)(He,{children:Object(a.jsxs)(pe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null,onChange:function(e){U(e.target.value)},children:[Object(a.jsx)(be.a,{value:!0,children:"Expanded"}),Object(a.jsx)(be.a,{value:!1,children:"Compact"})]})}),Object(a.jsx)(Re,{children:Object(a.jsxs)(Ne,{expanded:F,children:[Object(a.jsxs)(Me,{children:[T&&_.length<4&&Object(a.jsx)("h2",{children:w.map((function(e,t){return t===w.length-1?1===w.length?e:"and ".concat(e):"".concat(e,", ")}))}),T&&_.length>=4&&Object(a.jsx)("h2",{children:v.includes("county")||v.includes("cdc")?"Selected Counties":"Selected States"}),Object(a.jsx)("br",{}),T&&_.length&&Object(a.jsxs)("span",{children:[Object(a.jsx)("h4",{children:y[O]}),Object(a.jsx)("p",{children:"Population"}),Object(a.jsx)("h3",{children:q("properties","population","sum").toLocaleString("en")})]})]}),P&&I&&_.length&&Object(a.jsxs)(Me,{children:[Object(a.jsx)("p",{children:"Total Cases"}),Object(a.jsxs)("div",{className:"numberChartContainer",children:[Object(a.jsx)("h3",{children:null===(e=J("cases",O,"sum"))||void 0===e?void 0:e.toLocaleString("en")}),F&&Object(a.jsx)(we,{data:Q("cases",O,"sum"),schema:"cases/deaths"})]}),Object(a.jsx)("p",{children:"Total Deaths "}),Object(a.jsxs)("div",{className:"numberChartContainer",children:[Object(a.jsx)("h3",{children:null===(t=J("deaths",-1,"sum"))||void 0===t?void 0:t.toLocaleString("en")}),F&&Object(a.jsx)(we,{data:Q("deaths",O,"sum"),schema:"cases/deaths"})]}),Object(a.jsx)("p",{children:"Cases per 100k Population"}),Object(a.jsx)("h3",{children:null===(n=$("cases","properties",{nProperty:null,nIndex:O,nRange:null,dProperty:"population",dIndex:null,dRange:null,scale:1e5},"weighted_average"))||void 0===n?void 0:n.toFixed(2).toLocaleString("en")}),Object(a.jsx)("p",{children:"Deaths per 100k Population"}),Object(a.jsx)("h3",{children:null===(r=$("deaths","properties",{nProperty:null,nIndex:O,nRange:null,dProperty:"population",dIndex:null,dRange:null,scale:1e5},"weighted_average"))||void 0===r?void 0:r.toFixed(2).toLocaleString("en")}),Object(a.jsx)("p",{children:"New Cases per 100k Population"}),Object(a.jsx)("h3",{children:null===(o=$("cases","properties",{nProperty:null,nIndex:O,nRange:1,dProperty:"population",dIndex:null,dRange:null,scale:1e5},"weighted_average"))||void 0===o?void 0:o.toFixed(2).toLocaleString("en")}),Object(a.jsx)("p",{children:"New Deaths per 100k Population"}),Object(a.jsx)("h3",{children:null===(c=$("deaths","properties",{nProperty:null,nIndex:O,nRange:1,dProperty:"population",dIndex:null,dRange:null,scale:1e5},"weighted_average"))||void 0===c?void 0:c.toFixed(2).toLocaleString("en")}),Object(a.jsx)("p",{children:"Licensed Hospital Beds"}),Object(a.jsx)("h3",{children:q("properties","beds","sum").toLocaleString("en")})]}),R&&_.length&&Object(a.jsxs)(Me,{children:[Object(a.jsx)("h2",{children:"Testing"}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"7-Day Positivity Rate"}),Object(a.jsxs)("div",{className:"numberChartContainer",children:[Object(a.jsxs)("h3",{children:[Math.round(100*J("testing_wk_pos",O,"weighted_average")),"%"]}),F&&Object(a.jsx)(we,{data:Q("testing_wk_pos",O,"weighted_average"),schema:"testingPos"})]}),Object(a.jsxs)("p",{children:["7-Day Testing Capacity",Object(a.jsx)("br",{className:"bigOnly"})," per 100k People"]}),Object(a.jsxs)("div",{className:"numberChartContainer",children:[Object(a.jsx)("h3",{children:Math.round(100*J("testing_tcap",O,"weighted_average"))/100}),F&&Object(a.jsx)(we,{data:Q("testing_tcap",O,"weighted_average"),schema:"testingCap"})]}),Object(a.jsx)("p",{children:"Total Testing"}),Object(a.jsx)("h3",{children:null===(s=J("testing",O,"sum"))||void 0===s?void 0:s.toLocaleString("en")}),Object(a.jsxs)("p",{children:["7-Day Confirmed Cases",Object(a.jsx)("br",{className:"bigOnly"}),"  per Testing"]}),Object(a.jsxs)("h3",{children:[Math.round(100*(null===(l=J("testing_ccpt",O,"weighted_average"))||void 0===l?void 0:l.toLocaleString("en"))),"%"]}),Object(a.jsx)("p",{children:"Testing Criterion"}),Object(a.jsx)("br",{className:"bigOnly"}),Object(a.jsx)("h3",{children:function(e,t){for(var n=_.map((function(n){return m[v][n][e][t]})),a={},i=0;i<n.length;i++)void 0===a[n[i]]?a[n[i]]=1:a[n[i]]+=1;for(var r=[],o=0;o<Object.keys(a).length;o++)r.push("".concat([Object.keys(a)[o]],": ").concat(Math.round(a[Object.keys(a)[o]]/n.length*1e4)/100,"%"));return r}("properties","criteria").map((function(e){return Object(a.jsxs)("span",{children:[e,Object(a.jsx)("br",{})]})}))})]}),N&&_.length&&Object(a.jsxs)(Me,{children:[Object(a.jsx)("h2",{children:"COVID Vaccination"}),Object(a.jsx)("br",{}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://covid.cdc.gov/covid-data-tracker/#vaccinations",target:"_blank",rel:"noopener noreferrer",children:"CDC COVID Data Tracker"})]}),Object(a.jsx)("p",{children:"Vaccines Administered"}),Object(a.jsxs)("div",{className:"numberChartContainer",children:[Object(a.jsx)("h3",{children:null===(d=Math.round(J("vaccinesAdmin",O,"weighted_average")))||void 0===d?void 0:d.toLocaleString("en")}),F&&Object(a.jsx)(we,{data:Q("vaccinesAdmin",O,"weighted_average"),schema:"vaccination"})]}),Object(a.jsxs)("p",{children:["Vaccines Administered",Object(a.jsx)("br",{className:"bigOnly"})," Per 100k Population"]}),Object(a.jsx)("h3",{children:null===(u=$("vaccinesAdmin","properties",{nProperty:null,nIndex:O,nRange:null,dProperty:"population",dIndex:null,dRange:null,scale:1e5},"weighted_average"))||void 0===u?void 0:u.toFixed(2).toLocaleString("en")}),Object(a.jsx)("p",{children:"Vaccines Distributed"}),Object(a.jsxs)("div",{className:"numberChartContainer",children:[Object(a.jsx)("h3",{children:null===(h=Math.round(J("vaccinesDist",O,"weighted_average")))||void 0===h?void 0:h.toLocaleString("en")}),F&&Object(a.jsx)(we,{data:Q("vaccinesDist",O,"weighted_average"),schema:"vaccination"})]}),Object(a.jsxs)("p",{children:["Vaccines Distributed",Object(a.jsx)("br",{className:"bigOnly"}),"  Per 100k Population"]}),Object(a.jsx)("h3",{children:null===(j=$("vaccinesDist","properties",{nProperty:null,nIndex:O,nRange:null,dProperty:"population",dIndex:null,dRange:null,scale:1e5},"weighted_average"))||void 0===j?void 0:j.toFixed(2).toLocaleString("en")})]}),E&&_.length&&Object(a.jsxs)(Me,{children:[Object(a.jsxs)("h2",{children:["Community Health Factors",Object(a.jsx)(xe,{id:"healthfactor"})]}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://www.countyhealthrankings.org/",target:"_blank",rel:"noopener noreferrer",children:"County Health Rankings"})]}),Object(a.jsx)("p",{children:"Children in poverty"}),Object(a.jsx)(xe,{id:"PovChldPrc"}),Object(a.jsxs)("h3",{children:[q("chr_health_factors",g(D,v,"chr_health_factors","PovChldPrc"),"weighted_average"),"%"]}),Object(a.jsxs)("p",{children:["Income inequality",Object(a.jsx)(xe,{id:"IncRt"})]}),Object(a.jsx)("h3",{children:q("chr_health_factors",g(D,v,"chr_health_factors","IncRt"),"weighted_average")}),Object(a.jsx)("p",{children:"Median household income"}),Object(a.jsx)(xe,{id:"MedianHouseholdIncome"}),Object(a.jsxs)("h3",{children:["$",q("chr_health_factors",g(D,v,"chr_health_factors","MedianHouseholdIncome"),"weighted_average").toLocaleString("en")]}),Object(a.jsx)("p",{children:"Food insecurity"}),Object(a.jsx)(xe,{id:"FdInsPrc"}),Object(a.jsxs)("h3",{children:[q("chr_health_factors",g(D,v,"chr_health_factors","FdInsPrc"),"weighted_average"),"%"]}),Object(a.jsx)("p",{children:"Unemployment"}),Object(a.jsx)(xe,{id:"UnEmplyPrc"}),Object(a.jsxs)("h3",{children:[q("chr_health_factors",g(D,v,"chr_health_factors","UnEmplyPrc"),"weighted_average"),"%"]}),Object(a.jsx)("p",{children:"Uninsured"}),Object(a.jsx)(xe,{id:"UnInPrc"}),Object(a.jsxs)("h3",{children:[q("chr_health_factors",g(D,v,"chr_health_factors","UnInPrc"),"weighted_average"),"%"]}),Object(a.jsx)("p",{children:"Primary care physicians"}),Object(a.jsx)(xe,{id:"PrmPhysRt"}),Object(a.jsxs)("h3",{children:[Math.round(q("chr_health_factors",g(D,v,"chr_health_factors","PrmPhysRt"),"weighted_average","pcp")),":1"]}),Object(a.jsx)("p",{children:"Preventable hospital stays"}),Object(a.jsx)(xe,{id:"PrevHospRt"}),Object(a.jsx)("h3",{children:q("chr_health_factors",g(D,v,"chr_health_factors","PrevHospRt"),"sum")}),Object(a.jsx)("p",{children:"Residential segregation black/white"}),Object(a.jsx)("h3",{children:q("chr_health_factors",g(D,v,"chr_health_factors","RsiSgrBlckRt"),"weighted_average")}),Object(a.jsx)("p",{children:"Severe housing problems"}),Object(a.jsx)(xe,{id:"SvrHsngPrbRt"}),Object(a.jsxs)("h3",{children:[q("chr_health_factors",g(D,v,"chr_health_factors","SvrHsngPrbRt"),"weighted_average"),"%"]})]}),z&&_.length&&Object(a.jsxs)(Me,{children:[Object(a.jsxs)("h2",{children:["Community Health Context",Object(a.jsx)(xe,{id:"healthcontext"})]}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://www.countyhealthrankings.org/",target:"_blank",rel:"noopener noreferrer",children:"County Health Rankings"})]}),Object(a.jsxs)("p",{children:["65 and older",Object(a.jsx)(xe,{id:"Over65YearsPrc"})]}),Object(a.jsxs)("h3",{children:[q("chr_health_context",g(D,v,"chr_health_context","Over65YearsPrc"),"weighted_average"),"%"]}),Object(a.jsxs)("p",{children:["Adult obesity",Object(a.jsx)(xe,{id:"AdObPrc"})]}),Object(a.jsxs)("h3",{children:[q("chr_health_context",g(D,v,"chr_health_context","AdObPrc"),"weighted_average"),"%"]}),Object(a.jsxs)("p",{children:["Diabetes prevalence",Object(a.jsx)(xe,{id:"AdDibPrc"})]}),Object(a.jsxs)("h3",{children:[q("chr_health_context",g(D,v,"chr_health_context","AdDibPrc"),"weighted_average"),"%"]}),Object(a.jsxs)("p",{children:["Adult smoking",Object(a.jsx)(xe,{id:"SmkPrc"})]}),Object(a.jsxs)("h3",{children:[q("chr_health_context",g(D,v,"chr_health_context","SmkPrc"),"weighted_average"),"%"]}),Object(a.jsxs)("p",{children:["Excessive drinking",Object(a.jsx)(xe,{id:"ExcDrkPrc"})]}),Object(a.jsxs)("h3",{children:[q("chr_health_context",g(D,v,"chr_health_context","ExcDrkPrc"),"weighted_average"),"%"]}),Object(a.jsxs)("p",{children:["Drug overdose deaths",Object(a.jsx)(xe,{id:"DrOverdMrtRt"})]}),Object(a.jsx)("h3",{children:q("chr_health_context",g(D,v,"chr_health_context","DrOverdMrtRt"),"sum")||0})]}),L&&_.length&&Object(a.jsxs)(Me,{expanded:F,children:[Object(a.jsxs)("h2",{children:["Length & Quality of Life",Object(a.jsx)(xe,{id:"healthlife"})]}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://www.countyhealthrankings.org/",target:"_blank",rel:"noopener noreferrer",children:"County Health Rankings"})]}),Object(a.jsxs)("p",{children:["Life expectancy",Object(a.jsx)(xe,{id:"LfExpRt"})]}),Object(a.jsx)("h3",{children:q("chr_life",g(D,v,"chr_life","LfExpRt"),"weighted_average")}),Object(a.jsxs)("p",{children:["Self-rated health",Object(a.jsx)(xe,{id:"SlfHlthPrc"})]}),Object(a.jsxs)("h3",{children:[q("chr_life",g(D,v,"chr_life","SlfHlthPrc"),"weighted_average"),"%"]})]}),A&&D[v]&&D[v].predictions&&_.length&&Object(a.jsxs)(Me,{children:[Object(a.jsx)("h2",{children:"Forecasting"}),Object(a.jsx)("br",{}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://github.com/Yu-Group/covid19-severity-prediction/",target:"_blank",rel:"noopener noreferrer",children:"Yu Group at Berkeley"})]}),Object(a.jsxs)("p",{children:["5-Day Severity Index",Object(a.jsx)(xe,{id:"SeverityIndex"})]}),Object(a.jsxs)("h3",{children:[" ",["","Low","Medium","High"][Math.round(q("predictions",1,"weighted_average"))]]}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",X(D[v].predictions[2].split("_")),Object(a.jsx)(xe,{id:"PredictedDeaths"})]}),Object(a.jsx)("h3",{children:Math.round(10*q("predictions",2,"sum"))/10}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",X(D[v].predictions[4].split("_")),Object(a.jsx)(xe,{id:"PredictedDeaths"})]}),Object(a.jsx)("h3",{children:Math.round(10*q("predictions",4,"sum"))/10}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",X(D[v].predictions[6].split("_")),Object(a.jsx)(xe,{id:"PredictedDeaths"})]}),Object(a.jsx)("h3",{children:Math.round(10*q("predictions",6,"sum"))/10}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",X(D[v].predictions[8].split("_")),Object(a.jsx)(xe,{id:"PredictedDeaths"})]}),Object(a.jsx)("h3",{children:Math.round(10*q("predictions",8,"sum"))/10}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",X(D[v].predictions[10].split("_")),Object(a.jsx)(xe,{id:"PredictedDeaths"})]}),Object(a.jsx)("h3",{children:Math.round(10*q("predictions",10,"sum"))/10}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",X(D[v].predictions[12].split("_")),Object(a.jsx)(xe,{id:"PredictedDeaths"})]}),Object(a.jsx)("h3",{children:Math.round(10*q("predictions",12,"sum"))/10}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",X(D[v].predictions[14].split("_")),Object(a.jsx)(xe,{id:"PredictedDeaths"})]}),Object(a.jsx)("h3",{children:Math.round(10*q("predictions",14,"sum"))/10})]}),Object(a.jsx)("div",{className:"extraPadding"}),T&&Object(a.jsx)("button",{onClick:function(){return S.info?x(oe({info:!1})):x(oe({info:!0}))},id:"showHideRight",className:S.info?"active":"hidden",children:Se})]})})]})}),Ue=n(676),Be=n(700),Ve=n(623);function We(){var e=Object(ce.a)(["\n  display:inline-block;\n  transform:translateY(10px);\n  opacity: ",";\n  pointer-events: ",";\n  p { \n    display: inline;\n    color:white;\n    transform:translateY(5px);\n  }\n  span.MuiSwitch-track {\n      background-color:",";\n  }\n  .MuiSwitch-colorSecondary.Mui-checked {\n      color:",";\n  }\n  .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\n      background-color: ",";\n  }\n  .MuiSwitch-colorSecondary:hover {\n      background-color:","55;\n  }\n"]);return We=function(){return e},e}function Ge(){var e=Object(ce.a)(["\n  padding-top:4px !important;\n  p { \n    display: inline;\n    color:white;\n    transform:translateY(5px);\n  }\n  span.MuiSwitch-track {\n      background-color:",";\n  }\n  .MuiSwitch-colorSecondary.Mui-checked {\n      color:",";\n  }\n  .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\n      background-color: ",";\n  }\n  .MuiSwitch-colorSecondary:hover {\n      background-color:","55;\n  }\n"]);return Ge=function(){return e},e}function Ye(){var e=Object(ce.a)(["\n  .MuiFormLabel-root {\n    display:none;\n  }\n  padding:10px 0 5px 20px !important;\n  label + .MuiInput-formControl {\n    margin-top:0;\n  }\n"]);return Ye=function(){return e},e}function Ke(){var e=Object(ce.a)(["\n  margin:0 10px ","px 0!important;\n  color:white;\n  padding:0;\n  .MuiInputBase-root {\n    font-family: 'Lato', sans-serif;\n  }\n  .MuiFormLabel-root {\n    color: white;\n    font-family: 'Lato', sans-serif;\n  }\n  .Mui-focused {\n    color: white !important;\n  }\n  .MuiInput-underline:before {\n    border-bottom:1px solid rgba(255,255, 255, 0.42);\n  }\n  .MuiInput-underline:after {\n    border-bottom: 2px solid white\n  }\n  .MuiInputBase-root {\n    color: white;\n    .MuiSvgIcon-root {\n      color: rgba(255,255,255,0.54);\n    },\n    .MuiPopover-paper {\n      color:white;\n    }\n  }\n  .MuiFormGroup-root {\n    .MuiFormControlLabel-root{\n      color:white;\n      span {\n        font-family: 'Lato', sans-serif;\n      }\n      .MuiRadio-root {\n        color: rgba(255,255,255,0.54);\n      }\n    }\n  }\n  .MuiRadio-root {\n    color:white;\n  }\n  .MuiRadio-colorSecondary.Mui-checked {\n    color:white;\n  }\n  div.radioContainer {\n    display:block;\n      .MuiFormControlLabel-root {\n        margin-right:0;\n      }\n      button {\n        transform:translateY(4px);\n      }\n    }\n  }\n"]);return Ke=function(){return e},e}var Xe=Object(se.a)(he.a)(Ke(),(function(e){return"radios"===e.component?"20":"40"})),Ze=(Object(se.a)(Xe)(Ye()),Object(se.a)(Ue.a)(Ge(),B.buttongray,B.lightblue,B.lightblue,B.lightblue),se.a.div(We(),(function(e){return e.disabled?.25:1}),(function(e){return e.disabled?"none":"initial"}),B.buttongray,B.lightblue,B.lightblue,B.lightblue));function qe(){var e=Object(ce.a)(["\n    display:flex;\n    justify-items: center;\n    justify-content: flex-end;\n    align-items:center;\n    margin:0;\n    padding:0;\n    .MuiFormControl-root {\n        padding: 0 0 0 20px !important; \n    }\n    span {\n        font-weight:bold;\n    }\n    #dateSelector {\n        position:absolute;\n        left:50%;\n        transform:translateX(-50%);\n        @media (max-width: 600px) {\n            transform:none;\n            left:20px;\n        }\n        @media (max-width: 450px) {\n            transform:none;\n            left:0px;\n        }\n    }\n"]);return qe=function(){return e},e}function Je(){var e=Object(ce.a)(["\n    left:initial;\n    right:10px;\n"]);return Je=function(){return e},e}function Qe(){var e=Object(ce.a)(["\n    position:absolute;\n    left:10%;\n    bottom:8px;\n    font-size:75%;\n    @media (max-width: 600px) {\n        bottom:0px;\n        left:12%;\n    }\n"]);return Qe=function(){return e},e}function $e(){var e=Object(ce.a)(["\n    width:100%;\n    font-size:1.05rem;\n    padding:10px 0 5px 0;\n    margin:0;\n    left:0;\n    text-align:center;\n    pointer-events:none;\n"]);return $e=function(){return e},e}function et(){var e=Object(ce.a)(["\n    box-sizing:border-box;\n    &.MuiSlider-root {\n        width:70%;\n        margin-left:13%;\n        box-sizing:border-box;\n        color:#FFFFFF55;\n        @media (max-width: 600px) {\n            width:50%;\n            margin-left:24%;\n        }\n    }\n    span.MuiSlider-rail {\n        color:white;\n        height:4px;\n        display:none;\n    }\n    span.MuiSlider-track {\n        color:white;\n        height:4px;\n        display:none;\n    }\n    span.MuiSlider-thumb {\n        color:white;\n        .MuiSlider-valueLabel {\n            transform:translateY(0px);\n            pointer-events:none;\n            span {\n                background: none;\n            }\n        }\n    }\n    span.MuiSlider-mark {\n        width:1px;\n        height:2px;\n    }\n    span.MuiSlider-thumb.MuiSlider-active: {\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\n    }\n"]);return et=function(){return e},e}function tt(){var e=Object(ce.a)(["\n    &.MuiSlider-root {\n        width:68%;\n        margin-left:15%;\n        box-sizing:border-box;\n        color:#FFFFFF55;\n        @media (max-width: 600px) {\n            width:50%;\n            margin-left:24%;\n        }\n    }\n    span.MuiSlider-rail {\n        // display:none;\n    }\n    span.MuiSlider-track {\n        // color:white;\n        // height:4px;\n        display:none;\n    }\n    span.MuiSlider-thumb {\n        color:white;\n        width:15px;\n        height:15px;\n        transform:translate(-1.5px, -1.5px);\n        .MuiSlider-valueLabel {\n            transform:translateY(-10px);\n            pointer-events:none;\n            font-size:15px;\n            span {\n                background: none;\n            }\n        }\n    }\n    span.MuiSlider-mark {\n        width:1px;\n        height:2px;\n    }\n    // .MuiSlider-valueLabel span{\n    //     transform:translateX(-100%);        \n    // }\n    span.MuiSlider-thumb.MuiSlider-active {\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\n    }\n"]);return tt=function(){return e},e}function nt(){var e=Object(ce.a)(["\n    background:none;\n    padding:0;\n    margin:0;\n    transform:translate(-20px, -5px);\n    @media (max-width: 600px) {\n        transform:translate(-20px, 18px);\n    }\n    svg {\n        width: 24px;\n        height:24px;\n        @media (max-width: 600px) {\n            width: 20px;\n            height:20px;\n        }\n        g {\n            fill: white;\n        },\n        path {\n            fill:white;\n        }\n    }\n    &.MuiButton-text {\n        padding:6px 0;\n    }\n"]);return nt=function(){return e},e}function at(){var e=Object(ce.a)(["\n    height:0;\n    padding:0;\n    margin:0;\n"]);return at=function(){return e},e}function it(){var e=Object(ce.a)(["\n    color: white;\n    box-sizing:border-box;\n    padding:5px 20px 5px 20px;\n    width:100%;\n"]);return it=function(){return e},e}var rt=se.a.div(it()),ot=Object(se.a)(Ue.a)(at()),ct=Object(se.a)(Ve.a)(nt()),st=Object(se.a)(Be.a)(tt()),lt=Object(se.a)(Be.a)(et()),dt=se.a.h3($e()),ut=se.a.p(Qe()),ht=Object(se.a)(ut)(Je()),pt=Object(se.a)(Ue.a)(qe()),bt=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.currentData})),n=Object(b.c)((function(e){return e.dataParams})),r=Object(b.c)((function(e){return e.dateIndices})),o=Object(b.c)((function(e){return e.dates})),c=(Object(b.c)((function(e){return e.startDateIndex})),Object(b.c)((function(e){return e.mapParams})),Object(b.c)((function(e){return e.currentVariable}))),s=Object(i.useState)(null),l=Object(p.a)(s,2),d=l[0],u=l[1],h=Object(i.useState)(!1),j=Object(p.a)(h,2),g=j[0],x=(j[1],function(e){return"".concat(o[e].slice(0,-3))});return void 0!==r[t]?Object(a.jsx)(rt,{children:Object(a.jsxs)(Ue.a,{container:!0,spacing:2,style:{display:"flex",padding:"0 0 10px 0"},children:[Object(a.jsx)(pt,{item:!0,xs:12,children:Object(a.jsx)(dt,{children:"characteristic"!==n.nType?function(e){var t=new Date(e);return t.setDate(t.getDate()+1),t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}("".concat(o[n.nIndex])):"Characteristic Data"})}),"characteristic"!==n.nType&&Object(a.jsx)(ot,{item:!0,xs:1,children:Object(a.jsx)(ct,{id:"playPause",onClick:function(){return function(t,n,a){null===t?u(setInterval((function(t){return e({type:"INCREMENT_DATE",payload:{index:n}})}),a)):(clearInterval(t),u(null))}(d,1,100)},children:null===d?Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("path",{d:"M78.627,47.203L24.873,16.167c-1.082-0.625-2.227-0.625-3.311,0C20.478,16.793,20,17.948,20,19.199V81.27  c0,1.25,0.478,2.406,1.561,3.031c0.542,0.313,1.051,0.469,1.656,0.469c0.604,0,1.161-0.156,1.703-0.469l53.731-31.035  c1.083-0.625,1.738-1.781,1.738-3.031C80.389,48.984,79.71,47.829,78.627,47.203z"})}):Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M22.4,0.6c3.4,0,6.8,0,10.3,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8\r c-3.4,0-6.8,0-10.3,0c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C10.6,5.9,15.9,0.6,22.4,0.6z M22.4,6.5c3.4,0,6.8,0,10.3,0\r c3.2,0,5.9,2.6,5.9,5.9c0,25,0,50.1,0,75.2c0,3.2-2.7,5.9-5.9,5.9c-3.4,0-6.8,0-10.3,0c-3.2,0-5.9-2.7-5.9-5.9\r c0-25.1,0-50.2,0-75.2C16.5,9.1,19.2,6.5,22.4,6.5z M67.3,6.5c3.4,0,6.8,0,10.2,0s6,2.6,6,5.9c0,25,0,50.1,0,75.2\r c0,3.2-2.7,5.9-6,5.9s-6.7,0-10.2,0c-3.3,0-5.9-2.7-5.9-5.9c0-25.1,0-50.2,0-75.2C61.4,9.1,64,6.5,67.3,6.5z M67.3,0.6\r c3.4,0,6.8,0,10.2,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8c-3.3,0-6.7,0-10.2,0\r c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C55.5,5.9,60.8,0.6,67.3,0.6z"})})})})})}),Object(a.jsxs)(Ue.a,{item:!0,xs:11,children:[" ","custom"!==n.rangeType&&"characteristic"!==n.nType&&Object(a.jsx)(st,{id:"timeSlider",value:n.nIndex,onChange:function(t,a){"time-series"===n.nType&&"time-series"===n.dType?e(te({nIndex:a,dIndex:a})):"time-series"===n.nType?e(te({nIndex:a})):"time-series"===n.dType?e(te({dIndex:a})):c.includes("Testing")&&e(te({nIndex:a}))},min:1,max:o.length,marks:r.hasOwnProperty(t)&&r[t].hasOwnProperty(n.numerator)&&r[t][n.numerator].map((function(e){return{value:e}})),step:null,characteristic:"characteristic"===n.nType}),"custom"===n.rangeType&&Object(a.jsx)(lt,{id:"timeSlider",value:[n.nIndex-n.nRange,n.nIndex],valueLabelDisplay:"on",onChange:function(t,a){n.dRange?e(te({nIndex:a[1],nRange:a[1]-a[0],rIndex:a[1],rRange:a[1]-a[0]})):e(te({nIndex:a[1],nRange:a[1]-a[0]}))},getAriaValueText:x,valueLabelFormat:x,"aria-labelledby":"aria-valuetext",min:1,max:350,marks:r.hasOwnProperty(t)&&r[t].hasOwnProperty(n.numerator)&&r[t][n.numerator].map((function(e){return{value:e}})),step:null})]}),!g&&"characteristic"!==n.nType&&Object(a.jsx)(ut,{children:o[0]}),!g&&"characteristic"!==n.nType&&Object(a.jsx)(ht,{children:o.slice(-1)[0]})]})}):Object(a.jsx)(rt,{})},jt=n(61);function gt(){var e=Object(ce.a)(["\n    background:",";\n    border:none;\n    outline:none;\n    padding:10px;\n    height:40px;\n    box-sizing:border-box;\n    font-family:'Lato', sans-serif;\n    font-weight:bold;\n    margin:2px 2px 0 0;\n    box-shadow: 2px 0px 5px rgba(0,0,0,0.7);\n    cursor:pointer;\n    border-radius: 5px;\n    transition:150ms transform, 150ms background;\n    font-size:115%;\n    display:inline-block;\n    svg {\n        width:20px;\n        height:20px;\n        fill:",";\n    }\n    &:hover {\n        background:",";\n        svg {\n            fill:",";\n        }\n    }\n    @media (max-width:1024px) {\n        height:40px;\n        width:40px;\n        margin-top:10px;\n        display:block;\n        border-radius:0;\n    }\n    \n    @media (max-width:600px) {\n        height:30px;\n        width:30px;\n        padding:0;\n        svg {\n            width:20px;\n            height:20px;\n        }\n    }\n"]);return gt=function(){return e},e}function xt(){var e=Object(ce.a)(["\n    position:absolute;\n    left:calc(100% + 2px);\n    top:-2px;\n    display:flex;\n    @media (max-width:1024px) {\n        position:fixed;\n        display:block;\n        left:0px;\n        top:210px;\n    }\n    @media (max-width:600px) {\n        top:260px;\n    }\n"]);return xt=function(){return e},e}var mt=se.a.div(xt()),ft=se.a.button(gt(),(function(e){return e.isActive?B.lightgray:B.gray}),(function(e){return e.isActive?B.darkgray:B.white}),(function(e){return e.isActive?B.white:B.darkgray}),(function(e){return e.isActive?B.darkgray:B.lightgray})),vt=function(){var e=Object(b.c)((function(e){return e.panelState})),t=Object(b.b)(),n=function(n){return e[n]?t(oe(Object(jt.a)({},n,!1))):t(oe(Object(jt.a)({},n,!0)))};return Object(a.jsxs)(mt,{children:[Object(a.jsx)(ft,{title:"Show Line Chart",isActive:e.lineChart,onClick:function(){return n("lineChart")},children:De}),Object(a.jsx)(ft,{title:"Show Tutorial",isActive:e.tutorial,onClick:function(){return n("tutorial")},children:Ce})]})};function Ot(){var e=Object(ce.a)(["\n    position: absolute;\n    top: 3px;\n    right: 5px;\n    font-size: 200%;\n    cursor: pointer;\n    padding:0;\n    background:none;\n    outline:none;\n    border:none;\n    color:white;\n    p {\n        font-size:50%;\n        display:inline;\n        font-family:'Montserrat', sans-serif;\n        line-height:1;\n    }\n    svg {\n        fill:white;\n        width:40px;\n        height:30px;\n    }\n"]);return Ot=function(){return e},e}function yt(){var e=Object(ce.a)(["\n    position:absolute;\n    left:0;\n    top:5px;\n    background:none;\n    outline:none;\n    border:none;\n    cursor:move;\n    svg {\n        fill:white;\n        width:20px;\n        height:20px;\n    }\n"]);return yt=function(){return e},e}function wt(){var e=Object(ce.a)(["\n    position:fixed;\n    overflow:hidden;\n    background:",";\n    padding:20px 20px 0 20px;\n    box-sizing: border-box;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius: 0.5vh;\n    &.collapsed {\n        display:none;\n    };\n"]);return wt=function(){return e},e}var _t=se.a.div(wt(),B.gray),St=se.a.button(yt()),Dt=se.a.button(Ot()),Ct=function(e){var t=Object(b.b)(),n=Object(b.c)((function(t){return t.panelState[e.title]})),r=Object(i.useState)(e.defaultX),o=Object(p.a)(r,2),c=o[0],s=o[1],l=Object(i.useState)(e.defaultY),d=Object(p.a)(l,2),u=d[0],h=d[1],j=Object(i.useState)(!1),g=Object(p.a)(j,2),x=g[0],m=g[1],f=function(e){s((function(t){return t+e.movementX})),h((function(t){return t+e.movementY}))},v=function(e){var t,n;s((null===e||void 0===e||null===(t=e.targetTouches[0])||void 0===t?void 0:t.clientX)-15),h((null===e||void 0===e||null===(n=e.targetTouches[0])||void 0===n?void 0:n.clientY)-15)},O=function e(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",e),m(!1)},y=function e(){window.removeEventListener("touchmove",v),window.removeEventListener("touchend",e)};return Object(i.useEffect)((function(){s(e.defaultX),h(e.defaultY)}),[n,e.defaultX,e.defaultY]),Object(a.jsxs)(_t,{style:{left:"".concat(c,"px"),top:"".concat(u,"px"),zIndex:e.z||1},className:n?"":"collapsed",isDragging:x,children:[e.content,Object(a.jsx)(St,{id:"resize",onMouseDown:function(){window.addEventListener("mousemove",f),window.addEventListener("mouseup",O),m(!0)},onTouchStart:function(){window.addEventListener("touchmove",v),window.addEventListener("touchend",y)},style:{zIndex:10},children:Object(a.jsx)("svg",{viewBox:"0 0 64 64",x:"0px",y:"0px",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M53.39,32.57a1.52,1.52,0,0,0-.33-1.63l-5.84-5.85a1.51,1.51,0,0,0-2.13,2.13l3.29,3.28H33.5V15.62l3.28,3.29a1.51,1.51,0,0,0,2.13-2.13l-5.85-5.84a1.5,1.5,0,0,0-2.12,0l-5.85,5.84a1.51,1.51,0,0,0,2.13,2.13l3.28-3.29V30.5H15.62l3.29-3.28a1.51,1.51,0,0,0-2.13-2.13l-5.84,5.85a1.5,1.5,0,0,0,0,2.12l5.84,5.85a1.51,1.51,0,0,0,2.13-2.13L15.62,33.5H30.5V48.38l-3.28-3.29a1.51,1.51,0,0,0-2.13,2.13l5.85,5.84a1.5,1.5,0,0,0,2.12,0l5.85-5.84a1.51,1.51,0,0,0-2.13-2.13L33.5,48.38V33.5H48.38l-3.29,3.28a1.51,1.51,0,0,0,2.13,2.13l5.84-5.85A1.51,1.51,0,0,0,53.39,32.57Z"})})})}),Object(a.jsx)(Dt,{onClick:function(){return t(oe(Object(jt.a)({},e.title,!1)))},children:"\xd7"})]})},kt=function(e){var t=e.selector,n=e.backup;return Object(a.jsx)("button",{className:"hoverButton",onMouseEnter:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(t&&(document.querySelector(e).getBoundingClientRect().x<0||document.querySelector("#variablePanel").getBoundingClientRect().x>window.innerWidth)&&(e=t),null===e)return;document.querySelector(e).classList.add("highlighted")}catch(n){return}}(t,n)},onMouseLeave:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(t&&(document.querySelector(e).getBoundingClientRect().x<0||document.querySelector("#variablePanel").getBoundingClientRect().x>window.innerWidth)&&(e=t),null===e)return;document.querySelector(e).classList.remove("highlighted")}catch(n){return}}(t,n)},children:e.text})},Tt={welcome:{pageName:"Welcome",icon:"logo",content:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Welcome to the US Covid Atlas v2"}),Object(a.jsx)("h3",{children:"1/12 Notes"}),Object(a.jsx)("p",{children:"Welcome to the refactored US Covid Atlas. We have greatly expanded the functionality, usability, and portability of the Atlas by refactoring the project into the frontend framework, React."}),Object(a.jsx)("p",{children:"While we've worked to maintain the general structure of the Atlas, we've introduced a few new features and interface elements we hope will make the Atlas more robust and usable for more people."}),Object(a.jsx)("p",{children:"This wiki serves as a useful reference guide for tutorials, features, and data description. We recommend exploring the rest of the US Covid Atlas website for more in depth documentation on methods, data sources, and FAQs."})]})},"getting-started":{pageName:"Getting Started",icon:"info",content:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Getting Started with the Atlas"}),Object(a.jsx)("p",{children:"In a quickly changing pandemic landscape, our tool connects COVID case data and community indicators across the United States from its beginning to today. The Atlas helps you access current, validated county-level data and spatial analysis to better understand the spread in communities and to bolster planning efforts."}),Object(a.jsxs)("p",{children:["Features and use cases for the Atlas include identifying regional hotspots for mitigation, tracking patterns to plan ahead, interacting and forecasting the viral spread at both state and county levels, and making vulnerable communities visible. Read more on potential use cases on our ",Object(a.jsx)("a",{href:"./",children:"landing page"}),"."]}),Object(a.jsx)("hr",{}),Object(a.jsx)("h3",{children:"Tutorials"}),Object(a.jsxs)("p",{children:["Below are tutorials to help you get started using the Atlas. Each has ",Object(a.jsx)(kt,{selector:null,text:"Highlighted Text",id:"exText"})," that will highlight the related interface component to help you get started."]})]})},"new-features":{pageName:"New Features",icon:"info",content:Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Changelog 1/12"}),Object(a.jsx)("p",{children:"Refactor Update"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"The US Covid Atlas has been refactored into the React javascript framework with Redux used for state management"}),Object(a.jsxs)("li",{children:["Major features updates:",Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Improved temporal controls including custom date range and date selection"}),Object(a.jsx)("li",{children:"Multiple geography selection and aggregation tools"}),Object(a.jsx)("li",{children:"3D visualization mode"}),Object(a.jsx)("li",{children:"Floating information panels for information and tutorials and line chart"}),Object(a.jsx)("li",{children:"Improved performance and user interface"}),Object(a.jsx)("li",{children:"Improved responsive design on phone and tablet"})]})]}),Object(a.jsxs)("li",{children:["New data sources:",Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"New York Times county and state data sources are now available"}),Object(a.jsx)("li",{children:"CDC county level data is now available, aggregated 7-Day rolling averages"}),Object(a.jsx)("li",{children:"CDC state level vaccination data is now available"})]})]}),Object(a.jsxs)("li",{children:["New variables:",Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"County level CDC data now includes testing volume and positivity rates"}),Object(a.jsx)("li",{children:"Vaccination data at the state level includes distribution and administration numbers"}),Object(a.jsx)("li",{children:"Time scale (cumulative, daily new, 7 day average) are now selected in the timeline panel"})]})]})]})]})},"choropleth-tutorial":{pageName:null,content:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Choropleth Maps"}),Object(a.jsx)("p",{children:"Choropleth maps use color to show the count or percentage of a variable."}),Object(a.jsx)("p",{children:"The Atlas uses color to show the count and percentage of all coronavirus cases, daily new cases, deaths, and hospital beds. Use choropleth maps to see data about the virus on a particular day."}),Object(a.jsxs)("p",{children:["For more details on how the Atlas created the choropleth maps, please see the ",Object(a.jsx)("a",{href:"./methods.html",children:"Methods page"}),"."]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("ol",{className:"tutorialSteps",children:[Object(a.jsx)("li",{children:Object(a.jsxs)("p",{children:["The choropleth map is the default display for the atlas webpage. To change data settings, use the ",Object(a.jsx)(kt,{selector:"#variablePanel",backup:"#showHideLeft",text:"Variables Panel"})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)("p",{children:["Select the ",Object(a.jsx)(kt,{selector:"#dataSource",backup:"#showHideLeft",text:"Data Source"})," and ",Object(a.jsx)(kt,{selector:"#variableSelect",backup:"#showHideLeft",text:"Variable"})," you would like to map."]})}),Object(a.jsx)("li",{children:Object(a.jsxs)("p",{children:['Click on "Natural Breaks" in the ',Object(a.jsx)(kt,{selector:"#mapType",backup:"#showHideLeft",text:"Map Type"})," button group, if not already selected."]})}),Object(a.jsx)("li",{children:Object(a.jsxs)("p",{children:["Use the ",Object(a.jsx)(kt,{selector:"#bottomPanel",text:"Color Ramp"})," at the bottom of the screen to interpret the count or percentage for each county or state. Brighter reds represent larger counts and percentages. Paler yellows represent smaller counts and percentages."]})})]})]})},interface:{pageName:"Interface",icon:"info",content:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Interface Overview"}),Object(a.jsxs)("p",{children:["The interface for navigating and controlling the map contains 4 main panels and the map itself. This page will briefly describe the functions of each panel and where to find them. ",Object(a.jsx)(kt,{selector:null,text:"Highlighted Text",id:"exText"})," will highlight the relevant interface feature to help easily identify it."]}),Object(a.jsx)("h3",{children:"Data Sources & Map Variables"}),Object(a.jsxs)("p",{children:["The ",Object(a.jsx)(kt,{selector:"#variablePanel",backup:"#showHideLeft",text:"Data Sources and Map Variables Panel"})," contains the controls to change data sources, the variable being visualized, how it is visualized, and any informational overlays."]}),Object(a.jsxs)("p",{children:["The ",Object(a.jsx)(kt,{selector:"#dataSource",backup:"#showHideLeft",text:"Data Source"})," selection contains the county and state level datasets currently available in the Atlas. Different datasets are available at the state and county level, and contain different variables depending on the published data. Explore different datasets or read more in the data sources tab below."]}),Object(a.jsxs)("p",{children:["The ",Object(a.jsx)(kt,{selector:"#variableSelect",backup:"#showHideLeft",text:"Variable"})," selection contains the available variables for your selected dataset, including data like cases, deaths, testing rates, forecasting, and community health factors."]}),Object(a.jsxs)("p",{children:["The ",Object(a.jsx)(kt,{selector:"#mapType",backup:"#showHideLeft",text:"Map Type"})," buttons change how the map is colored and how the data is symbolized. Natural breaks (jenks) uses a non-linear algorithm to classify (bin) data into groups, box map uses the same concept as a box plot chart, and hotspots identify clusters of high and low rates based on LISA methods. Read more on the ",Object(a.jsx)("a",{href:"./methods.html",target:"_blank",rel:"noopener noreferrer",children:"methods"})," page."]}),Object(a.jsxs)("p",{children:["The ",Object(a.jsx)(kt,{selector:"#visualizationType",backup:"#showHideLeft",text:"Visualization Type"})," buttons change the visual representation of the map. The 2D map is a traditional, flat map, the 3D map scales the vertical height of geographies to reflect the selected variable, and the cartogram map scales the geographies as circles based on the variable values."]}),Object(a.jsxs)("p",{children:["The ",Object(a.jsx)(kt,{selector:"#overlaysResources",backup:"#showHideLeft",text:"Overlays and Resources"})," selection boxes contain useful contextual information, and highlight potentially vulnerable areas."]}),Object(a.jsx)("h3",{children:"Timeline"}),Object(a.jsxs)("p",{children:["The ",Object(a.jsx)(kt,{selector:"#timelinePanel",text:"Timeline Panel"})," contains all of the temporal controls for the Atlas. Here, you can select a date, change the timescale (daily, weekly, etc.) and change how the data is binned - relative to the selected date or relative to the most recent date."]}),Object(a.jsxs)("p",{children:["The ",Object(a.jsx)(kt,{selector:"#timeSlider",text:"Slider"})," can change the date selection for your selected variable. The ",Object(a.jsx)(kt,{selector:"#dateSelector",text:"Timescale"})," dropdown can change the aggregation over time between daily, weekly, cumulative, or custom date ranges. The ",Object(a.jsx)(kt,{selector:"#binModeSwitch",text:"Binning Switch"})," can change between fixed bins relative to the today and bins relative to the selected date. You can animate the map by clicking the ",Object(a.jsx)(kt,{selector:"#playPause",text:"Play/Pause Button"}),"."]})]})},datasets:{pageName:"Data Sources",icon:"info",content:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{id:"data-sources",children:"Data Sources"}),Object(a.jsx)("p",{children:Object(a.jsxs)("i",{children:["Read detailed information ",Object(a.jsx)("a",{href:"https://theuscovidatlas.org/data.html",children:"here"})]})}),Object(a.jsx)("h2",{id:"covid-data",children:"COVID Data"}),Object(a.jsx)("h3",{id:"-usa-facts-https-usafacts-org-visualizations-coronavirus-covid-19-spread-map-",children:Object(a.jsx)("a",{href:"https://usafacts.org/visualizations/coronavirus-covid-19-spread-map",children:"USA Facts"})}),Object(a.jsx)("p",{children:"Available at the county level this data aggregates from CDC, state- and local-level public health agencies. "}),Object(a.jsx)("h3",{id:"-1p3a-https-coronavirus-1point3acres-com-en-",children:Object(a.jsx)("a",{href:"https://coronavirus.1point3acres.com/en",children:"1P3A"})}),Object(a.jsx)("p",{children:"Available at the state and county level, 1P3A was the initial, crowdsourced data project that served as a volunteer project led by 1P3acres.com and Dr. Yu Gao, Head of Machine Learning Platform at Uber. "}),Object(a.jsx)("h3",{id:"-new-york-times-https-github-com-nytimes-covid-19-data-",children:Object(a.jsx)("a",{href:"https://github.com/nytimes/covid-19-data",children:"New York Times"})}),Object(a.jsx)("p",{children:"The New York Times has made data available aggregated from dozens of journalists working to collect and monitor data from new conferences. They communicate with public officials to clarify and categorize cases. "}),Object(a.jsx)("h3",{id:"-cdc-https-covid-cdc-gov-covid-data-tracker-",children:Object(a.jsx)("a",{href:"https://covid.cdc.gov/covid-data-tracker/",children:"CDC"})}),Object(a.jsx)("p",{children:"CDC data includes detailed historic testing data and case data aggregated to rolling 7-day averages."}),Object(a.jsx)("h3",{id:"-forecasting-statistics-https-github-com-yu-group-covid19-severity-prediction-",children:Object(a.jsx)("a",{href:"https://github.com/Yu-Group/covid19-severity-prediction",children:"Forecasting Statistics"})}),Object(a.jsx)("p",{children:"The Yu Group at UC Berkeley Statistics and EECS has compiled, cleaned and continues to update a large corpus of hospital- and county-level data from a variety of public sources to aid data science efforts to combat COVID-19 (see covidseverity.com)."}),Object(a.jsx)("h2",{id:"county-and-state-data",children:"County and State Data"}),Object(a.jsx)("h3",{id:"-covidcaremap-https-github-com-covidcaremap-covid19-healthsystemcapacity-tree-v0-2-data-",children:Object(a.jsx)("a",{href:"https://github.com/covidcaremap/covid19-healthsystemcapacity/tree/v0.2/data",children:"COVIDCareMap"})}),Object(a.jsx)("p",{children:"Healthcare System Capacity includes Staffed beds, Staffed ICU beds, Licensed Beds by County. The data is from 2018 facility reports with additions/edits allowed in real-time."}),Object(a.jsx)("h3",{id:"-american-community-survey-https-www-census-gov-programs-surveys-acs-",children:Object(a.jsx)("a",{href:"https://www.census.gov/programs-surveys/acs",children:"American Community Survey"})}),Object(a.jsx)("p",{children:"The American Community Survey data contains demographic information about states, counties, and other geographic units. We use ACS population counts to generate normalized rates for COVID cases and deaths."}),Object(a.jsx)("h3",{id:"-county-health-rankings-roadmaps-chr-r-https-www-countyhealthrankings-org-explore-health-rankings-rankings-data-documentation-",children:Object(a.jsx)("a",{href:"https://www.countyhealthrankings.org/explore-health-rankings/rankings-data-documentation",children:"County Health Rankings & Roadmaps (CHR&R)"})}),Object(a.jsx)("p",{children:"CHR&R includes socioeconomic data, health access and care metrics, and demographic information about counties and states. CHR&R is a collaboration between the Robert Wood Johnson Foundation and the University of Wisconsin Population Health Institute."})]})},variables:{pageName:"Variables",icon:"info",content:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Variables"}),Object(a.jsx)("h3",{children:"Cases"}),Object(a.jsx)("i",{children:"Times-series data"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Confirmed Count: Number of cases reported in selected time scale"}),Object(a.jsx)("li",{children:"Confirmed Count per 100K Population: Number of cases normalized to population and scaled to number of cases per 100,000 residents of the county or state"}),Object(a.jsx)("li",{children:"Confirmed Count per Licensed Bed: Number of cases normalized to the available beds in the county or state"})]}),Object(a.jsx)("h3",{children:"Deaths"}),Object(a.jsx)("i",{children:"Times-series data"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Death Count: Number of deaths reported in selected time scale"}),Object(a.jsx)("li",{children:"Death Count per 100K Population: Number of deaths normalized to population and scaled to number of deaths per 100,000 residents of the county or state"}),Object(a.jsx)("li",{children:"Death Count per Licensed Bed: Number of deaths normalized to the available beds in the county or state"})]}),Object(a.jsx)("h3",{children:" Testing"}),Object(a.jsx)("i",{children:"Times-series data"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"7 Day Testing Positivity Rate %: The percentage of COVID tests returning positive results, aggregated to a 7-day rolling average"}),Object(a.jsx)("li",{children:"7 Day Testing Capacity: The number of COVID tests administered in the county or state normalized to tests per 100,000 population"}),Object(a.jsx)("li",{children:"7 Day Confirmed Cases per Testing %: The number of positive COVID cases per number of COVID tests as a percentage"})]}),Object(a.jsx)("h3",{children:"Vaccination"}),Object(a.jsx)("i",{children:"Times-series data"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Vaccinations Administered per 100K Population: The number of vaccination doses that have been administered in the state, normalized to number of doses administered per 100K population."}),Object(a.jsx)("li",{children:"Vaccinations Distributed per 100K Population: The total number of vaccination doses that have been distributed in the state, normalized to number of doses distributed per 100K population. "})]}),Object(a.jsx)("h3",{children:"Forecasting"}),Object(a.jsx)("i",{children:"Current snapshot data"}),Object(a.jsx)("ul",{children:Object(a.jsx)("li",{children:"Severity Index: Data and models (updated daily) for forecasting COVID-19 severity for individual counties and hospitals in the US"})}),Object(a.jsx)("h3",{children:"Community Health"}),Object(a.jsx)("i",{children:"Characteristic data"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Uninsured % (Community Health Factor): Percentage of the county or state that does not have health insurance"}),Object(a.jsx)("li",{children:"Over 65 Years % (Community Health Context): Percentage of the county or state this is over 65 years of age"}),Object(a.jsx)("li",{children:"Life expectancy (Length and Quality of Life): Average life expectancy for individuals living in the state or county"})]})]})},"bug-report":{pageName:"Bug Report",icon:"info",content:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Found a bug or have a suggestion?"}),Object(a.jsx)("p",{children:"The US Covid Atlas team is always working to improve the platform and its ability to generate insights."}),Object(a.jsxs)("p",{children:["Please contact the team at ",Object(a.jsx)("a",{href:"mailto:contact@theuscovidatlas.org",children:"contact@theuscovidatlas.org"})," or reach out on social media below."]}),Object(a.jsxs)("div",{className:"social-container",children:[Object(a.jsx)("a",{href:"https://twitter.com/covid_atlas",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("img",{src:"./icons/twitter-icon.png",alt:"Twitter Icon"})}),Object(a.jsx)("a",{href:"https://github.com/GeoDaCenter/covid",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("img",{src:"./icons/github-icon.png",alt:"Twitter Icon"})})]})]})}};function Pt(){var e=Object(ce.a)(["\n    position:absolute;\n    top:0;\n    visibility:hidden;\n    left:50%;\n    transform:translateX(-50%);\n    @media (max-width:1024px) {\n        visibility:visible;\n    }\n"]);return Pt=function(){return e},e}function It(){var e=Object(ce.a)(["\n    background:none;\n    outline:none;\n    border:1px solid white;\n    cursor:pointer;\n    text-align:left;\n    padding:5px;\n    max-width:40%;\n    display:inline-block;\n    float:left;\n    color:",";\n    font-family:'Lato', sans-serif;\n    padding:10px;\n    transition:250ms all;\n    &:hover {\n        background: ",";\n        color: ",";\n    }\n    h3, p {\n        padding:0;\n        margin:0;\n    }\n"]);return It=function(){return e},e}function At(){var e=Object(ce.a)(["\n    position:absolute;\n    left: 120px;\n    padding: 0 50px 50px 0;\n    box-sizing:border-box;\n    top:25px;\n    transform:translateX(25px);\n    overflow-y:scroll;\n    height:calc(100% - 25px);\n    width:calc(100% - 105px);\n    font-size:125% !important;\n    line-height:1.5 !important;\n    .social-container {\n        a {\n            img {\n                width: 25px;\n                height: 25px;\n                padding: 5px 10px 0px 0px;\n                transition: all 250ms ease 0s;\n                opacity: 0.7;\n                &:hover {\n                    opacity:1;\n                }\n            }\n        }\n    }\n    button.hoverButton {\n        background:none;\n        border:none;\n        border-bottom:1px solid ",";\n        outline:none;\n        color:",";\n        padding:0;\n        &:after {\n            content:' \u26bc';\n        }\n    }\n    @media (max-width:1024px) {\n        left:0;\n        width:calc(100% + 15px);\n        height:calc(100% - 75);\n        top:75px;\n        font-size:100% !important;\n    }\n"]);return At=function(){return e},e}function Et(){var e=Object(ce.a)(["\n    display:block;\n    text-align:left;\n    background:none;\n    color:",";\n    border:none;\n    outline:none;\n    line-height:2;\n    transition:250ms;\n    font-family:'Lato', sans-serif;\n    opacity: ",";\n    &:hover {\n        opacity:1;\n    }\n    @media(max-width:1024px) {\n        display:none;\n    }\n"]);return Et=function(){return e},e}function Lt(){var e=Object(ce.a)(["\n    position:absolute;\n    left:5px;\n    top:25px;\n    max-width:120px;\n    @media(max-width:1024px) {\n        width:100%;\n    }\n"]);return Lt=function(){return e},e}function zt(){var e=Object(ce.a)(["\n    background: ",";\n    color: ",";\n    padding: 0;\n    overflow: hidden;\n    display: ",";\n    border-radius: 4px;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    svg {\n        width: 10px;\n        height: 10px;\n        padding: 5px;\n        fill: ",";\n        display: inline;\n        transition: 250ms all;\n        cursor: pointer;\n    }\n    a {\n       color: ","; \n       text-decoration:none;\n    }\n    @media (max-width:1024px) {\n        right:50%;\n        bottom:50%;\n        transform: translate(50%, 50%);\n        overflow:hidden;\n    }\n"]);return zt=function(){return e},e}var Rt=se.a.div(zt(),B.gray,B.white,(function(e){return e.active?"initial":"none"}),B.white,B.yellow),Nt=se.a.div(Lt()),Mt=se.a.button(Et(),(function(e){return e.active?B.lightblue:B.white}),(function(e){return e.active?1:.6})),Ht=se.a.div(At(),B.yellow,B.yellow),Ft=se.a.button(It(),B.white,B.yellow,B.gray),Ut=Object(se.a)(Xe)(Pt()),Bt=[{title:"Choropleth Maps",subtitle:"Explore counts and percentages of cases, deaths, hosipital beds, and testing data.",link:"choropleth-tutorial"}],Vt=function(){var e=Object(b.c)((function(e){return e.panelState.tutorial})),t=Object(i.useState)("welcome"),n=Object(p.a)(t,2),r=n[0],o=n[1];return Object(a.jsxs)(Rt,{active:e,children:[Object(a.jsx)(Nt,{children:Object.keys(Tt).map((function(e){return null!==Tt[e].pageName?Object(a.jsx)(Mt,{onClick:function(){return o(e)},active:r===e,children:Tt[e].pageName}):""}))}),Object(a.jsx)(Ut,{id:"selectPage",children:Object(a.jsx)(pe.a,{value:r,id:"numerator-select",onChange:function(e){console.log(e),o(e.target.value)},children:Object.keys(Tt).map((function(e){return null!==Tt[e].pageName?Object(a.jsx)(be.a,{value:e,children:Tt[e].pageName},e):Object(a.jsx)(be.a,{value:e,style:{display:"none"},children:Tt[e].pageName},e)}))})}),Object(a.jsxs)(Ht,{children:[Tt[r].content,("tutorials"===r||"getting-started"===r)&&Bt.map((function(e){return Object(a.jsxs)(Ft,{onClick:function(){return o(e.link)},children:[Object(a.jsx)("h3",{children:e.title}),Object(a.jsx)("p",{children:e.subtitle})]})}))]})]})},Wt=function(e){var t=e.data;return t.slice(-1)[0]===">"+t.slice(-2,-1)[0]&&t.splice(-2,1),t.map((function(e,t){return Object(a.jsxs)("div",{className:"bin label",children:[-1===e.indexOf("tooltip")&&e,-1!==e.indexOf("tooltip")&&Object(a.jsxs)("span",{children:[e.split(" tooltip:")[0],Object(a.jsx)(xe,{id:e.split(" tooltip:")[1]})]})]},"".concat(e,"_").concat(t))}))};function Gt(){var e=Object(ce.a)(["\n    width:100%;\n    display: flex;\n    margin-top:3px;\n    box-sizing: border-box;\n    .bin { \n        height:5px;\n        display: inline;\n        flex:1;\n        border:0;\n        margin:0;\n    }\n    .bin:nth-of-type(1) {\n        transform: ",";\n    }\n"]);return Gt=function(){return e},e}function Yt(){var e=Object(ce.a)(["\n    width:100%;\n    display: flex;\n    margin-top:0px;\n    box-sizing: border-box;\n    padding: 0 ","%;\n    .bin { \n        height:10px;\n        display: inline;\n        border:0;\n        margin:0;\n        flex:2;\n        color:white;\n        font-size:10px;\n        text-align: center;\n    }\n    .bin:nth-of-type(1) {\n        transform: ",";\n    }\n"]);return Yt=function(){return e},e}function Kt(){var e=Object(ce.a)(["\n    text-align: center;\n    font-family:'Playfair Display', serif;\n    padding:0;\n    font-weight:normal;\n    margin:0;\n    color:white;\n"]);return Kt=function(){return e},e}function Xt(){var e=Object(ce.a)(["\n    width:100%;\n    padding:10px;\n    margin:0;\n    box-sizing: border-box;\n    div.MuiGrid-item {\n        padding:5px 5px 0 5px;\n    }\n"]);return Xt=function(){return e},e}var Zt=se.a.div(Xt()),qt=se.a.h3(Kt()),Jt=se.a.div(Yt(),(function(e){return e.binLength>6?100/e.binLength/2-1:0}),(function(e){return e.firstBinZero?"translateX(-45%)":"none"})),Qt=se.a.div(Gt(),(function(e){return e.firstBinZero?"scaleX(0.35)":"none"})),$t=function(){var e=Object(b.c)((function(e){return e.mapParams})),t=Object(b.c)((function(e){return e.dataParams}));return Object(a.jsx)(Zt,{children:Object(a.jsxs)(Ue.a,{container:!0,spacing:2,id:"legend-bins-container",children:[Object(a.jsx)(Ue.a,{item:!0,xs:12,children:Object(a.jsx)(qt,{children:t.variableName})}),Object(a.jsx)(Ue.a,{item:!0,xs:12,children:void 0!==e.colorScale&&Object(a.jsxs)("span",{children:[Object(a.jsx)(Qt,{firstBinZero:"240,240,240"==="".concat(e.colorScale[0])&&null===t.fixedScale,children:e.colorScale.map((function(e){return Object(a.jsx)("div",{className:"bin color",style:{backgroundColor:"rgb(".concat(e[0],",").concat(e[1],",").concat(e[2],")")}},"".concat(e[0]).concat(e[1]))}))}),Object(a.jsxs)(Jt,{firstBinZero:"240,240,240"==="".concat(e.colorScale[0]),binLength:e.bins.bins.length,children:["240,240,240"==="".concat(e.colorScale[0])&&null===t.fixedScale&&Object(a.jsx)("div",{className:"bin firstBin",children:"0"}),void 0!==e.bins.bins&&Object(a.jsx)(Wt,{data:e.bins.bins})]})]})})]})})},en=n(677);function tn(){var e=Object(ce.a)(["\n    color: ",";\n    font-family:'Lato', sans-serif;\n    line-height:1.5;\n    text-decoration: ",";\n    display:inline;\n    margin-right:10px;\n\n"]);return tn=function(){return e},e}function nn(){var e=Object(ce.a)(["\n    list-style:none;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    padding-inline-start: 0;\n    text-align:center;\n"]);return nn=function(){return e},e}function an(){var e=Object(ce.a)(["\n    text-align: center;\n    font-family:'Playfair Display', serif;\n    padding:0;\n    font-weight:normal;\n    margin:0;\n    color:white;\n"]);return an=function(){return e},e}function rn(){var e=Object(ce.a)(["\n    float:left;\n    p {\n        color:white;\n        display:inline;\n    }\n    span.MuiSwitch-track {\n        background-color:",";\n    }\n    .MuiSwitch-colorSecondary.Mui-checked {\n        color:",";\n    }\n    .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\n        background-color: ",";\n    }\n    .MuiSwitch-colorSecondary:hover {\n        background-color:","55;\n    }\n"]);return rn=function(){return e},e}function on(){var e=Object(ce.a)(["\n    span {\n        color:white;\n    }\n"]);return on=function(){return e},e}var cn=se.a.span(on()),sn=se.a.div(rn(),B.lightgray,B.lightblue,B.lightblue,B.lightblue),ln=se.a.h3(an()),dn=(se.a.ul(nn()),se.a.li(tn(),(function(e){return e.color}),(function(e){return e.active?"underline":"none"})),["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"]),un=function(e){return"".concat(e/1e6,"M")},hn=function(e){return"".concat(e/1e3,"K")},pn=function(e){var t=new Date(e).getMonth();return"".concat(dn[t])},bn=function(e){return Object(a.jsx)("text",Object(d.a)(Object(d.a)({},e),{},{children:e.labelFormatter(e.payload.value)}))},jn=function(e){try{if(e.active){var t=e.payload;return Object(a.jsxs)("div",{style:{background:B.darkgray,padding:"1px 10px",borderRadius:"4px",boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)"},children:[Object(a.jsx)("p",{style:{color:"white",padding:0},children:t[0].payload.date}),t.map((function(e){return Object(a.jsxs)("p",{style:{color:e.color,textShadow:"2px 2px 4px ".concat(B.black),fontWeight:600},children:[e.name,": ",Number.isInteger(Math.floor(e.payload[e.dataKey]))?Math.floor(e.payload[e.dataKey]).toLocaleString("en"):e.payload[e.dataKey]]})}))]})}}catch(n){return null}return null},gn=function(){var e=Object(b.c)((function(e){return e.chartData})),t=Object(b.c)((function(e){return e.dataParams})),n=Object(b.c)((function(e){return e.currentVariable})),r=Object(b.c)((function(e){return e.currentData})),o=Object(b.c)((function(e){return e.dateIndices})),c=(Object(b.c)((function(e){return e.startDateIndex})),Object(b.c)((function(e){return e.selectionKeys}))),s=Object(i.useState)(!1),l=Object(p.a)(s,2),u=l[0],h=l[1],j=Object(i.useState)([]),g=Object(p.a)(j,2),x=g[0],m=g[1],f=Object(b.b)(),v=function(e){"time-series"===t.nType&&"time-series"===t.dType?f(te({nIndex:e,dIndex:e})):"time-series"===t.nType?f(te({nIndex:e})):"time-series"===t.dType?f(te({dIndex:e})):n.includes("Testing")&&f(te({nIndex:e}))},O=function(e){for(var t=e.maximum,n=e.increment,a=[],i=0;i<t;i+=n)a.push(i);return a},y=function(e){for(var t=e.chartData,n=e.keys,a=[],i=0;i<t.length;i++){for(var r=0,o=0;o<n.length;o++)r+=t[i]["".concat(n[o]," Daily Count")];a.push(Object(d.a)(Object(d.a)({},t[i]),{},{summarized:r}))}return a}({chartData:e,keys:c}),w=function(e){for(var t=e.array,n=e.variables,a={},i=0;i<t.length;i++)for(var r=0;r<n.length;r++){var o=t[i][n[r]];(void 0===a[n[r]]||a[n[r]]<o)&&(a[n[r]]=o)}return a}({array:y,variables:["count","sum"]}),_=function(e){var t,n=e.startDate,a=e.endDate,i=[];if(n.getUTCFullYear()===a.getUTCFullYear())t=[a.getUTCFullYear()];else{t=[];for(var r=n.getUTCFullYear();r<a.getUTCFullYear();r++)t.push(r)}for(var o=0;o<t.length;o++){var c=""+t[o],s=void 0;for(s=2020===t[o]?2:1;s<13;){var l="".concat(s,"/",1,"/").concat(c.slice(-2));if(new Date(l)>a)break;i.push(l),s++}}return i}({startDate:new Date("02/01/2020"),endDate:new Date});return Object(a.jsxs)(cn,{children:[c.length<2&&Object(a.jsxs)(ln,{children:["Total Cases and 7-Day Average New Cases",c.length>0&&": ".concat(c[0])]}),c.length>=2&&Object(a.jsx)(ln,{children:"7-Day Average New Cases"}),Object(a.jsx)(me.f,{width:"100%",height:"80%",children:Object(a.jsxs)(me.d,{data:y,margin:{top:0,right:10,left:10,bottom:20},onClick:"characteristic"===t.nType?"":function(e){void 0!==(null===e||void 0===e?void 0:e.activeTooltipIndex)&&(-1!==o[r][t.numerator].indexOf(e.activeTooltipIndex)?v(e.activeTooltipIndex):v(o[r][t.numerator].reduce((function(t,n){return Math.abs(n-e.activeTooltipIndex)<Math.abs(t-e.activeTooltipIndex)?n:t}))))},children:[Object(a.jsx)(me.h,{dataKey:"date",ticks:_,tick:Object(a.jsx)(bn,{style:{fill:"".concat(B.white,"88"),fontSize:"10px",fontFamily:"Lato",fontWeight:600,transform:"translateY(10px)"},labelFormatter:pn})}),Object(a.jsx)(me.i,{yAxisId:"left",type:"number",scale:u?"log":"linear",domain:[.01,"dataMax"],allowDataOverflow:!0,ticks:0===c.length?O({maximum:w.sum,increment:2e6}):[],tick:Object(a.jsx)(bn,{style:{fill:B.lightgray,fontSize:"10px",fontFamily:"Lato",fontWeight:600},labelFormatter:0===c.length?un:hn}),children:Object(a.jsx)(me.a,{value:"Total Cases",position:"insideLeft",style:{marginTop:10,fill:B.lightgray,fontFamily:"Lato",fontWeight:600},angle:-90})}),Object(a.jsx)(me.i,{yAxisId:"right",orientation:"right",scale:u?"log":"linear",domain:[.01,"dataMax"],allowDataOverflow:!0,ticks:0===c.length?O({maximum:w.count,increment:5e4}):[],tick:Object(a.jsx)(bn,{style:{fill:B.lightgray,fontSize:"10px",fontFamily:"Lato",fontWeight:600},labelFormatter:hn}),children:Object(a.jsx)(me.a,{value:"7-Day Average New Cases",position:"insideTopRight",style:{marginTop:10,fill:c.length<2?B.yellow:B.lightgray,fontFamily:"Lato",fontWeight:600},angle:-90})}),Object(a.jsx)(me.g,{content:jn}),Object(a.jsx)(me.e,{yAxisId:"left",x1:null===t.nRange?-1!==t.variableName.indexOf("Testing")?t.nIndex-7:0:t.nIndex-t.nRange,x2:t.nIndex,fill:"white",fillOpacity:.15,isAnimationActive:!1}),c.length<2&&Object(a.jsx)(me.c,{type:"monotone",yAxisId:"left",dataKey:c.length>0?c[0]+" Total Cases":"sum",name:"Total Cases",stroke:B.lightgray,dot:!1,isAnimationActive:!1}),c.length<2&&Object(a.jsx)(me.c,{type:"monotone",yAxisId:"right",dataKey:c.length>0?c[0]+" Daily Count":"count",name:"7-Day Average New Cases",stroke:B.yellow,dot:!1,isAnimationActive:!1}),c.length>1&&Object(a.jsx)(me.c,{type:"monotone",yAxisId:"right",dataKey:"summarized",name:"Total For Selection",stroke:B.lightgray,strokeWidth:3,dot:!1,isAnimationActive:!1}),c.length>1&&c.map((function(e,t){return Object(a.jsx)(me.c,{type:"monotone",yAxisId:"right",dataKey:e+" Daily Count",name:e,stroke:B.qualtitiveScale[t],dot:!1,isAnimationActive:!1,strokeOpacity:x===e+" Daily Count"?1:.5,strokeWidth:x===e+" Daily Count"?2:1})})),Object(a.jsx)(me.b,{onMouseEnter:function(e){m(e.dataKey)},onMouseLeave:function(){m(null)}})]})}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(en.a,{checked:u,onChange:function(){h((function(e){return!e}))},name:"log chart switch",inputProps:{"aria-label":"secondary checkbox"}}),Object(a.jsx)("p",{children:u?"Log Scale":"Linear Scale"})]})]})},xn=n(338),mn=n(688),fn=n(207),vn=n(678),On=n(696),yn=n(346),wn=n(701),_n=n(352),Sn=n(683),Dn=n(353),Cn=n(693),kn=n(42),Tn=n(150),Pn=n(351),In=n(341);function An(){var e=Object(ce.a)(["\n\n"]);return An=function(){return e},e}function En(){var e=Object(ce.a)(["\n    position:fixed;\n    top:","px;\n    left:","px;\n    width:","px;\n    height:","px;\n    border:1px dashed #FFCE00;\n    background:rgba(0,0,0,0.25);\n    z-index:5;\n"]);return En=function(){return e},e}function Ln(){var e=Object(ce.a)(["\n    position:fixed;\n    left:110%;\n"]);return Ln=function(){return e},e}function zn(){var e=Object(ce.a)(["\n    position: absolute;\n    right: ","px;\n    bottom: 30px;\n    zIndex: 10;\n    transition: 250ms all;\n    @media (max-width:768px) {\n        bottom:100px;\n    }\n    @media (max-width: 400px) {\n        transform:scale(0.75) translate(20%, 20%);\n    }\n"]);return zn=function(){return e},e}function Rn(){var e=Object(ce.a)(["\n    @media (max-width:600px) {\n        display:none !important;\n    }\n"]);return Rn=function(){return e},e}function Nn(){var e=Object(ce.a)(["\n    width:29px;\n    height:29px;\n    padding:5px;\n    margin-bottom:10px;\n    display:block;\n    background-color: ",";\n    -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n    border-radius: 4px;\n    outline:none;\n    border:none;\n    transition:250ms all;\n    cursor:pointer;\n    &:last-of-type {\n        margin-top:10px;\n    }\n    :after {\n        opacity: ",";\n        content:'Map Link Copied to Clipboard!';\n        background:",";\n        -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n        -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\n        box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n        border-radius: 4px;\n        position: absolute;\n        transform:translate(-120%, -25%);\n        padding:5px;\n        width:150px;\n        pointer-events:none;\n        max-width:50vw;\n        transition:250ms all;\n    }\n"]);return Nn=function(){return e},e}function Mn(){var e=Object(ce.a)(["\n    background:",";\n    padding:20px;\n    color:white;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius:0.5vh 0.5vh 0 0;\n    transition:0s all;\n    h3 {\n        margin:2px 0;\n    }\n"]);return Mn=function(){return e},e}function Hn(){var e=Object(ce.a)(["\n    position:absolute;\n    left:0;\n    top:0;\n    width:100%;\n    height:calc(100% - 50px);\n    background:",";\n    @media (max-width:600px) {\n        div.mapboxgl-ctrl-geocoder {\n            display:none;\n        }\n    }\n"]);return Hn=function(){return e},e}var Fn=Object(kn.c)({width:window.innerWidth,height:window.innerHeight,bounds:[[-130.14,53.96],[-67.12,19]]}),Un=Object(kn.c)({width:.15*window.innerWidth,height:.12*window.innerHeight,bounds:[[-161.13,23.23],[-152.75,17.67]]}),Bn=Object(kn.c)({width:.15*window.innerWidth,height:.12*window.innerHeight,bounds:[[-167.75,73.59],[-132.7,50.09]]}),Vn={hospital:{x:0,y:0,width:128,height:128},clinic:{x:128,y:0,width:128,height:128}},Wn="pk.eyJ1IjoibGl4dW45MTAiLCJhIjoiY2locXMxcWFqMDAwenQ0bTFhaTZmbnRwaiJ9.VRNeNnyb96Eo-CorkJmIqg",Gn=Object(xn.a)(In),Yn=se.a.div(Hn(),B.darkgray),Kn=se.a.div(Mn(),B.gray),Xn=se.a.button(Nn(),(function(e){return e.isActive?B.lightblue:B.buttongray}),(function(e){return e.shareNotification?1:0}),B.buttongray),Zn=Object(se.a)(Pn.a)(Rn()),qn=se.a.div(zn(),(function(e){return e.infoPanel?317:10})),Jn=se.a.input(Ln()),Qn=se.a.div(En(),(function(e){return e.y}),(function(e){return e.x}),(function(e){return e.width}),(function(e){return e.height})),$n=(Object(se.a)(fn.a)(An()),function(){var e,t=Object(b.c)((function(e){return e})),n=t.storedData,r=t.storedGeojson,o=t.currentData,c=t.storedLisaData,s=t.dateIndices,j=t.storedCartogramData,g=t.panelState,x=t.dates,v=t.dataParams,O=t.mapParams,y=t.currentVariable,w=t.startDateIndex,S=t.urlParams,D=Object(i.useState)(!1),C=Object(p.a)(D,2),k=C[0],P=C[1],A=Object(i.useState)([]),E=Object(p.a)(A,2),L=E[0],z=E[1],R=Object(i.useState)(Gn),N=Object(p.a)(R,2),M=N[0],H=N[1],U=Object(i.useState)({}),B=Object(p.a)(U,2),V=B[0],W=B[1],G=Object(i.useState)({latitude:+S.lat||Fn.latitude,longitude:+S.lon||Fn.longitude,zoom:+S.z||Fn.zoom,bearing:0,pitch:0}),Y=Object(p.a)(G,2),K=Y[0],X=Y[1],J=Object(i.useState)({main:{latitude:+S.lat||Fn.latitude,longitude:+S.lon||Fn.longitude,zoom:+S.z||Fn.zoom,bearing:0,pitch:0},hawaiiMap:{latitude:Un.latitude,longitude:Un.longitude,zoom:Un.zoom,bearing:0,pitch:0},alaskaMap:{latitude:Bn.latitude,longitude:Bn.longitude,zoom:Bn.zoom,bearing:0,pitch:0}}),$=Object(p.a)(J,2),ee=($[0],$[1]),te=(Object(i.useCallback)((function(e){var t=e.viewId,n=e.viewState;"main"===t&&ee((function(e){return Object(d.a)(Object(d.a)({},e),{},{main:n})}))}),[]),Object(i.useState)([])),ne=Object(p.a)(te,2),re=ne[0],oe=ne[1],ce=Object(i.useState)(null),se=Object(p.a)(ce,2),le=se[0],de=se[1],ue=Object(i.useState)(null),he=Object(p.a)(ue,2),pe=he[0],be=he[1],je=Object(i.useState)(null),ge=Object(p.a)(je,2),xe=ge[0],me=ge[1],fe=Object(i.useState)(null),ve=Object(p.a)(fe,2),Oe=ve[0],ye=ve[1],we=Object(i.useState)(!1),_e=Object(p.a)(we,2),Se=_e[0],De=_e[1],Ce=Object(i.useState)(!1),Te=Object(p.a)(Ce,2),Pe=Te[0],Ie=Te[1],Ae=Object(i.useState)(!0),Ee=Object(p.a)(Ae,2),Le=Ee[0],ze=Ee[1],Re=Object(i.useState)(!1),Ne=Object(p.a)(Re,2),Me=Ne[0],He=Ne[1],Fe=Object(i.useState)({}),Ue=Object(p.a)(Fe,2),Be=Ue[0],Ve=Ue[1],We=Object(i.useState)(null),Ge=Object(p.a)(We,2),Ye=(Ge[0],Ge[1],Object(b.b)());Object(i.useEffect)((function(){window.addEventListener("storage",(function(){var e=localStorage.getItem("SHARED_GEOID").split(",").map((function(e){return parseInt(e)}));null!==e&&z(e);var t=JSON.parse(localStorage.getItem("SHARED_VIEW"));null!==t&&t.hasOwnProperty("latitude")&&X((function(e){return Object(d.a)(Object(d.a)({},e),{},{longitude:t.longitude,latitude:t.latitude,zoom:t.zoom,transitionDuration:1e3,transitionInterpolator:new vn.a})}))}))}),[]),Object(i.useEffect)((function(){var e=[];if(n[o]&&"cartogram"===O.vizType)for(var t=0;t<n[o].length;t++)e.push({id:t});oe(e)}),[n,o,O.vizType]),Object(i.useEffect)((function(){de(q(o,v))}),[v,O]),Object(i.useEffect)((function(){switch(O.vizType){case"2D":X((function(e){return Object(d.a)(Object(d.a)({},e),{},{latitude:+S.lat||Fn.latitude,longitude:+S.lon||Fn.longitude,zoom:+S.z||Fn.zoom,bearing:0,pitch:0})})),ye(null);break;case"3D":X((function(e){return Object(d.a)(Object(d.a)({},e),{},{latitude:+S.lat||39.8283,longitude:+S.lon||-98.5795,zoom:+S.z||Fn.zoom,bearing:-30,pitch:30})})),ye(null)}}),[O.vizType,o]),Object(i.useEffect)((function(){var e=c[q(o,v)];void 0!==e&&W(e)}),[c,v,O]),Object(i.useEffect)((function(){var e,t=Gn.get("layers");e="cartogram"===O.vizType?t.map((function(e){return e.setIn(["layout","visibility"],"none")})):"3D"===O.vizType?t.map((function(e){return e.get("id").includes("label")&&!e.get("id").includes("water")?e:e.setIn(["layout","visibility"],"none")})):t.map((function(e){return O.resource.includes(e.get("id"))||O.overlay.includes(e.get("id"))?e.setIn(["layout","visibility"],"visible"):e})),H(Gn.set("layers",e))}),[O.overlay,O.vizType]),Object(i.useEffect)((function(){null===pe&&T("".concat(".","/csv/us_healthcare_capacity-facility-CovidCareMap.csv")).then((function(e){return be(e)})),null===xe&&T("".concat(".","/csv/health_centers.csv")).then((function(e){return me(e)}))}),[]),Object(i.useEffect)((function(){if(j[q(o,v)]){var e=_(j[q(o,v)]),t=[Math.floor(e[0]),Math.floor(e[1])];null!==Oe&&t[0]===Oe[0]||(X((function(t){return Object(d.a)(Object(d.a)({},t),{},{latitude:e[1],longitude:e[0],zoom:5,bearing:0,pitch:0})})),ye(t))}}),[j,o]),Object(i.useEffect)((function(){X((function(e){return Object(d.a)(Object(d.a)({},e),{},{latitude:+S.lat||Fn.latitude,longitude:+S.lon||Fn.longitude,zoom:+S.z||Fn.zoom,bearing:0,pitch:0})}))}),[S]);var Ke=Object(i.useRef)(),Xe=Object(i.useRef)(),Ze=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:"The US Covid Atlas",text:"Near Real-Time Exploration of the COVID-19 Pandemic.",url:"".concat(window.location.href).concat(Z(t))},e.prev=1,e.next=4,navigator.share(n);case 4:e.next=17;break;case 6:e.prev=6,e.t0=e.catch(1),(a=document.querySelector("#share-url")).value="".concat(n.url),a.style.display="block",a.select(),a.setSelectionRange(0,99999),document.execCommand("copy"),a.style.display="none",De(!0),setTimeout((function(){return De(!1)}),5e3);case 17:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),qe=function(e){var t=e.x,n=e.y,a=e.object;P({x:t,y:n,object:a})},Je=[new wn.a({id:"choropleth",data:{type:"FeatureCollection",name:o,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:n[o]?n[o]:[]},visible:"cartogram"!==O.vizType,pickable:"cartogram"!==O.vizType&&Le,stroked:!1,filled:!0,wireframe:"3D"===O.vizType,extruded:"3D"===O.vizType,opacity:.8,material:!1,getFillColor:function(e){return function(e,t,n){return t.hasOwnProperty("bins")&&e.hasOwnProperty(v.numerator)?"lisa"===n?F.lisa[V[r[o].geoidOrder[e.properties.GEOID]]]:Q(f(e[v.numerator],e[v.denominator],v),t.breaks,O.colorScale,O.mapType,v.numerator):[240,240,240,120]}(e,O.bins,O.mapType)},getElevation:function(e){return function(e){return f(e[v.numerator],e[v.denominator],v)*(v.scale3D/("time-series"===v.nType&&null===v.nRange?(v.nIndex-w)/10:1))}(e)},onHover:qe,onClick:function(e){var t,a,i,r,c,l,d,h,p=void 0!==(null===e||void 0===e||null===(t=e.object)||void 0===t||null===(a=t.properties)||void 0===a?void 0:a.state_abbr)?"".concat(null===(i=e.object)||void 0===i||null===(r=i.properties)||void 0===r?void 0:r.NAME,", ").concat(null===e||void 0===e||null===(c=e.object)||void 0===c||null===(l=c.properties)||void 0===l?void 0:l.state_abbr):"".concat(null===(d=e.object)||void 0===d||null===(h=d.properties)||void 0===h?void 0:h.NAME);if(Pe)try{if(-1===L.indexOf(e.object.properties.GEOID)){var b=[].concat(Object(u.a)(L),[e.object.properties.GEOID]);z(b),Ye(ie({values:I([e.object],"cases",s[o].cases,x,p),name:p,index:Object(m.findIndex)(n[o],(function(t){return t.properties.GEOID===e.object.properties.GEOID}))})),window.localStorage.setItem("SHARED_GEOID",b),window.localStorage.setItem("SHARED_VIEW",JSON.stringify(Ke.current.props.viewState))}else if(L.length>1){var j=Object(u.a)(L),g=j.indexOf(e.object.properties.GEOID);j.splice(g,1),z(j),Ye({type:"REMOVE_SELECTION_DATA",payload:{data:{name:p,index:Object(m.findIndex)(n[o],(function(t){return t.properties.GEOID===e.object.properties.GEOID}))}}}),window.localStorage.setItem("SHARED_GEOID",j),window.localStorage.setItem("SHARED_VIEW",JSON.stringify(Ke.current.props.viewState))}}catch(f){}else try{z([e.object.properties.GEOID]),Ye(ae({values:I([e.object],"cases",s[o].cases,x,p),name:p,index:Object(m.findIndex)(n[o],(function(t){return t.properties.GEOID===e.object.properties.GEOID}))})),window.localStorage.setItem("SHARED_GEOID",e.object.properties.GEOID),window.localStorage.setItem("SHARED_VIEW",JSON.stringify(Ke.current.props.viewState))}catch(v){}}}),new wn.a({id:"highlightLayer",data:{type:"FeatureCollection",name:o,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:n[o]?n[o]:[]},pickable:!1,stroked:!0,filled:!1,getLineColor:function(e){return-1!==L.indexOf(e.properties.GEOID)?[0,104,109]:[0,104,109,0]},lineWidthScale:500,getLineWidth:5,lineWidthMinPixels:3,lineWidthMaxPixels:10,parameters:{depthTest:!1},updateTriggers:{data:o,getLineColor:L}}),new _n.a({id:"hospital-layer",data:pe,pickable:!0,visible:O.resource.includes("hospital"),iconAtlas:"".concat(".","/assets/img/icon_atlas.png"),iconMapping:Vn,getIcon:function(e){return"hospital"},getPosition:function(e){return[e.Longitude,e.Latitude]},sizeUnits:"meters",getSize:2e4,sizeMinPixels:12,sizeMaxPixels:24,updateTriggers:{data:pe,visible:O},onHover:qe}),new _n.a({id:"clinics-layer",data:xe,pickable:!0,visible:O.resource.includes("clinic"),iconAtlas:"".concat(".","/assets/img/icon_atlas.png"),iconMapping:Vn,getIcon:function(e){return"clinic"},getSize:2e4,getPosition:function(e){return[e.lon,e.lat]},sizeUnits:"meters",sizeMinPixels:7,sizeMaxPixels:20,updateTriggers:{data:xe,visible:O},onHover:qe}),new Sn.a({id:"background",data:[[[-180,90],[0,90],[180,90],[180,-90],[0,-90],[-180,-90]]],opacity:1,getPolygon:function(e){return e},stroked:!1,filled:!0,visible:"cartogram"===O.vizType,getFillColor:[10,10,10],updateTriggers:{visible:O.vizType}}),new Dn.a({id:"cartogram layer",data:re,pickable:!0,visible:"cartogram"===O.vizType,getPosition:function(e){try{return j[le][e.id].position}catch(t){return[0,0]}},getFillColor:function(e){try{return t=j[le][e.id].value,n=e.id,a=O.bins,i=O.mapType,a.hasOwnProperty("bins")?"lisa"===i?F.lisa[V[n]]:Q(t,a.breaks,O.colorScale,O.mapType,v.numerator):[0,0,0]}catch(r){return[0,0,0]}var t,n,a,i},getRadius:function(e){try{return 10*j[le][e.id].radius}catch(t){return 0}},onHover:function(e){try{P(Object(d.a)(Object(d.a)({},e),{},{object:Object(m.find)(n[o],(function(t){var n;return t.properties.GEOID===r[o].indexOrder[null===(n=e.object)||void 0===n?void 0:n.id]}))}))}catch(t){P(null)}},updateTriggers:{getPosition:[re,O,v,le],getFillColor:[re,O,v,le],getRadius:[re,O,v,le],visible:[re,O,v,le]}}),new Cn.a({id:"cartogram text layer",data:re,pickable:!1,visible:"cartogram"===O.vizType&&o.includes("state"),getPosition:function(e){try{return j[le][e.id].position}catch(t){return[0,0]}},sizeUnits:"meters",fontWeight:"bold",getTextAnchor:"middle",getAlignmentBaseline:"center",maxWidth:500,wordBreak:"break-word",getSize:function(e){try{return 5*j[le][e.id].radius}catch(t){return 0}},getText:function(e){try{return o.includes("state")?Object(m.find)(n[o],(function(t){return+t.properties.GEOID===r[o].indexOrder[e.id]})).properties.NAME:""}catch(t){return""}},updateTriggers:{getPosition:[re,O,v,le],getFillColor:[re,O,v,le],getSize:[re,O,v,le],getRadius:[re,O,v,le],visible:[re,O,v,le]}})],Qe=(new On.a({id:"globe",controller:!1,resolution:1}),new yn.a({repeat:!0})),$e=Object(i.useState)(!1),et=Object(p.a)($e,2),tt=et[0],nt=(et[1],function(e){Ve((function(t){var n,a,i,r;return e.clientX<t.ox?(n=e.clientX,i=t.ox-e.clientX):(n=t.x,i=e.clientX-t.x),e.clientY<t.oy?(a=e.clientY,r=t.oy-e.clientY):(a=t.y,r=e.clientY-t.y),Object(d.a)(Object(d.a)({},t),{},{x:n,y:a,width:i,height:r})}))}),at=function(e){console.log(e)},it=function e(){window.removeEventListener("touchmove",at),window.removeEventListener("touchend",e),window.removeEventListener("mousemove",nt),window.removeEventListener("mouseup",e)},rt=function(e){try{"mousedown"===e.type?(Ve({x:e.pageX,y:e.pageY,ox:e.pageX,oy:e.pageY,width:0,height:0}),window.addEventListener("touchmove",at),window.addEventListener("touchend",it),window.addEventListener("mousemove",nt),window.addEventListener("mouseup",it)):function(){for(var e=Be.x,t=Be.y,a=Be.width,i=Be.height,r=Xe.current.pickObjects({x:e,y:t-50,width:a,height:i,layerIds:["choropleth"]}),c=[],l=function(e){var t,a,i,l,d,u,h,p,b,j;c.push(r[e].object.properties.GEOID);var g=void 0!==(null===(t=r[e])||void 0===t||null===(a=t.object)||void 0===a||null===(i=a.properties)||void 0===i?void 0:i.state_abbr)?"".concat(null===(l=r[e].object)||void 0===l||null===(d=l.properties)||void 0===d?void 0:d.NAME,", ").concat(null===(u=r[e])||void 0===u||null===(h=u.object)||void 0===h||null===(p=h.properties)||void 0===p?void 0:p.state_abbr):"".concat(null===(b=r[e].object)||void 0===b||null===(j=b.properties)||void 0===j?void 0:j.NAME);Ye(0===e?ae({values:I([r[e].object],"cases",s[o].cases,x,g),name:g,index:Object(m.findIndex)(n[o],(function(t){return t.properties.GEOID===r[e].object.properties.GEOID}))}):ie({values:I([r[e].object],"cases",s[o].cases,x,g),name:g,index:Object(m.findIndex)(n[o],(function(t){return t.properties.GEOID===r[e].object.properties.GEOID}))}))},d=0;d<r.length;d++)l(d);z(c),window.localStorage.setItem("SHARED_GEOID",c),window.localStorage.setItem("SHARED_VIEW",JSON.stringify(Ke.current.props.viewState)),Ve({}),it(),He(!1)}()}catch(t){console.log("bad selection")}};return Object(a.jsxs)(Yn,{onKeyDown:function(e){e.ctrlKey&&Ie(!0),e.shiftKey&&He(!0)},onKeyUp:function(e){e.ctrlKey||Ie(!1),e.shiftKey||He(!1)},onMouseDown:function(e){return Me?rt(e):null},onMouseUp:function(e){return Me?rt(e):null},children:[Object(a.jsx)(Qn,{x:Be.x,y:Be.y,width:Be.width,height:Be.height}),Object(a.jsx)("svg",{height:"0",width:"0",children:Object(a.jsx)("defs",{children:Object(a.jsxs)("clipPath",{id:"window",children:[!tt&&Object(a.jsx)("rect",{y:"0",x:"0",width:window.innerWidth,height:window.innerHeight}),Object(a.jsx)("rect",{y:"0",x:"0",width:window.innerWidth,height:.8*window.innerHeight}),Object(a.jsx)("rect",{y:.8*window.innerHeight,x:.3*window.innerWidth,width:.7*window.innerWidth,height:.2*window.innerHeight})]})})}),Object(a.jsx)(mn.a,{layers:Je,ref:Xe,initialViewState:K,controller:{dragRotate:!Me,dragPan:!Me,doubleClickZoom:!Me,touchZoom:!Me,touchRotate:!Me,keyboard:!0,scrollZoom:!0},views:Qe,children:Object(a.jsxs)(Tn.d,{reuseMaps:!0,ref:Ke,mapStyle:M,preventStyleDiffing:!0,mapboxApiAccessToken:Wn,onViewportChange:function(){return P(!1)},onLoad:function(){Ye({type:"SET_MAP_LOADED",payload:{loaded:!0}})},children:[Object(a.jsx)(Zn,(e={mapRef:Ke,id:"geocoder",onViewportChange:function(e){return X(e)},mapboxApiAccessToken:Wn,position:"top-right"},Object(jt.a)(e,"id","mapGeocoder"),Object(jt.a)(e,"placeholder","Search by Location"),Object(jt.a)(e,"clearAndBlurOnEsc",!0),Object(jt.a)(e,"style",{position:"fixed",top:"5px",right:"5px"}),e)),Object(a.jsxs)(qn,{infoPanel:g.info,onMouseEnter:function(){P(!1),ze(!1)},onMouseLeave:function(){return ze(!0)},children:[Object(a.jsx)(Xn,{title:"Selection Box",isActive:Me,onClick:function(){He(!0)},children:ke}),Object(a.jsx)(Tn.b,{positionOptions:{enableHighAccuracy:!1},trackUserLocation:!1,onGeolocate:function(e){return function(e){X((function(t){return Object(d.a)(Object(d.a)({},t),{},{latitude:e.coords.latitude,longitude:e.coords.longitude,zoom:8,transitionInterpolator:new vn.a,transitionDuration:250})}))}(e)},style:{marginBottom:10}}),Object(a.jsx)(Tn.c,{onViewportChange:function(e){return X(e)}}),Object(a.jsx)(Xn,{title:"Share this Map",shareNotification:Se,onClick:function(){return Ze({URLmapParams:O,URLcurrentData:o,URLcurrentVariable:y,URLviewState:Ke.current.props.viewState})},children:Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("path",{d:"M22.5,65c4.043,0,7.706-1.607,10.403-4.208l29.722,14.861C62.551,76.259,62.5,76.873,62.5,77.5c0,8.284,6.716,15,15,15   s15-6.716,15-15c0-8.284-6.716-15-15-15c-4.043,0-7.706,1.608-10.403,4.209L37.375,51.847C37.449,51.241,37.5,50.627,37.5,50   c0-0.627-0.051-1.241-0.125-1.847l29.722-14.861c2.698,2.601,6.36,4.209,10.403,4.209c8.284,0,15-6.716,15-15   c0-8.284-6.716-15-15-15s-15,6.716-15,15c0,0.627,0.051,1.241,0.125,1.848L32.903,39.208C30.206,36.607,26.543,35,22.5,35   c-8.284,0-15,6.716-15,15C7.5,58.284,14.216,65,22.5,65z"})})}),Object(a.jsx)(Jn,{type:"text",value:"",id:"share-url"})]}),Object(a.jsx)("div",{})]})}),k.object&&Object(a.jsx)(Kn,{style:{transition:"0ms all",position:"absolute",zIndex:1,pointerEvents:"none",left:k.x,top:k.y},children:Object(a.jsx)(ea,{content:k.object,index:v.nIndex-w})})]})}),ea=function(e){var t,n,i,r,o,c,s,l,d,u,h,p,b=e.content,j=b.properties,g=b.cases,x=b.deaths,m=b.testing_ccpt,f=b.testing_tcap,v=b.testing_wk_pos,O=b.testing,y=g&&e.index,w=x&&e.index,_=O&&e.index;return j&&g&&x&&O?Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:j.NAME}),Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),"Cases: ",null===(t=g[y])||void 0===t?void 0:t.toLocaleString("en"),Object(a.jsx)("br",{}),"New Cases: ",null===(n=g[y]-g[y-1])||void 0===n?void 0:n.toLocaleString("en"),Object(a.jsx)("br",{}),"Deaths: ",null===(i=x[w])||void 0===i?void 0:i.toLocaleString("en"),Object(a.jsx)("br",{}),"New Deaths: ",null===(r=x[w]-x[w-1])||void 0===r?void 0:r.toLocaleString("en"),Object(a.jsx)("br",{}),"Total Testing: ",null===(o=O[_])||void 0===o?void 0:o.toLocaleString("en"),Object(a.jsx)("br",{}),"7-Day Positivity Rate: ",null===(c=100*v[_])||void 0===c?void 0:c.toFixed(2),"%",Object(a.jsx)("br",{}),"7-Day Testing Capacity: ",null===(s=f[_])||void 0===s?void 0:s.toFixed(2),Object(a.jsx)("br",{}),"7-Day Confirmed Cases per Testing: ",null===(l=100*m[_])||void 0===l?void 0:l.toFixed(2),"%",Object(a.jsx)("br",{}),"Testing Criterion: ",j.criteria,Object(a.jsx)("br",{})]})]}):j&&g&&x?Object(a.jsxs)("div",{children:[Object(a.jsxs)("h3",{children:[j.NAME," ",j.state_name&&", ".concat(j.state_name)]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),"Cases: ",null===(d=g[y])||void 0===d?void 0:d.toLocaleString("en"),Object(a.jsx)("br",{}),"Deaths: ",null===(u=x[w])||void 0===u?void 0:u.toLocaleString("en"),Object(a.jsx)("br",{}),"New Cases: ",null===(h=g[y]-g[y-1])||void 0===h?void 0:h.toLocaleString("en"),Object(a.jsx)("br",{}),"New Deaths: ",null===(p=x[w]-x[w-1])||void 0===p?void 0:p.toLocaleString("en"),Object(a.jsx)("br",{})]})]}):e.content["Hospital Type"]?Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:e.content.Name}),Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),e.content["Hospital Type"],Object(a.jsx)("br",{}),e.content.Address," ",Object(a.jsx)("br",{}),e.content.Address_2&&"".concat(e.content.Address_2).concat(Object(a.jsx)("br",{})),e.content.City,", ",e.content.State,Object(a.jsx)("br",{}),e.content.Zipcode,Object(a.jsx)("br",{})]})]}):e.content.testing_status?Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:e.content.name}),Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),e.content.address,Object(a.jsx)("br",{}),e.content.city,",",e.content.st_abbr," ",Object(a.jsx)("br",{}),e.content.phone,Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"Yes"===e.content.testing_status?"This location offers COVID-19 testing.":"Currently, this location does not offer COVID-19 testing.",Object(a.jsx)("br",{})]})]}):Object(a.jsx)("div",{})};function ta(){var e=Object(ce.a)(["\n  @media (max-width:1024px){\n    display:none !important;\n  }\n"]);return ta=function(){return e},e}var na=se.a.ul(ta()),aa=function(){return Object(a.jsxs)("div",{className:"navbar",children:[Object(a.jsxs)("div",{className:"nav-logo",children:[Object(a.jsx)("img",{src:"".concat(".","/favicon/android-icon-192x192.png"),style:{height:"30px",paddingRight:"5px"}}),Object(a.jsx)("a",{href:"index.html",children:"US COVID ATLAS "})]}),Object(a.jsxs)(na,{children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"data.html",children:"DATA"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"api.html",children:"API"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"methods.html",children:"METHODS"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"faq.html",children:"FAQ"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"about.html",children:"INSIGHTS"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"about.html",children:"ABOUT"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"contact.html",children:"CONTACT"})})]})]})};function ia(){var e=Object(ce.a)(["\n    position: absolute;\n    top: 12px;\n    right: 10px;\n    font-size: 200%;\n    cursor: pointer;\n    padding:0;\n    background:none;\n    outline:none;\n    border:none;\n    color:white;\n"]);return ia=function(){return e},e}function ra(){var e=Object(ce.a)(["\n    width: 300px;\n    max-width: 90vw;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    z-index: 15;\n    background: ",";\n    color: ",";\n    padding: 0;\n    overflow: hidden;\n    border-radius: 4px;\n    padding:20px 30px 20px 20px;\n    -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    transform:translate(-50%, -50%);\n"]);return ra=function(){return e},e}var oa=se.a.div(ra(),B.gray,B.white),ca=se.a.button(ia()),sa=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.notification}));return t&&Object(a.jsxs)(oa,{children:[t,Object(a.jsx)(ca,{onClick:function(){return e({type:"SET_NOTIFICATION",payload:{info:null}})},children:"\xd7"})]})},la=n(685),da=n(627),ua=n(702),ha=n(694),pa=n(697),ba=n(684),ja={"HEADER:cases":{},"Confirmed Count":{County:{"1point3acres":{geojson:"county_1p3a.geojson",csv:["covid_confirmed_1p3a"]},"USA Facts":{geojson:"county_usfacts.geojson",csv:["covid_confirmed_usafacts"]},"New York Times":{geojson:"county_nyt.geojson",csv:["covid_confirmed_nyt"]}},State:{"1point3acres":{geojson:"state_1p3a.geojson",csv:["covid_confirmed_1p3a_state"]},"New York Times":{geojson:"state_nyt.geojson",csv:["covid_confirmed_nyt_state"]}}},"Confirmed Count per 100K Population":{County:{"1point3acres":{geojson:"county_1p3a.geojson",csv:["covid_confirmed_1p3a"]},"USA Facts":{geojson:"county_usfacts.geojson",csv:["covid_confirmed_usafacts"]},"New York Times":{geojson:"county_nyt.geojson",csv:["covid_confirmed_nyt"]}},State:{"1point3acres":{geojson:"state_1p3a.geojson",csv:["covid_confirmed_1p3a_state"]},"New York Times":{geojson:"state_nyt.geojson",csv:["covid_confirmed_nyt_state"]}}},"Confirmed Count per Licensed Bed":{County:{"1point3acres":{geojson:"county_1p3a.geojson",csv:["covid_confirmed_1p3a"]},"USA Facts":{geojson:"county_usfacts.geojson",csv:["covid_confirmed_usafacts"]},"New York Times":{geojson:"county_nyt.geojson",csv:["covid_confirmed_nyt"]}},State:{"1point3acres":{geojson:"state_1p3a.geojson",csv:["covid_confirmed_1p3a_state"]},"New York Times":{geojson:"state_nyt.geojson",csv:["covid_confirmed_nyt_state"]}}},"HEADER:deaths":{},"Death Count":{County:{"1point3acres":{geojson:"county_1p3a.geojson",csv:["covid_deaths_1p3a"]},"USA Facts":{geojson:"county_usfacts.geojson",csv:["covid_deaths_usafacts"]},"New York Times":{geojson:"county_nyt.geojson",csv:["covid_deaths_nyt"]}},State:{"1point3acres":{geojson:"state_1p3a.geojson",csv:["covid_deaths_1p3a_state"]},"New York Times":{geojson:"state_nyt.geojson",csv:["covid_deaths_nyt_state"]}}},"Death Count per 100K Population":{County:{"1point3acres":{geojson:"county_1p3a.geojson",csv:["covid_deaths_1p3a"]},"USA Facts":{geojson:"county_usfacts.geojson",csv:["covid_deaths_usafacts"]},"New York Times":{geojson:"county_nyt.geojson",csv:["covid_deaths_nyt"]}},State:{"1point3acres":{geojson:"state_1p3a.geojson",csv:["covid_deaths_1p3a_state"]},"New York Times":{geojson:"state_nyt.geojson",csv:["covid_deaths_nyt_state"]}}},"Death Count / Confirmed Count":{County:{"1point3acres":{geojson:"county_1p3a.geojson",csv:["covid_deaths_1p3a","covid_confirmed_1p3a"]},"USA Facts":{geojson:"county_usfacts.geojson",csv:["covid_deaths_usafacts","covid_confirmed_usafacts"]},"New York Times":{geojson:"county_nyt.geojson",csv:["covid_deaths_nyt","covid_confirmed_nyt"]}},State:{"1point3acres":{geojson:"state_1p3a.geojson",csv:["covid_deaths_1p3a_state","covid_confirmed_1p3a_state"]},"New York Times":{geojson:"state_nyt.geojson",csv:["covid_deaths_nyt_state","covid_confirmed_nyt_state"]}}},"HEADER:testing":{},"7 Day Testing Positivity Rate %":{County:{CDC:{geojson:"cdc.geojson",csv:["covid_wk_pos_cdc"]}},State:{"1point3acres":{geojson:"state_1p3a.geojson",csv:["covid_wk_pos_1p3a_state"]}}},"7 Day Testing Capacity":{County:{CDC:{geojson:"cdc.geojson",csv:["covid_tcap_cdc"]}},State:{"1point3acres":{geojson:"state_1p3a.geojson",csv:["covid_tcap_1p3a_state"]}}},"HEADER:vaccination":{},"Vaccinations Administered per 100K Population":{State:{CDC:{geojson:"state_1p3a.geojson",csv:["vaccine_admin_cdc_1p3a_state"]}}},"Vaccinations Distributed per 100K Population":{State:{CDC:{geojson:"state_1p3a.geojson",csv:["vaccine_dist_cdc_1p3a_state"]}}},"HEADER:community health information":{},"Uninsured %":{County:{"County Health Rankings":{geojson:"county_usfacts.geojson",csv:["chr_health_factors"]}},State:{"County Health Rankings":{geojson:"state_1p3a.geojson",csv:["chr_health_factors_state"]}}},"Over 65 Years %":{County:{"County Health Rankings":{geojson:"county_usfacts.geojson",csv:["chr_health_context"]}},State:{"County Health Rankings":{geojson:"state_1p3a.geojson",csv:["chr_health_context_state"]}}},"Life Expectancy":{County:{"County Health Rankings":{geojson:"county_usfacts.geojson",csv:["chr_life"]}},State:{"County Health Rankings":{geojson:"state_1p3a.geojson",csv:["chr_life"]}}}};function ga(){var e=Object(ce.a)(["\n  font-variant: small-caps;\n  font-weight:800;\n"]);return ga=function(){return e},e}function xa(){var e=Object(ce.a)(["\n  max-height:74vh;\n  overflow-y:visible;\n  box-sizing:border-box;\n  padding:20px;\n\n  @media (max-height:1079px){\n    overflow-y:scroll;\n    padding:20px 20px 25vh 20px;\n  }\n  \n  @media (max-width:600px) {\n    width:100%;\n    padding:0 10px 25vh 10px;\n  }\n"]);return xa=function(){return e},e}function ma(){var e=Object(ce.a)(["\n  width:100%;\n  .MuiFormControl-root {\n    width:45%;\n    min-width:60px;\n    margin-right:5px;\n  }\n"]);return ma=function(){return e},e}function fa(){var e=Object(ce.a)(["\n  opacity:",";\n  pointer-events:",";\n"]);return fa=function(){return e},e}function va(){var e=Object(ce.a)(["\n  color:white;\n  padding-bottom:20px;\n  .MuiButtonGroup-grouped {\n    color:white;\n    border-color:","77;\n    &:hover {\n      border-color:white;\n    }\n    &.active {\n      background:white;\n      color:",";\n    }\n  }\n"]);return va=function(){return e},e}function Oa(){var e=Object(ce.a)(["\n  position:fixed;\n  left:0;\n  top:50px;\n  height:auto;\n  min-height:calc(100vh - 50px);\n  min-width:200px;\n  background-color: ","fa;\n  box-shadow: 2px 0px 5px rgba(0,0,0,0.7);\n  padding:0;\n  box-sizing: border-box;\n  transition:250ms all;\n  font: 'Lato', sans-serif;\n  color:white;\n  z-index:50;\n  &.hidden {\n    transform: translateX(-100%);\n  }\n  @media (max-width:1024px) {\n    min-width:50vw;\n  }  \n  @media (max-width:600px) {\n    width:100%;\n    display: ",";\n  }\n  div.noteContainer {\n    position: absolute;\n    bottom:0;\n    left:0;\n    padding:20px;\n    box-sizing:border-box;\n    background:",";\n    width:calc(100%);\n    box-shadow: 0px -5px 10px rgba(0,0,0,0.25);\n    a {  \n      color: ",";\n      -webkit-text-decoration: none;\n      text-decoration: none;\n      }\n    }\n  }\n  p.note {\n    font-family: 'Lato', sans-serif;\n    font-weight:300;\n    font-size:90%;\n  }\n  div.poweredByGeoda {\n    color:white;\n    width:100%;\n    text-align:center;\n    @media (max-height:900px){\n    }\n    a {\n      color:white;\n      margin:0 auto;\n      text-decoration: none;\n      letter-spacing: 2px;\n      font-size:75%;\n      img {\n        width:23px;\n        height:27px;\n        transform: translate(-50%,40%);\n      }\n    }\n  }\n  button#showHideLeft {\n    position:absolute;\n    left:95%;\n    top:20px;\n    width:40px;\n    height:40px;\n    box-sizing:border-box;\n    padding:0;\n    margin:0;\n    background-color: ",";\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\n    outline:none;\n    border:none;\n    cursor: pointer;\n    transition:500ms all;\n    svg { \n      width:20px;\n      height:20px;\n      margin:10px 0 0 0;\n      @media (max-width:600px){\n        width:20px;\n        height:20px;\n        margin:5px;\n      }\n      fill:white;\n      transform:rotate(0deg);\n      transition:500ms all;\n      .cls-1 {\n        fill:none;\n        stroke-width:6px;\n        stroke:white;\n      }\n    }\n    :after {\n      opacity:0;\n      font-weight:bold;\n      content: 'Variables';\n      color:white;\n      position: relative;\n      right:-50px;\n      top:-22px;\n      transition:500ms all;\n      z-index:4;\n    }\n    @media (max-width:768px){\n      top:120px;\n    }\n    @media (max-width:600px) {\n      left:90%;\n      width:30px;\n      height:30px;\n      top:140px;\n      :after {\n        display:none;\n      }\n    }\n  }\n  button#showHideLeft.hidden {\n    left:100%;\n    svg {\n      transform:rotate(90deg);\n    }\n    :after {\n      opacity:1;\n    }\n  }\n"]);return Oa=function(){return e},e}var ya=se.a.div(Oa(),B.gray,(function(e){return e.otherPanels?"none":"initial"}),B.gray,B.yellow,B.gray),wa=Object(se.a)(ba.a)(va(),B.white,B.gray),_a=se.a.div(fa(),(function(e){return e.disabled?.25:1}),(function(e){return e.disabled?"none":"initial"})),Sa=se.a.div(ma()),Da=se.a.div(xa()),Ca=Object(se.a)(be.a)(ga()),ka=function(e){var t=Object(b.b)(),n=Object(b.c)((function(e){return e})),r=n.cols,o=n.currentData,c=n.dataParams,s=n.mapParams,l=n.panelState,u=(n.urlParams,Object(i.useState)(!1)),h=Object(p.a)(u,2),j=(h[0],h[1]),x={"HEADER:cases":{},"Confirmed Count":{variableName:"Confirmed Count",numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,scale3D:100,fixedScale:null,colorScale:null},"Confirmed Count per 100K Population":{variableName:"Confirmed Count per 100K Population",numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5,scale3D:1e3,fixedScale:null,colorScale:null},"Confirmed Count per Licensed Bed":{variableName:"Confirmed Count per Licensed Bed",numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"beds",dRange:null,dIndex:null,scale:1,scale3D:1e5,fixedScale:null,colorScale:null},"HEADER:deaths":{},"Death Count":{variableName:"Death Count",numerator:"deaths",nType:"time-series",nProperty:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,scale3D:1e4,fixedScale:null,colorScale:null},"Death Count per 100K Population":{variableName:"Death Count per 100K Population",numerator:"deaths",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5,scale3D:15e3,fixedScale:null,colorScale:null},"Death Count / Confirmed Count":{variableName:"Death Count / Confirmed Count",numerator:"deaths",nType:"time-series",nProperty:null,denominator:"cases",dType:"time-series",dProperty:null,scale:1,fixedScale:null,colorScale:null},"HEADER:community health":{},"Uninsured %":{variableName:"Uninsured %",numerator:"chr_health_factors",nType:"characteristic",nProperty:g(r,o,"chr_health_factors","UnInPrc"),nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,fixedScale:null,colorScale:"uninsured",scale3D:15e3},"Over 65 Years %":{variableName:"Over 65 Years %",numerator:"chr_health_context",nType:"characteristic",nProperty:g(r,o,"chr_health_context","Over65YearsPrc"),nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,fixedScale:null,colorScale:"over65",scale3D:15e3},"Life Expectancy":{variableName:"Life Expectancy",numerator:"chr_life",nType:"characteristic",nProperty:g(r,o,"chr_life","LfExpRt"),nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:"lifeExp",fixedScale:null,scale3D:1e3},"HEADER:testing":{},"7 Day Testing Positivity Rate %":{variableName:"7 Day Testing Positivity Rate %",numerator:"testing_wk_pos",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,fixedScale:"testing",colorScale:"testing",scale3D:1e7},"7 Day Testing Capacity":{variableName:"7 Day Testing Capacity",numerator:"testing_tcap",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,fixedScale:"testingCap",colorScale:"testingCap",scale3D:3e3},"7 Day Confirmed Cases per Testing %":{variableName:"7 Day Confirmed Cases per Testing %",numerator:"testing_ccpt",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,fixedScale:"testing",colorScale:"testing",scale3D:1e7},"HEADER:cdc vaccination":{},"Vaccinations Administered per 100K Population":{variableName:"Vaccinations Administered per 100K Population",numerator:"vaccinesAdmin",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5,scale3D:1e3,colorScale:"vaccination",fixedScale:null},"Vaccinations Distributed per 100K Population":{variableName:"Vaccinations Distributed per 100K Population",numerator:"vaccinesDist",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5,scale3D:1e3,colorScale:"vaccination",fixedScale:null},"HEADER:forecasting":{},"Forecasting (5-Day Severity Index)":{variableName:"Forecasting (5-Day Severity Index)",numerator:"predictions",nType:"characteristic",nProperty:g(r,o,"predictions","severity_index"),nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:"forecasting",fixedScale:"forecasting",scale3D:5e4}},m=function(e){j(!1),s.vizType!==e&&t(ne({vizType:e}))},f=Object(i.useState)("Confirmed Count per 100K Population"),v=Object(p.a)(f,2),O=v[0],y=v[1],w=Object(i.useState)("County"),_=Object(p.a)(w,2),S=_[0],D=_[1],C=Object(i.useState)("1point3acres"),k=Object(p.a)(C,2),T=k[0],P=k[1],I={County:{"1point3acres":"county_1p3a.geojson","New York Times":"county_nyt.geojson","USA Facts":"county_usfacts.geojson",CDC:"cdc.geojson","Yu Group at Berkeley":"county_usfacts.geojson","County Health Rankings":"county_usfacts.geojson"},State:{"1point3acres":"state_1p3a.geojson","New York Times":"state_nyt.geojson",CDC:"state_1p3a.geojson","County Health Rankings":"state_1p3a.geojson"}};return Object(a.jsxs)(ya,{className:l.variables?"":"hidden",otherPanels:l.info,id:"variablePanel",children:[Object(a.jsxs)(Da,{children:[Object(a.jsxs)("h2",{children:["Data Sources &",Object(a.jsx)("br",{})," Map Variables"]}),Object(a.jsxs)(Xe,{id:"newVariableSelect",children:[Object(a.jsx)(la.a,{htmlFor:"newVariableSelect",children:"Variable"}),Object(a.jsx)(pe.a,{value:O,onChange:function(e){var n,a,i=S,r=T,o="time-series"===x[e.target.value].nType&&("characteristic"===c.nType||-1!==c.variableName.indexOf("Testing"))&&null===c.nRange&&-1===x[e.target.value].variableName.indexOf("Testing")&&"characteristic"!==x[e.target.value].nType?"nRange":null,s="time-series"===x[e.target.value].dType?"dIndex":null,l="time-series"===x[e.target.value].dType?"dRange":null;ja[e.target.value].hasOwnProperty(i)&&ja[e.target.value][i].hasOwnProperty(r)?t(te(Object(d.a)(Object(d.a)({},x[e.target.value]),{},(n={},Object(jt.a)(n,o,7),Object(jt.a)(n,s,c.nIndex),Object(jt.a)(n,l,c.nRange),n)))):(i=Object.keys(ja[e.target.value])[0],r=Object.keys(ja[e.target.value][i])[0],t({type:"SET_VARIABLE_PARAMS_AND_DATASET",payload:{params:{params:Object(d.a)(Object(d.a)({},x[e.target.value]),{},(a={},Object(jt.a)(a,o,7),Object(jt.a)(a,s,c.nIndex),Object(jt.a)(a,l,c.nRange),a)),dataset:I[i][r],mapParams:{customScale:x[e.target.value].colorScale||null}}}}),D(i),P(r));y(e.target.value)},children:Object.keys(ja).map((function(e){return"HEADER"===e.split(":")[0]?Object(a.jsx)(Ca,{disabled:!0,children:e.split(":")[1]},e.split(":")[1]):Object(a.jsx)(be.a,{value:e,children:e},e)}))})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(_a,{disabled:"characteristic"===c.nType,children:[Object(a.jsxs)(Xe,{id:"dateSelector",children:[Object(a.jsx)(la.a,{htmlFor:"date-select",children:"Date Range"}),Object(a.jsxs)(pe.a,{id:"date-select",value:null===c.nRange||"custom"===c.rangeType||-1!==c.variableName.indexOf("Testing")?"x":c.nRange,onChange:function(e){var n=e.target.value;"custom"===n?"time-series"===c.nType&&"time-series"===c.dType?t(te({nRange:30,dRange:30,rangeType:"custom"})):"time-series"===c.nType?t(te({nRange:30,rangeType:"custom"})):"time-series"===c.dType&&t(te({dRange:30,rangeType:"custom"})):"time-series"===c.nType&&"time-series"===c.dType?t(te({nRange:n,dRange:n,rangeType:"fixed"})):"time-series"===c.nType?t(te({nRange:n,rangeType:"fixed"})):"time-series"===c.dType&&t(te({dRange:n,rangeType:"fixed"}))},displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[Object(a.jsxs)(be.a,{value:"x",disabled:!0,style:{display:"none"},children:["custom"===c.rangeType&&Object(a.jsx)("span",{children:"Custom Range"}),null===c.nRange&&-1===c.variableName.indexOf("Testing")&&Object(a.jsx)("span",{children:"Cumulative"}),-1!==c.variableName.indexOf("Testing")&&Object(a.jsx)("span",{children:"7-Day Average"})]}),Object(a.jsx)(be.a,{value:null,disabled:-1!==c.variableName.indexOf("Testing"),children:"Cumulative"},"cumulative"),Object(a.jsx)(be.a,{value:1,disabled:-1!==c.variableName.indexOf("Testing"),children:"Daily New"},"daily"),Object(a.jsx)(be.a,{value:7,disabled:-1!==c.variableName.indexOf("Testing"),children:"7-Day Average"},"7-day-ave"),Object(a.jsx)(be.a,{value:"custom",disabled:-1!==c.variableName.indexOf("Testing"),children:"Custom Range"},"customRange")]})]}),Object(a.jsxs)(Ze,{id:"binModeSwitch",disabled:-1!==c.variableName.indexOf("Testing")||"characteristic"===c.nType,children:[Object(a.jsx)(en.a,{checked:"dynamic"===s.binMode,onChange:function(){"dynamic"===s.binMode?t(ne({binMode:""})):t(ne({binMode:"dynamic"}))},name:"bin chart switch"}),Object(a.jsxs)("p",{children:["dynamic"===s.binMode?"Dynamic":"Fixed Bins",Object(a.jsx)(xe,{id:"BinModes"})]})]})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(Xe,{id:"geographySelect",children:[Object(a.jsx)(la.a,{htmlFor:"geographySelect",children:"Geography"}),Object(a.jsx)(pe.a,{value:S,onChange:function(e){if(D(e.target.value),ja[O][e.target.value].hasOwnProperty(T))t(ee(I[e.target.value][T]));else{var n=Object.keys(ja[O][e.target.value])[0];P(n),t(ee(I[e.target.value][n]))}},children:["County","State"].map((function(e){return Object(a.jsx)(be.a,{value:e,disabled:!ja[O].hasOwnProperty(e),children:e},e)}))})]}),Object(a.jsxs)(Xe,{id:"datasetSelect",children:[Object(a.jsx)(la.a,{htmlFor:"datasetSelect",children:"Data Source"}),Object(a.jsx)(pe.a,{value:T,onChange:function(e){P(e.target.value),t(ee(I[S][e.target.value]))},children:["1point3acres","USA Facts","New York Times","CDC","County Health Rankings"].map((function(e){return Object(a.jsx)(be.a,{value:e,disabled:void 0===ja[O][S]||!ja[O][S].hasOwnProperty(e),children:e},e)}))})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(Xe,{component:"Radio",id:"mapType",children:[Object(a.jsx)(da.a,{component:"legend",children:"Map Type"}),Object(a.jsxs)(pa.a,{"aria-label":"maptype",name:"maptype1",onChange:function(e,n){t(ne("lisa"===n?{mapType:n,nBins:4,bins:U[n],colorScale:F[n]}:{nBins:"hinge15_breaks"===n?6:8,mapType:n,binMode:"hinge15_breaks"===n?"dynamic":""}))},value:s.mapType,className:"radioContainer",children:[Object(a.jsx)(ua.a,{value:"natural_breaks",control:Object(a.jsx)(ha.a,{}),label:"Natural Breaks"},"natural_breaks"),Object(a.jsx)(xe,{id:"NaturalBreaks"}),Object(a.jsx)("br",{}),Object(a.jsx)(ua.a,{value:"hinge15_breaks",control:Object(a.jsx)(ha.a,{}),label:"Box Map"},"hinge15_breaks"),Object(a.jsx)(xe,{id:"BoxMap"}),Object(a.jsx)("br",{}),Object(a.jsx)(ua.a,{value:"lisa",control:Object(a.jsx)(ha.a,{}),label:"Hotspot"},"lisa"),Object(a.jsx)(xe,{id:"Hotspot"}),Object(a.jsx)("br",{})]})]}),Object(a.jsx)("p",{children:"Visualization Type"}),Object(a.jsxs)(wa,{color:"primary","aria-label":"text button group",id:"visualizationType",children:[Object(a.jsx)(Ve.a,{className:"2D"===s.vizType?"active":"","data-val":"2D",onClick:function(){return m("2D")},children:"2D"},"2D-btn"),Object(a.jsx)(Ve.a,{className:"3D"===s.vizType?"active":"","data-val":"3D",onClick:function(){return m("3D")},children:"3D"},"3D-btn"),Object(a.jsx)(Ve.a,{className:"cartogram"===s.vizType?"active":"","data-val":"cartogram",onClick:function(){return m("cartogram")},children:"Cartogram"},"cartogram-btn")]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)(Sa,{id:"overlaysResources",children:[Object(a.jsxs)(Xe,{children:[Object(a.jsx)(la.a,{htmlFor:"overlay-select",children:"Overlay"}),Object(a.jsxs)(pe.a,{id:"overlay-select",value:s.overlay,onChange:function(e){t(ne({overlay:e.target.value}))},children:[Object(a.jsx)(be.a,{value:"",children:"None"},"None"),Object(a.jsx)(be.a,{value:"native_american_reservations",children:"Native American Reservations"},"native_american_reservations"),Object(a.jsxs)(be.a,{value:"segregated_cities",children:["Hypersegregated Cities",Object(a.jsx)(xe,{id:"Hypersegregated"})]},"segregated_cities"),Object(a.jsxs)(be.a,{value:"blackbelt",children:["Black Belt Counties",Object(a.jsx)(xe,{id:"BlackBelt"})]},"blackbelt"),Object(a.jsxs)(be.a,{value:"uscongress-districts",children:["US Congressional Districts ",Object(a.jsx)(xe,{id:"USCongress"})]},"uscongress-districts")]})]}),Object(a.jsxs)(Xe,{children:[Object(a.jsx)(la.a,{htmlFor:"resource-select",children:"Resource"}),Object(a.jsxs)(pe.a,{id:"resource-select",value:s.resource,onChange:function(e){t(ne({resource:e.target.value}))},children:[Object(a.jsx)(be.a,{value:"",children:"None"},"None"),Object(a.jsx)(be.a,{value:"clinics_hospitals",children:"Clinics and Hospitals"},"variable1"),Object(a.jsx)(be.a,{value:"clinics",children:"Clinics"},"variable2"),Object(a.jsx)(be.a,{value:"hospitals",children:"Hospitals"},"variable3")]})]})]})]}),Object(a.jsxs)("div",{className:"noteContainer",children:[Object(a.jsx)("h3",{children:"Help us improve the Atlas!"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSf0KdYeVyvwnz0RLnZijY3kdyFe1SwXukPc--a1HFPE1NRxyw/viewform?usp=sf_link",target:"_blank",rel:"noopener noreferrer",children:"Take the Atlas v2 survey here "}),"or share your thoughts at ",Object(a.jsx)("a",{href:"mailto:contact@theuscovidatlas.org",target:"_blank",rel:"noopener noreferrer",children:"contact@theuscovidatlas.org."})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("p",{className:"note",children:["Data is updated with freshest available data at 3pm CST daily, at minimum. In case of data discrepancy, local health departments are considered most accurate as per CDC recommendations. More information on ",Object(a.jsx)("a",{href:"data.html",children:"data"}),", ",Object(a.jsx)("a",{href:"methods.html",children:"methods"}),", and ",Object(a.jsx)("a",{href:"FAQ.html",children:"FAQ"})," at main site."]}),Object(a.jsx)("div",{className:"poweredByGeoda",children:Object(a.jsxs)("a",{href:"https://geodacenter.github.io",target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)("img",{src:"".concat(".","/assets/img/geoda-logo.png"),alt:"Geoda Logo"}),"POWERED BY GEODA"]})})]}),Object(a.jsx)("button",{onClick:function(){l.variables?t(oe({variables:!1})):t(oe({variables:!0}))},id:"showHideLeft",className:l.variables?"active":"hidden",children:_e})]})},Ta=n(686);function Pa(){var e=Object(ce.a)(["\n    z-index:10000;\n    max-width:200px;\n    background:none;\n    padding:0;\n    margin:0;\n    pointer-events: none;\n    div.tooltipContentContainer {\n        background:black;\n        padding:1px 10px;\n        margin:0;\n        borderRadius: 4px;\n        color:white;\n        // transform:translateX(65%);\n        box-shadow: 0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12);\n        pointer-events: all;\n        a {\n            color: ",";\n            text-decoration:none;\n        }\n    }\n"]);return Pa=function(){return e},e}var Ia=Object(se.a)(Ta.a)(Pa(),B.yellow),Aa=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.anchorEl})),n=Boolean(t),i=n?"simple-popper":void 0;return Object(a.jsx)(Ia,{id:i,open:n,anchorEl:t,disablePortal:!1,modifiers:{flip:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:"window"}},onMouseEnter:function(n){e(re(t))},onMouseLeave:function(){e(re(null))},children:Object(a.jsx)("div",{className:"tooltipContentContainer",children:t&&W[t.id]})})};function Ea(){var e=Object(ce.a)(["\n    position:fixed;\n    width:100%;\n    height:100%;\n    z-index:500;\n    top:0;\n    left:0;\n    background:",";\n    transition: 500ms opacity;\n    img {\n        width:100px;\n        height:86px;\n        position:fixed;\n        left:50%;\n        top:50%;\n        transform:translate(-50%, -50%);\n    }\n    @keyframes fade {\n        0% {fill-opacity:1};\n        50% {fill-opacity:0.25};\n        100% {fill-opacity:1};\n    }\n    &.fadeOut {\n        opacity:0;\n        pointer-events:none;\n    }\n"]);return Ea=function(){return e},e}var La=se.a.div(Ea(),B.gray),za=function(e){var t=Object(i.useState)(!1),n=Object(p.a)(t,2),r=n[0],o=n[1];return e.loaded&&setTimeout((function(){o(!0)}),500),Object(a.jsx)(La,{className:e.loaded?"fadeOut":"",style:{display:r?"none":"initial"},id:"preloaderContainer",children:Object(a.jsx)("img",{src:"".concat(".","/assets/img/preloader.gif"),alt:"Preloader"})})};function Ra(){var e=Object(ce.a)(["\n    position:absolute;\n    right:5px;\n    bottom:10px;\n    background:none;\n    outline:none;\n    border:none;\n    transform: rotate(90deg);\n    cursor:nw-resize;\n    display:",";\n"]);return Ra=function(){return e},e}var Na=se.a.button(Ra(),(function(e){return e.notScaleable?"none":"initial"})),Ma=function(e){var t=Object(i.useState)(e.defaultWidth),n=Object(p.a)(t,2),r=n[0],o=n[1],c=Object(i.useState)(e.defaultHeight),s=Object(p.a)(c,2),l=s[0],d=s[1],u=Object(i.useState)(!1),h=Object(p.a)(u,2),j=h[0],g=h[1],x=function(e){o((function(t){return t+e.movementX})),d((function(t){return t+e.movementY}))},m=function(e){o((function(t){var n;return(null===e||void 0===e||null===(n=e.targetTouches[0])||void 0===n?void 0:n.clientX)-j[0]||t})),d((function(t){var n;return(null===e||void 0===e||null===(n=e.targetTouches[0])||void 0===n?void 0:n.clientY)-j[1]||t}))},f=function e(){window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",e)},v=function e(){window.removeEventListener("touchmove",m),window.removeEventListener("touchend",e)},O=Object(b.c)((function(t){return t.panelState[e.title]}));return Object(i.useEffect)((function(){o(e.defaultWidth),d(e.defaultHeight)}),[O,e.defaultHeight,e.defaultWidth]),Object(a.jsxs)("div",{style:{width:r,height:l,minHeight:e.minHeight,minWidth:e.minWidth},children:[e.content,Object(a.jsx)(Na,{id:"resize",notScaleable:e.notScaleable,onMouseDown:function(){window.addEventListener("mousemove",x),window.addEventListener("mouseup",f)},onTouchStart:function(e){g([+e.target.parentNode.parentNode.parentNode.style.left.slice(0,-2),+e.target.parentNode.parentNode.parentNode.style.top.slice(0,-2)]),window.addEventListener("touchmove",m),window.addEventListener("touchend",v)},style:{zIndex:10},children:Object(a.jsx)("svg",{height:"20px",width:"20px",fill:"white",viewBox:"0 0 8.4666667 8.4666667",x:"0px",y:"0px",children:Object(a.jsx)("g",{transform:"translate(0,-288.53333)",children:Object(a.jsx)("path",{d:"m 5.5562495,289.59166 v 0.52916 h 0.94878 l -1.665015,1.66502 0.3741367,0.37414 1.665015,-1.66502 v 0.94878 h 0.5291667 v -1.85208 z m -2.303735,3.78168 -1.665015,1.66501 v -0.94878 H 1.0583328 v 1.85209 h 1.8520834 v -0.52917 h -0.94878 l 1.665015,-1.66501 z"})})})})]})};function Ha(){var e=Object(ce.a)(["\n    position: fixed;\n    top:50px;\n    left:calc(50vw - 225px);\n    background:",";\n    width:90vw;\n    max-width: 450px;\n    box-sizing: border-box;\n    padding:0;\n    margin:0;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius:0 0 0.5vh 0.5vh ;\n    transition:250ms all;\n    hr {\n        opacity:0.5;\n    }\n    div.MuiGrid-item {\n        padding:0;\n    }\n    \n    @media (max-width:768px){\n        width:100%;\n        max-width:100%;\n        left:0;\n        transform:none;\n    }\n    @media (max-width:750px) and (orientation: landscape) {\n        // bottom all the way down for landscape phone\n    }\n"]);return Ha=function(){return e},e}var Fa=se.a.div(Ha(),B.gray),Ua=function(){return Object(a.jsxs)(Fa,{id:"timelinePanel",children:[Object(a.jsx)(bt,{}),Object(a.jsx)(vt,{})]})};var Ba=function(){var e=Object(i.useMemo)((function(){return function(){var e=function(e){return"0"!==e[0]?e:e.slice(1)};Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};for(var t,n=new Date,a=new Date("01/21/2020"),i=[],r=[],o=[];a<n;){i.push(a);var c=a.toISOString().slice(0,10);r.push(c),o.push(e((t=c).slice(5,7))+"/"+e(t.slice(8,10))+"/"+t.slice(2,4)),a=a.addDays(1)}return{isoDateList:r,usDateList:o}}()})),t=window.innerWidth<=1024?[.1*window.innerWidth,.1*window.innerWidth,.25*window.innerHeight,.8*window.innerWidth,.8*window.innerWidth,.4*window.innerHeight,.7*window.innerHeight,.5*window.innerWidth,.25*window.innerWidth,.15*window.innerHeight,.5*window.innerHeight,.5*window.innerWidth]:[window.innerWidth-400,window.innerWidth-575,75,300,450,300,.5*window.innerHeight,.35*window.innerWidth,.25*window.innerWidth,.325*window.innerHeight,200,200],n=Object(p.a)(t,12),r=(n[0],n[1]),o=n[2],s=(n[3],n[4]),g=n[5],x=n[6],m=n[7],f=n[8],v=n[9],y=n[10],_=n[11],D=Object(b.c)((function(e){return e})),C=D.storedData,k=D.storedGeojson,T=D.storedLisaData,E=D.storedCartogramData,L=D.currentData,z=D.mapParams,R=D.dataParams,M=D.dateIndices,B=D.mapLoaded,W=Object(i.useState)(null),G=Object(p.a)(W,2),Z=G[0],Q=G[1],ee=Object(b.b)(),te=function(){var t=Object(h.a)(l.a.mark((function t(n,a){var i,r,o,c,s,h,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.geojson,r=n.csvs,o=n.joinCols,c=n.tableNames,s=n.accumulate,h=n.dateList,p=r.map((function(t){return H("".concat(".","/csv/").concat(t,".csv"),o[1],s.includes(t),e[h[t]]).then((function(e){return e}))})),Promise.all([J("".concat(".","/geojson/").concat(i),a).then((function(e){return e}))].concat(Object(u.a)(p))).then((function(t){var n,r=$(t[0].data,o[0],t.slice(1),c,o[1]),s=S(t.slice(1),c),l=O(t.slice(1),c),h=l[R.numerator],p=null!==h?h.slice(-1)[0]:null,b=I(r,"cases",l.cases,e.isoDateList),j=P(r,Object(d.a)(Object(d.a)({},R),{},{nIndex:p||R.nIndex,binIndex:p||R.bomOmdex}));if(null===R.fixedScale||void 0===R.fixedScale){var g=a.custom_breaks(i,z.mapType,z.nBins,null,j);n={bins:"natural_breaks"===z.mapType?g.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(u.a)(g.breaks.slice(1,-1)),[Math.pow(10,12)])}}else n=U[R.fixedScale];ee({type:"DATA_LOAD",payload:{load:{storeData:{data:r,name:i},currentData:i,columnNames:{data:s,name:i},dateIndices:{data:l,name:i},storeGeojson:{data:t[0].geoidIndex,name:i},chartData:b,mapParams:{bins:n,colorScale:F[R.colorScale||z.mapType]},variableParams:{nIndex:p||R.nIndex,binIndex:p||R.binIndex}}}})}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ae=Object(i.useCallback)((function(e){var t=e.storedData,n=e.currentData,a=e.dataParams,i=e.mapParams,r=e.gda_proxy,o=e.colorScales;if(t.hasOwnProperty(n)&&t[n][0].hasOwnProperty(a.numerator)&&null!==r&&t.hasOwnProperty(n)&&"lisa"!==i.mapType)if(null===a.fixedScale){var c=r.custom_breaks(n,i.mapType,i.nBins,null,P(t[n],a));ee(ne({bins:{bins:"natural_breaks"===i.mapType?c.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(u.a)(c.breaks.slice(1,-1)),[Math.pow(10,12)])},colorScale:"natural_breaks"===i.mapType?o[a.colorScale||i.mapType]:o[i.mapType||a.colorScale]}))}else ee(ne({bins:U[a.fixedScale],colorScale:o[a.fixedScale]}))}));return Object(i.useEffect)((function(){var t,n={},a=window.location.search,i=new URLSearchParams(a),r=Object(c.a)(i);try{for(r.s();!(t=r.n()).done;){var o=Object(p.a)(t.value,2),s=o[0],d=o[1];n[s]=d}}catch(u){r.e(u)}finally{r.f()}ee({type:"SET_URL_PARAMS",payload:{load:{currentData:n.src?X[decodeURI(n.src)]:"county_1p3a.geojson",paramsDict:n,mapParams:{vizType:n.cartogram?"cartogram":n["3d"]?"3D":"2D",mapType:n.mthd?decodeURI(n.mthd):"natural_breaks",overlay:void 0!==n.ovr?Y[n.ovr]:"",resource:void 0!==n.res?K[n.res]:""}}}}),window.innerWidth<=1024&&ee(oe({variables:!1,info:!1,tutorial:!1,lineChart:!1})),function(){var e=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.New();case 2:t=e.sent,Q(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),ee({type:"SET_DATES",payload:{data:e.isoDateList}})}),[]),Object(i.useEffect)((function(){if(null!==Z)if(C==={})te(V[L],Z);else if(void 0===C[L])te(V[L],Z);else if(void 0!==M[L]){var t=M[L][R.numerator],n=null!==t?t.slice(-1)[0]:null;ee({type:"DATA_LOAD_EXISTING",payload:{load:{variableParams:{nIndex:n||R.nIndex,dIndex:"time-series"===R.dType?n:R.dType,dRange:"time-series"===R.dType?R.nRange:R.dRange,binIndex:n||R.nIndex},chartData:I(C[L],"cases",M[L].cases,e.isoDateList)}}}),ae({storedData:C,currentData:L,mapParams:z,gda_proxy:Z,colorScales:F,dataParams:Object(d.a)(Object(d.a)({},R),{},{nIndex:n||R.nIndex,binIndex:n||R.nIndex})})}}),[Z,L]),Object(i.useEffect)((function(){if(null!==Z&&"lisa"===z.mapType){var e=q(L,R);T.hasOwnProperty(e)||ee({type:"SET_STORED_LISA_DATA",payload:{data:N(Z,L,A(C[L],R,k[L].indexOrder)),name:e}})}if(null!==Z&&"cartogram"===z.vizType){var t=q(L,R);E.hasOwnProperty(t)||ee(function(e,t){return{type:"SET_STORED_CARTOGRAM_DATA",payload:{data:e,name:t}}}(w(Z,L,A(C[L],R,k[L].indexOrder)),t))}}),[R,z]),Object(i.useEffect)((function(){C.hasOwnProperty(L)&&null!==Z&&"dynamic"!==z.binMode&&"lisa"!==z.mapType&&ae({storedData:C,currentData:L,dataParams:R,mapParams:z,gda_proxy:Z,colorScales:F})}),[R.numerator,R.nProperty,R.nRange,R.denominator,R.dProperty,R.dRange,z.mapType]),Object(i.useEffect)((function(){C.hasOwnProperty(L)&&null!==Z&&"dynamic"===z.binMode&&"lisa"!==z.mapType&&ae({storedData:C,currentData:L,dataParams:Object(d.a)(Object(d.a)({},R),{},{binIndex:R.nIndex}),mapParams:z,gda_proxy:Z,colorScales:F})}),[R.nIndex,R.dIndex,z.binMode,R.variableName,R.nRange,z.mapType]),Object(i.useEffect)((function(){var e=window.innerWidth<=1024?[.1*window.innerWidth,.1*window.innerWidth,.25*window.innerHeight,.8*window.innerWidth,.8*window.innerWidth,.4*window.innerHeight,.7*window.innerHeight,.5*window.innerWidth,.25*window.innerWidth,.15*window.innerHeight,.5*window.innerHeight,.5*window.innerWidth]:[window.innerWidth-400,window.innerWidth-575,75,300,450,300,.5*window.innerHeight,.35*window.innerWidth,.25*window.innerWidth,.325*window.innerHeight,200,200],t=Object(p.a)(e,12);t[0],r=t[1],o=t[2],t[3],s=t[4],g=t[5],x=t[6],m=t[7],f=t[8],v=t[9],y=t[10],_=t[11]}),[window.innerHeight,window.innerWidth]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(za,{loaded:B}),Object(a.jsx)(aa,{}),Object(a.jsx)("header",{className:"App-header",style:{position:"fixed",left:"20vw",top:"100px",zIndex:10}}),Object(a.jsxs)("div",{id:"mainContainer",children:[Object(a.jsx)($n,{}),Object(a.jsx)(Ua,{}),Object(a.jsx)(ue,{}),Object(a.jsx)(ka,{}),Object(a.jsx)(Fe,{}),Object(a.jsx)(Aa,{}),Object(a.jsx)(sa,{}),Object(a.jsx)(Ct,{z:9,defaultX:r,defaultY:o,title:"lineChart",content:Object(a.jsx)(Ma,{content:Object(a.jsx)(gn,{}),title:"lineChart",defaultWidth:s,defaultHeight:g,minHeight:y,minWidth:_})}),Object(a.jsx)(Ct,{z:10,defaultX:f,defaultY:v,title:"tutorial",content:Object(a.jsx)(Ma,{content:Object(a.jsx)(Vt,{}),title:"tutorial",defaultWidth:m,defaultHeight:x,minHeight:y,minWidth:_})})]})]})},Va=n(187),Wa={geodaProxy:null,storedData:{},storedGeojson:{},storedLisaData:{},storedCartogramData:{},storedCSV:{},storedMobilityData:{},cols:{},dateIndices:{},currentData:"county_1p3a.geojson",chartData:[{}],selectionKeys:[],selectionIndex:[],centroids:{},dates:{},currDate:"",currDateIndex:"",startDateIndex:"",currentZVariable:null,currentMethod:"natural_breaks",currentOverlay:"",currentResource:"",dataParams:{variableName:"Confirmed Count per 100K Population",numerator:"cases",nType:"time-series",nProperty:null,nRange:7,nIndex:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5,binIndex:"",scale3D:1e3,zAxisParams:null,fixedScale:null,colorScale:null,storedRange:null},mapParams:{mapType:"natural_breaks",bins:{bins:[],breaks:[]},binMode:"",fixedScale:null,nBins:8,vizType:"2D",activeGeoid:"",overlay:"",resource:"",colorScale:[[240,240,240],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[177,0,38]]},panelState:{variables:!0,info:!1,tutorial:!1,lineChart:!0},storedRange:null,currentGeoid:"",sidebarData:{},anchorEl:null,mapLoaded:!1,notification:null,urlParams:{}},Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_LOAD":var n=t.payload.load,a=n.storeData,i=n.currentData,r=n.columnNames,o=n.dateIndices,c=n.storeGeojson,s=n.chartData,l=n.mapParams,h=(n.dates,n.currDate,n.variableParams),p=Object(d.a)({},e.storedData),b=Object(d.a)({},e.cols),j=Object(d.a)({},e.dateIndices),g=Object(d.a)({},e.storedGeojson),x=Object(d.a)(Object(d.a)({},e.mapParams),l),m=(Object(d.a)({},e.dates),Object(d.a)(Object(d.a)({},e.dataParams),h)),f=Object(d.a)(Object(d.a)({},e.panelState),{},{info:!1});return p[a.name]=a.data,b[r.name]=r.data,j[o.name]=o.data,g[c.name]=c.data,Object(d.a)(Object(d.a)({},e),{},{storedData:p,cols:b,dateIndices:j,storedGeojson:g,mapParams:x,dataParams:m,currentData:i,selectionKeys:[],selectionIndex:[],chartData:s,sidebarData:{},panelState:f});case"DATA_LOAD_EXISTING":var v=Object(d.a)(Object(d.a)({},e.dataParams),t.payload.load.variableParams),O=Object(d.a)(Object(d.a)({},e.panelState),{},{info:!1});return Object(d.a)(Object(d.a)({},e),{},{dataParams:v,chartData:t.payload.load.chartData,sidebarData:{},selectionKeys:[],selectionIndex:[],panelState:O});case"SET_NEW_BINS":var y=Object(d.a)(Object(d.a)({},e.dataParams),t.payload.load.variableParams),w=Object(d.a)(Object(d.a)({},e.mapParams),t.payload.load.mapParams);return Object(d.a)(Object(d.a)({},e),{},{dataParams:y,mapParams:w});case"SET_GEOID":return Object(d.a)(Object(d.a)({},e),{},{currentGeoid:t.payload.geoid});case"SET_STORED_DATA":var _=Object(d.a)({},e.storedData);return _[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{storedData:_});case"SET_STORED_GEOJSON":var S=Object(d.a)({},e.storedGeojson);return S[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{storedGeojson:S});case"SET_STORED_LISA_DATA":var D=Object(d.a)({},e.storedLisaData);return D[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{storedLisaData:D});case"SET_STORED_CARTOGRAM_DATA":var C=Object(d.a)({},e.storedCartogramData);return C[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{storedCartogramData:C});case"SET_STORED_MOBILITY_DATA":return Object(d.a)(Object(d.a)({},e),{},{storedMobilityData:t.payload.data});case"SET_CENTROIDS":var k=Object(d.a)({},e.centroids);return k[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{centroids:k});case"SET_CURRENT_DATA":return Object(d.a)(Object(d.a)({},e),{},{currentData:t.payload.data});case"SET_GEODA_PROXY":return Object(d.a)(Object(d.a)({},e),{},{geodaProxy:t.payload.proxy});case"SET_DATES":return Object(d.a)(Object(d.a)({},e),{},{dates:t.payload.data});case"SET_DATA_FUNCTION":return Object(d.a)(Object(d.a)({},e),{},{currentDataFn:t.payload.fn});case"SET_COLUMN_NAMES":var T=Object(d.a)({},e.cols);return T[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{cols:T});case"SET_CURR_DATE":return Object(d.a)(Object(d.a)({},e),{},{currDate:t.payload.date});case"SET_DATE_INDEX":return Object(d.a)(Object(d.a)({},e),{},{currDateIndex:t.payload.index});case"SET_START_DATE_INDEX":return Object(d.a)(Object(d.a)({},e),{},{startDateIndex:t.payload.index});case"SET_BINS":var P={};return P.bins=t.payload.bins,P.breaks=t.payload.breaks,Object(d.a)(Object(d.a)({},e),{},{bins:P});case"SET_3D":return Object(d.a)(Object(d.a)({},e),{},{use3D:!e.use3D});case"SET_DATA_SIDEBAR":return Object(d.a)(Object(d.a)({},e),{},{sidebarData:t.payload.data});case"INCREMENT_DATE":var I=Object(d.a)({},e.dataParams),A=e.dateIndices[e.currentData][e.dataParams.numerator],E=A[A.indexOf(e.dataParams.nIndex)+t.payload.index];return void 0===E?(I.nIndex=A[0],I.dIndex=A[0],Object(d.a)(Object(d.a)({},e),{},{dataParams:I})):(I.nIndex=E,I.dIndex=E,Object(d.a)(Object(d.a)({},e),{},{dataParams:I}));case"SET_VARIABLE_PARAMS":var L=Object(d.a)(Object(d.a)({},e.dataParams),t.payload.params);return null!==e.dataParams.zAxisParams&&(L.zAxisParams.nIndex=L.nIndex,L.zAxisParams.dIndex=L.dIndex),"time-series"===L.nType&&null===L.nIndex&&(L.nIndex=e.storedIndex,L.nRange=e.storedRange),"time-series"===L.dType&&null===L.dIndex&&(L.dIndex=e.storedIndex,L.dRange=e.storedRange),"characteristic"===L.nType&&"time-series"===e.dataParams.nType?Object(d.a)(Object(d.a)({},e),{},{storedIndex:e.dataParams.nIndex,storedRange:e.dataParams.nRange,dataParams:L}):Object(d.a)(Object(d.a)({},e),{},{dataParams:L});case"SET_VARIABLE_PARAMS_AND_DATASET":var z=t.payload.params,R=z.params,N=z.dataset,M=z.dataMapParams,H=Object(d.a)(Object(d.a)({},e.dataParams),R),F=Object(d.a)(Object(d.a)({},e.mapParams),M);return Object(d.a)(Object(d.a)({},e),{},{dataParams:H,mapParams:F,currentData:N});case"SET_Z_VARIABLE_PARAMS":var U=Object(d.a)(Object(d.a)({},e.dataParams),{},{zAxisParams:t.payload.params});return Object(d.a)(Object(d.a)({},e),{},{currentZVariable:t.payload.variable,dataParams:U});case"SET_MAP_PARAMS":var B=Object(d.a)(Object(d.a)({},e.mapParams),t.payload.params),V=Object(d.a)({},e.dataParams),W=e.currentZVariable;return"3D"!==t.payload.params.vizType&&(V.zAxisParams=null,W=null),Object(d.a)(Object(d.a)({},e),{},{mapParams:B,dataParams:V,currentZVariable:W});case"SET_PANELS":var G=Object(d.a)(Object(d.a)({},e.panelState),t.payload.params);return Object(d.a)(Object(d.a)({},e),{},{panelState:G});case"SET_VARIABLE_NAME":return Object(d.a)(Object(d.a)({},e),{},{currentVariable:t.payload.name});case"SET_SELECTION_DATA":return Object(d.a)(Object(d.a)({},e),{},{chartData:t.payload.data.values,selectionKeys:[t.payload.data.name],selectionIndex:[t.payload.data.index]});case"APPEND_SELECTION_DATA":for(var Y=e.chartData,K=t.payload.data.name+" Daily Count",X=t.payload.data.name+" Total Cases",Z=0;Z<Y.length;Z++)Y[Z][K]=t.payload.data.values[Z][K],Y[Z][X]=t.payload.data.values[Z][X];var q=[t.payload.data.name].concat(Object(u.a)(e.selectionKeys)),J=[t.payload.data.index].concat(Object(u.a)(e.selectionIndex));return Object(d.a)(Object(d.a)({},e),{},{chartData:Y,selectionKeys:q,selectionIndex:J});case"REMOVE_SELECTION_DATA":var Q=Object(u.a)(e.selectionKeys),$=Q.indexOf(t.payload.data.name);Q.splice($,1);var ee=Object(u.a)(e.selectionIndex);return $=ee.indexOf(t.payload.data.index),ee.splice($,1),Object(d.a)(Object(d.a)({},e),{},{selectionKeys:Q,selectionIndex:ee});case"SET_ANCHOR_EL":return Object(d.a)(Object(d.a)({},e),{},{anchorEl:t.payload.anchorEl});case"SET_MAP_LOADED":return Object(d.a)(Object(d.a)({},e),{},{mapLoaded:t.payload.loaded});case"SET_NOTIFICATION":return Object(d.a)(Object(d.a)({},e),{},{notification:t.payload.info});case"SET_URL_PARAMS":var te=Object(d.a)(Object(d.a)({},e.mapParams),t.payload.load.mapParams);return Object(d.a)(Object(d.a)({},e),{},{currentData:t.payload.load.currentData,urlParams:t.payload.load.paramsDict,mapParams:te});default:return e}},Ya=(n(619),n(620),n(348)),Ka=n.n(Ya),Xa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Za(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var qa=Object(Va.b)(Ga,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Ka.a.load({google:{families:["Lato:300,400,700,900","Playfair Display:ital","sans-serif"]}}),o.a.render(Object(a.jsx)(b.a,{store:qa,children:Object(a.jsx)(Ba,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");Xa?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Za(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Za(e)}))}}()}},[[621,1,2]]]);
//# sourceMappingURL=main.1fcc2a1e.chunk.js.map