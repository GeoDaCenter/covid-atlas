(this.webpackJsonpmap=this.webpackJsonpmap||[]).push([[0],{251:function(e,t){},263:function(e,t){},335:function(e){e.exports=JSON.parse('{"version":8,"name":"Experimental - Clean \\\\","metadata":{"mapbox:type":"default","mapbox:origin":"basic-v1","mapbox:sdk-support":{"js":"1.9.0","android":"8.6.0","ios":"5.6.0"},"mapbox:autocomposite":true,"mapbox:groups":{"Administrative boundaries, admin":{"name":"Administrative boundaries, admin","collapsed":true},"Natural features, natural-labels":{"name":"Natural features, natural-labels","collapsed":true},"Place labels, place-labels":{"name":"Place labels, place-labels","collapsed":false},"Point of interest labels, poi-labels":{"name":"Point of interest labels, poi-labels","collapsed":true}},"mapbox:uiParadigm":"layers"},"center":[-4.013421893754639,46.9469458596522],"zoom":4.361888672268534,"bearing":0,"pitch":0,"sources":{"composite":{"url":"mapbox://lixun910.5k6jyt33,lixun910.7s0ljdc6,mapbox.mapbox-streets-v8,lixun910.5bmq1hai,lixun910.c1k7tmzy,lixun910.62ab73ca,mapbox.mapbox-terrain-v2","type":"vector"}},"sprite":"mapbox://sprites/lixun910/ckhxm4ot50yk919pj8witkk2d/ei6q81b5ywryaykkp3eopmi80","glyphs":"mapbox://fonts/lixun910/{fontstack}/{range}.pbf","layers":[{"id":"blackbelt","type":"fill","source":"composite","source-layer":"blackbelt-highlight-3vhzb8","layout":{"visibility":"none"},"paint":{"fill-color":"hsla(0, 0%, 0%, 0.5)","fill-outline-color":"hsla(0, 0%, 0%, 0)"}},{"id":"segregated_cities","type":"fill","source":"composite","source-layer":"segregated_cities-9w47nz","layout":{"visibility":"none"},"paint":{"fill-outline-color":"hsla(0, 0%, 0%, 0)","fill-color":"hsla(0, 0%, 0%, 0.5)"}},{"id":"native_american_reservations","type":"fill","source":"composite","source-layer":"nativeamericanreservations-hi-4aqk3l","layout":{"visibility":"none"},"paint":{"fill-outline-color":"hsla(0, 0%, 0%, 0)","fill-color":"hsla(0, 0%, 0%, 0.5)"}},{"id":"uscongress-districts","type":"line","source":"composite","source-layer":"US_Congressional_Districts-4jecfj","layout":{"visibility":"none"},"paint":{"line-color":"hsl(0, 0%, 12%)"}},{"id":"hillshade","type":"fill","source":"composite","source-layer":"hillshade","layout":{},"paint":{"fill-color":"hsl(0, 0%, 10%)","fill-outline-color":"hsla(0, 0%, 0%, 0)","fill-opacity":0.1}},{"id":"water","type":"fill","source":"composite","source-layer":"water","layout":{},"paint":{"fill-color":["case",["==",["id"],0],"hsl(0, 0%, 7%)","hsl(0, 0%, 7%)"],"fill-outline-color":"hsla(0, 0%, 0%, 0)","fill-antialias":false}},{"id":"admin-1-boundary-bg","type":"line","source":"composite","source-layer":"admin","filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"bevel"},"paint":{"line-color":["interpolate",["linear"],["zoom"],8,"hsl(216, 36%, 16%)",16,"rgb(52, 52, 52)"],"line-width":["interpolate",["linear"],["zoom"],7,3.75,12,5.5],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,0.75],"line-dasharray":[1,0],"line-translate":[0,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,8,3]}},{"id":"admin-0-boundary-bg","type":"line","source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"paint":{"line-width":["interpolate",["linear"],["zoom"],2,2,10,5],"line-color":["interpolate",["linear"],["zoom"],6,"hsl(216, 36%, 16%)",8,"rgb(52, 52, 52)"],"line-opacity":["interpolate",["linear"],["zoom"],3,0,4,0.5],"line-translate":[0,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,10,2]}},{"id":"admin-1-boundary","type":"line","source":"composite","source-layer":"admin","filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]],"line-width":["interpolate",["linear"],["zoom"],7,1,12,1.5],"line-opacity":["interpolate",["linear"],["zoom"],2,0,3,1]}},{"id":"admin-0-boundary","type":"line","source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-color":"hsl(0, 0%, 51%)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":[10,0]}},{"id":"admin-0-boundary-disputed","type":"line","source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","disputed"],"true"],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round"},"paint":{"line-color":"rgb(130, 130, 130)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":["step",["zoom"],["literal",[3.25,3.25]],6,["literal",[2.5,2.5]],7,["literal",[2,2.25]],8,["literal",[1.75,2]]]}},{"id":"waterway-label","type":"symbol","source":"composite","source-layer":"natural_label","minzoom":13,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["canal","river","stream","disputed_canal","disputed_river","disputed_stream"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["canal","river","stream"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"text-font":["Lato Italic","Arial Unicode MS Regular"],"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-size":["interpolate",["linear"],["zoom"],13,12,18,16],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"text-color":"hsl(197, 16%, 90%)"}},{"id":"natural-line-label","type":"symbol","source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["glacier","landform","disputed_glacier","disputed_landform"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["glacier","landform"],true,false]],["==",["geometry-type"],"LineString"],["<=",["get","filterrank"],2],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-font":["Lato Bold","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport"},"paint":{"text-halo-width":0.5,"text-halo-color":"hsl(216, 43%, 0%)","text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(184, 2%, 91%)",5,"hsl(184, 7%, 81%)"],17,["step",["get","sizerank"],"hsl(184, 2%, 91%)",13,"hsl(184, 7%, 81%)"]]}},{"id":"natural-point-label","type":"symbol","source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland","disputed_dock","disputed_glacier","disputed_landform","disputed_water_feature","disputed_wetland"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["dock","glacier","landform","water_feature","wetland"],true,false]],["==",["geometry-type"],"Point"],["<=",["get","filterrank"],2],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["Lato Bold","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"hsl(216, 43%, 0%)","text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(184, 2%, 91%)",5,"hsl(184, 7%, 81%)"],17,["step",["get","sizerank"],"hsl(184, 2%, 91%)",13,"hsl(184, 7%, 81%)"]]}},{"id":"water-line-label","type":"symbol","source":"composite","source-layer":"natural_label","filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["bay","ocean","reservoir","sea","water","disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["bay","ocean","reservoir","sea","water"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12],18,["step",["get","sizerank"],18,9,16]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",0.25,["sea","bay"],0.15,0],"text-font":["Lato Italic","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(197, 44%, 26%)","hsl(197, 16%, 90%)"]}},{"id":"water-point-label","type":"symbol","source":"composite","source-layer":"natural_label","filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["bay","ocean","reservoir","sea","water","disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["bay","ocean","reservoir","sea","water"],true,false]],["==",["geometry-type"],"Point"]],"layout":{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12]],"text-font":["Lato Italic","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",0.25,["bay","sea"],0.15,0.01],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10]},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(197, 44%, 26%)","hsl(197, 16%, 90%)"]}},{"id":"poi-label","type":"symbol","source":"composite","source-layer":"poi_label","minzoom":6,"filter":["all",["<=",["get","filterrank"],["+",["step",["zoom"],0,16,1,17,2],0]],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["Lato Bold","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":["match",["get","class"],"park_like","hsl(170, 42%, 0%)","education","hsl(213, 38%, 0%)","medical","hsl(204, 24%, 5%)","hsl(216, 43%, 0%)"],"text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(180, 15%, 100%)","park_like","hsl(107, 1%, 84%)","education","hsl(213, 11%, 100%)","medical","hsl(204, 6%, 100%)","hsl(184, 2%, 91%)"],5,["match",["get","class"],"food_and_drink","hsl(180, 24%, 87%)","park_like","hsl(107, 0%, 73%)","education","hsl(213, 27%, 100%)","medical","hsl(204, 7%, 100%)","hsl(184, 7%, 81%)"]],17,["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(180, 15%, 100%)","park_like","hsl(107, 1%, 84%)","education","hsl(213, 11%, 100%)","medical","hsl(204, 6%, 100%)","hsl(184, 2%, 91%)"],13,["match",["get","class"],"food_and_drink","hsl(180, 24%, 87%)","park_like","hsl(107, 0%, 73%)","education","hsl(213, 27%, 100%)","medical","hsl(204, 7%, 100%)","hsl(184, 7%, 81%)"]]]}},{"id":"settlement-minor-label","type":"symbol","source":"composite","source-layer":"place_label","maxzoom":15,"filter":["all",["<=",["get","filterrank"],4],["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["settlement","disputed_settlement"],true,false],["match",["get","worldview"],["all","US"],true,false]],["==",["get","class"],"settlement"]],["step",["zoom"],true,8,[">=",["get","symbolrank"],11],10,[">=",["get","symbolrank"],12],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],3,["step",["get","symbolrank"],13.200000000000001,9,12.100000000000001,10,11.55,12,10.450000000000001,14,9.350000000000001,16,7.15,17,4.4],13,["step",["get","symbolrank"],27.500000000000004,9,25.3,10,23.1,11,20.900000000000002,12,19.8,13,18.700000000000003,15,16.5]],"icon-image":"","text-font":["Lato Bold","Arial Unicode MS Regular"],"text-padding":["interpolate",["linear"],["zoom"],0,50,10,5],"text-offset":["step",["zoom"],["literal",[0,0]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},"paint":{"text-halo-color":"hsl(216, 0%, 100%)","text-halo-width":1,"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":0.5}},{"id":"settlement-major-label","type":"symbol","source":"composite","source-layer":"place_label","maxzoom":15,"filter":["all",["<=",["get","filterrank"],4],["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["settlement","disputed_settlement"],true,false],["match",["get","worldview"],["all","US"],true,false]],["==",["get","class"],"settlement"]],["step",["zoom"],false,8,["<",["get","symbolrank"],11],10,["<",["get","symbolrank"],12],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"icon-image":"","text-font":["Lato Bold","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["literal",[0,0]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7,"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],8,["step",["get","symbolrank"],30.599999999999998,9,28.9,10,25.5],15,["step",["get","symbolrank"],47.6,9,44.199999999999996,10,39.1,11,35.699999999999996,12,34,13,32.3,15,27.2]]},"paint":{"text-halo-color":"hsla(0, 0%, 100%, 0.63)","text-halo-width":1,"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":1}},{"id":"state-label","type":"symbol","source":"composite","source-layer":"place_label","minzoom":3,"maxzoom":9,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["state","disputed_state"],true,false],["match",["get","worldview"],["all","US"],true,false]],["==",["get","class"],"state"]],["match",["get","iso_3166_1"],["US"],true,false]],"layout":{"text-size":["interpolate",["cubic-bezier",0.85,0.7,0.65,1],["zoom"],4,["step",["get","symbolrank"],13,6,12.35,7,11.700000000000001],9,["step",["get","symbolrank"],31.200000000000003,6,23.400000000000002,7,18.2]],"text-transform":"uppercase","text-font":["Lato Black","Arial Unicode MS Bold"],"text-field":["step",["zoom"],["step",["get","symbolrank"],["coalesce",["get","name_en"],["get","name"]],5,["coalesce",["get","abbr"],["get","name_en"],["get","name"]]],5,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":0.15,"text-max-width":6},"paint":{"text-color":"rgb(0, 0, 0)","text-halo-color":"hsl(216, 43%, 100%)","text-halo-width":1}},{"id":"uscongress","type":"symbol","source":"composite","source-layer":"district_centroids-c05zce","layout":{"text-field":["concat",["to-string",["get","State Code"]],"-",["get","District"]],"text-font":["Open Sans Condensed Bold","Arial Unicode MS Regular"],"text-size":["interpolate",["linear"],["zoom"],5,10,8,36],"visibility":"none"},"paint":{"text-color":"hsl(0, 0%, 100%)"}}],"created":"2020-11-25T16:18:56.139Z","modified":"2020-12-17T17:57:44.016Z","id":"ckhxm4ot50yk919pj8witkk2d","owner":"lixun910","visibility":"private","draft":false}')},614:function(e,t){},618:function(e,t,n){},619:function(e,t,n){},620:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),i=n(48),o=n.n(i),c=n(158),s=n(36),l=n.n(s),d=n(11),u=n(169),h=n(54),p=n(35),b=n(23),j=n(320),x=function(e,t,n,a){try{return e[t][n].indexOf(a)}catch(r){return null}},g=function(e,t,n){var a=n.nProperty,r=n.nIndex,i=n.nRange,o=n.dProperty,c=n.dIndex,s=n.dRange,l=n.nType,d=n.dType,u=n.scale;return void 0===e?0:"time-series"===l&&"time-series"===d?null===i&null===s?e[r]/t[c]*u:(e[r]-e[r-i])/i/((t[c]-t[c-s])/s)*u:null===o&&null===i?(e[a]||e[r])*u:null===o&&null!==i?(e[r]-e[r-i])/i*u:null!==o&&null===i?(e[a]||e[r])/(t[o]||t[c])*u:null!==o&&null!==i&&null===s?(e[r]-e[r-i])/i/(t[o]||t[c])*u:0},f=function(e){for(var t=0;t<e.length;t++)if(Date.parse(e[t]))return[e.slice(t),t]},m=function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return e.map((function(e){return+e}))},e.next=3,fetch(t).then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){return e.split("\n").map((function(e){return n(e.split(","))}))}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e,t,n){for(var a=e.cartogram(t,n),r={},i=0;i<a.length;i++)a[i].value=n[i],r[i]=a[i];return r},v=function(e){for(var t=0,n=0,a=Object.keys(e),r=a.length,i=0;i<r;i++)t+=e[a[i]].position[0],n+=e[a[i]].position[1];return[t/r,n/r]},w=function(e,t){for(var n={},a=0;a<e.length;a++)n[t[a]]=e[a][1];return n},_=n(697),k=n(670);function S(){return(S=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){return _.a(e,k.a)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){return S.apply(this,arguments)},D=function(e,t){var n=t.numerator,a=t.nProperty,r=t.nIndex,i=t.denominator,o=t.dType,c=t.dIndex,s=[],l=e.length;if(null===r&&null===a)for(var u=e[0][n].length-1,h="time-series"===o?e[0][i].length-1:c;l>0;)l--,s.unshift(g(e[l][n],e[l][i],Object(d.a)(Object(d.a)({},t),{},{nIndex:u,dIndex:h})));else for(;l>0;)l--,s.unshift(g(e[l][n],e[l][i],t));return s},P=function(e,t,n,a){for(var r=Object.keys(e),i=n,o=[],c=-7;i<e[r[0]][t].length;){for(var s={},l=0,d=0;d<r.length;)void 0!==e[r[d]][t]&&(l+=e[r[d]][t][i]),d++;s.count=l,s.date=a[i-n],s.dailyNew=c<0?l:(l-o[c].count)/7,o.push(s),i++,c++}return o},T=function(e,t,n){var a=performance.now(),r=t.numerator,i=t.nProperty,o=t.nIndex,c=t.denominator,s=t.dType,l=t.dIndex,u={},h=e.length;if(null===o&&null===i)for(var p=e[0][c].length-1,b="time-series"===s?e[0][c].length-1:l;h>0;)u[e[--h].properties.GEOID]=g(e[h][r],e[h][c],Object(d.a)(Object(d.a)({},t),{},{nIndex:p,dIndex:b}));else for(;h>0;)u[e[--h].properties.GEOID]=g(e[h][r],e[h][c],t);var j=[];h=0;for(var x=Object.keys(n);h<x.length;)j.push(u[n[x[h]]]),h++;return console.log(performance.now()-a),j},I=function(e){for(var t={},n={},a=0;a<e.length;)t[e[a].properties.GEOID]=a,n[a]=e[a].properties.GEOID,a++;return{geoidOrder:t,indexOrder:n}},z=n(263),R=n.n(z),E=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:return n=e.sent,a=n.clone(),e.next=6,m(a);case 6:return r=e.sent,e.abrupt("return",{response:n,ab:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e,t){var n=e.CreateQueenWeights(t,1,0,0);return{map_uuid:t,w:n,w_uuid:n.get_uid()}},M=function(e,t,n,a){for(var r=A(e,t),i=!0,o=0;o<n.length;++o)0!==n[o]&&(i=!1);var c=[],s=[];if(i)for(var l=0;l<n.length;++l)c.push(0),s.push(0);else{var d=e.local_moran(r.map_uuid,r.w_uuid,n);c=e.parseVecDouble(d.clusters()),s=e.parseVecDouble(d.significances())}return console.log(r.w_uuid),console.log(r.map_uuid),c};function N(){return(N=Object(h.a)(l.a.mark((function e(t,n,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){var t,r=_.a(e,k.a),i={},o=r.length;if(n.forEach((function(e){r[0].hasOwnProperty(e)&&(t=e)})),a)for(var c=f(Object.keys(r[0]))[1];o>0;){o--;for(var s=Object.values(r[o]),l=[],d=c,u=0;d<s.length;)d===c?l.push(s[d]):(l.push(s[d]+l[u]),u++),d++;for(var h=0;h<c;h++)l.unshift(s[h]);i[r[o][t]]=l}else for(;o>0;)o--,i[r[o][t]]=Object.values(r[o]);return[i,Object.keys(r[0])]}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e,t,n){return N.apply(this,arguments)},F={natural_breaks:[[240,240,240],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[177,0,38]],lisa:[[255,255,255],[255,0,0],[0,0,255],[167,173,249],[244,173,168]],hinge15_breaks:[[1,102,94],[90,180,172],[199,234,229],[246,232,195],[216,179,101],[140,81,10]],uninsured:[[240,240,240],[247,252,253],[224,236,244],[191,211,230],[158,188,218],[140,150,198],[140,107,177],[136,65,157],[129,15,124]],over65:[[240,240,240],[247,252,240],[224,243,219],[204,235,197],[168,221,181],[123,204,196],[78,179,211],[43,140,190],[8,104,172]],lifeExp:[[240,240,240],[247,252,240],[224,243,219],[204,235,197],[168,221,181],[123,204,196],[78,179,211],[43,140,190],[8,104,172]],forecasting:[[239,239,239],[254,232,200],[253,187,132],[227,74,51]],testing:[[240,240,240],[13,8,135],[92,1,166],[156,23,158],[203,70,121],[237,121,83],[253,180,47],[240,249,33]],testingCap:[[240,240,240],[247,251,255],[222,235,247],[198,219,239],[158,202,225],[107,174,214],[66,146,198],[33,113,181],[8,81,156],[8,48,107]]},U={testing:{bins:["No Data","<3%","5%","10%","15%","20%",">25%"],breaks:[0,.03,.05,.1,.15,.2,.25,Math.pow(10,12)]},testingCap:{bins:["No Data","<50","100","150","200","250","300","350",">400"],breaks:[0,50,100,150,200,250,300,350,400,Math.pow(10,12)]},lisa:{bins:["Not significant","High-High","Low-Low","Low-High","High-Low"]},forecasting:{bins:["N/A","Low","Medium","High"],breaks:[1,2,3,4]}},B="#ffffff",W="#00000",G="#1a1a1a",V="#2b2b2b",Y="#f5f5f5",X="#d8d8d8",K="#FFCE00",Z="#A1E1E3",q={"county_usfacts.geojson":{plainName:"USA Facts County",geojson:"county_usfacts.geojson",csvs:["covid_confirmed_usafacts","covid_deaths_usafacts","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID",["FIPS","fips","countyFIPS"]],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:[]},"county_1p3a.geojson":{plainName:"1Point3Acres County",geojson:"county_1p3a.geojson",csvs:["covid_confirmed_1p3a","covid_deaths_1p3a","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID",["FIPS","fips","countyFIPS","GEOID"]],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:["covid_confirmed_1p3a","covid_deaths_1p3a"]},"county_nyt.geojson":{plainName:"New York Times County",geojson:"county_nyt.geojson",csvs:["covid_confirmed_nyt","covid_deaths_nyt","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID",["FIPS","fips","countyFIPS"]],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:[]},"state_usafacts.geojson":{plainName:"USA Facts State",geojson:"state_usafacts.geojson",csvs:["covid_confirmed_usafacts_state","covid_deaths_usafacts_state","chr_health_context_state","chr_life_state","chr_health_factors_state","covid_testing_usafacts_state","covid_wk_pos_usafacts_state","covid_tcap_usafacts_state","covid_ccpt_usafacts_state"],joinCols:["GEOID",["FIPS","fips","stateFIPS"]],tableNames:["cases","deaths","chr_health_context","chr_life","chr_health_factors","testing","testing_wk_pos","testing_tcap","testing_ccpt"],accumulate:[]},"state_nyt.geojson":{plainName:"New York Times State",geojson:"state_nyt.geojson",csvs:["covid_confirmed_nyt_state","covid_deaths_nyt_state","chr_health_context_state","chr_life_state","chr_health_factors_state","covid_testing_usafacts_state","covid_wk_pos_usafacts_state","covid_tcap_usafacts_state","covid_ccpt_usafacts_state"],joinCols:["GEOID",["FIPS","fips","countyFIPS"]],tableNames:["cases","deaths","chr_health_context","chr_life","chr_health_factors","testing","testing_wk_pos","testing_tcap","testing_ccpt"],accumulate:[]},"global_jhu.geojson":{plainName:"John Hopkins University (Global)",geojson:"global_jhu.geojson",csvs:["covid_confirmed_jhu","covid_deaths_jhu"],joinCols:["GEOID",["UID"]],tableNames:["cases","deaths"],accumulate:[]},"cdc.geojson":{plainName:"Center for Disease Control County",geojson:"cdc.geojson",csvs:["covid_confirmed_cdc","covid_deaths_cdc","chr_health_context","chr_life","chr_health_factors","covid_testing_cdc","covid_wk_pos_cdc","covid_tcap_cdc","covid_ccpt_cdc"],joinCols:["GEOID",["FIPS"]],tableNames:["cases","deaths","chr_health_context","chr_life","chr_health_factors","testing","testing_wk_pos","testing_tcap","testing_ccpt"],accumulate:[]}},Q={Choropleth:Object(a.jsx)("p",{children:"A thematic map used to represent data through various shading patterns on predetermined geographic areas (counties, state)."}),NaturalBreaksFixed:Object(a.jsx)("p",{children:"A nonlinear algorithm used to group observations such that the within-group homogeneity is maximized for the latest date, bins fixed over time"}),NaturalBreaks:Object(a.jsx)("p",{children:"A nonlinear algorithm used to group observations such that the within-group homogeneity is maximized for every day, bins change over time"}),BoxMap:Object(a.jsx)("p",{children:"Mapping counterpart of the idea behind a box plot"}),Hotspot:Object(a.jsx)("p",{children:"A map showing statisically significant spatial cluster and outlier locations, color coded by type."}),LocalMoran:Object(a.jsx)("p",{children:"Local Moran used to identify local clusters and outliers"}),NotSig:Object(a.jsx)("p",{children:"Area was not statistically signficant as a spatial cluster core or outlier using given parameters."}),HighHigh:Object(a.jsx)("p",{children:"Hot Spot Cluster: area with high values, neighbored by areas with high values"}),LowLow:Object(a.jsx)("p",{children:"Cold Spot Cluster: area with low values, neighbored by areas with low values"}),HighLow:Object(a.jsx)("p",{children:"Hot Outlier: area with high values, neighbored by areas with low values"}),LowHigh:Object(a.jsx)("p",{children:"Low-High Cold Outlier: area with low values, neighbored by areas with high values"}),PovChldPrc:Object(a.jsx)("p",{children:"Percentage of children under age 18 living in poverty"}),IncRt:Object(a.jsx)("p",{children:"Ratio of household income at the 80th percentile to income at the 20th percentile"}),MedianHouseholdIncome:Object(a.jsx)("p",{children:"The income where half of households in a county earn more and half of households earn less"}),FdInsPrc:Object(a.jsx)("p",{children:"Percentage of population who lack adequate access to food"}),UnEmplyPrc:Object(a.jsx)("p",{children:"Percentage of population age 16 and older unemployed but seeking work"}),UnInPrc:Object(a.jsx)("p",{children:"Percentage of people under age 65 without insurance"}),PrmPhysRt:Object(a.jsx)("p",{children:"Ratio of population to primary care physicians"}),PrevHospRt:Object(a.jsx)("p",{children:"Rate of hospital stays for ambulatory-care sensitive conditions per 100,000 Medicare enrollees"}),RsiSgrBlckRt:Object(a.jsx)("p",{children:"Index of dissimilarity where higher values indicate greater residential segregation between Black and White county residents"}),SvrHsngPrbRt:Object(a.jsx)("p",{children:"Percentage of households with at least 1 of 4 housing problems: overcrowding, high housing costs, lack of kitchen facilities, or lack of plumbing facilities"}),Over65YearsPrc:Object(a.jsx)("p",{children:"Percentage of people ages 65 and older"}),AdObPrc:Object(a.jsx)("p",{children:"Percentage of the adult population (age 20 and older) that reports a body mass index (BMI) greater than or equal to 30 kg/m2"}),AdDibPrc:Object(a.jsx)("p",{children:"Percentage of adults aged 20 and above with diagnosed diabetes"}),SmkPrc:Object(a.jsx)("p",{children:"Percentage of adults who are current smokers"}),ExcDrkPrc:Object(a.jsx)("p",{children:"Percentage of adults reporting binge or heavy drinking"}),DrOverdMrtRt:Object(a.jsx)("p",{children:"Number of drug poisoning deaths per 100,000 population"}),LfExpRt:Object(a.jsx)("p",{children:"Average number of years a person can expect to live"}),SlfHlthPrc:Object(a.jsx)("p",{children:"Percentage of adults reporting fair or poor health"}),SeverityIndex:Object(a.jsx)("p",{children:"Indicates the severity of the local covid-19 outbreak, based on cumulative and predicted deaths"}),PredictedDeaths:Object(a.jsx)("p",{children:"Predicted number of deaths for a county"}),PredictedDeathsInterval:Object(a.jsx)("p",{children:"Margin of error for predicted death counts for a county "}),healthfactor:Object(a.jsx)("p",{children:"Health factors represent those things we can modify to improve community conditions and the length and quality of life for residents"}),healthcontext:Object(a.jsx)("p",{children:"Community Health Context reflects the existing health behaviors and demographics of individuals in the community that are influenced by the opportunities to live long and well"}),healthlife:Object(a.jsx)("p",{children:"Length and Quality of Life reflects the physical and mental well-being of residents within a community through measures representing how long and how well residents live"}),Hypersegregated:Object(a.jsxs)("p",{children:["American metropolitan areas where black residents experience hypersegregation, see ",Object(a.jsx)("a",{href:"https://www.princeton.edu/news/2015/05/18/hypersegregated-cities-face-tough-road-change",target:"_blank",rel:"noopener noreferrer",children:"here"})]}),BlackBelt:Object(a.jsxs)("p",{children:["Southern US counties that were at least 40% Black or African American in the 2000 Census, see ",Object(a.jsx)("a",{href:"https://en.wikipedia.org/wiki/Black_Belt_in_the_American_South",target:"_blank",rel:"noopener noreferrer",children:"here"})]}),TestingCapacity:Object(a.jsx)("p",{children:"New screening (e.g., antigen) and diagnostic (e.g., PCR) testing per capita rates by date. The suggested threshold is >150 daily tests per 100k people."}),USCongress:Object(a.jsxs)("p",{children:["Find your representative ",Object(a.jsx)("a",{href:"https://www.govtrack.us/",target:"_blank",rel:"noopener noreferrer",children:"here"})]})},J={"state_usafacts.geojson":["Confirmed Count","Confirmed Count per 100K Population","Confirmed Count per Licensed Bed","Death Count","Death Count per 100K Population","Death Count/Confirmed Count","Daily New Confirmed Count","Daily New Confirmed Count per 100K Pop","7-Day Average Daily New Confirmed Count","7-Day Average Daily New Confirmed Count per 100K Pop","Daily New Death Count","Daily New Death Count per 100K Pop","Forecasting (5-Day Severity Index)","7 Day Testing Positivity Rate %","7 Day Testing Capacity","7 Day Confirmed Cases per Testing %"],"county_1p3a.geojson":["Confirmed Count","Confirmed Count per 100K Population","Confirmed Count per Licensed Bed","Death Count","Death Count per 100K Population","Death Count/Confirmed Count","Daily New Confirmed Count","Daily New Confirmed Count per 100K Pop","7-Day Average Daily New Confirmed Count","7-Day Average Daily New Confirmed Count per 100K Pop","Daily New Death Count","Daily New Death Count per 100K Pop","Forecasting (5-Day Severity Index)","Uninsured % (Community Health Factor)","Over 65 Years % (Community Health Context)","Life expectancy (Length and Quality of Life)"],"county_usfacts.geojson":["Confirmed Count","Confirmed Count per 100K Population","Confirmed Count per Licensed Bed","Death Count","Death Count per 100K Population","Death Count/Confirmed Count","Daily New Confirmed Count","Daily New Confirmed Count per 100K Pop","7-Day Average Daily New Confirmed Count","7-Day Average Daily New Confirmed Count per 100K Pop","Daily New Death Count","Daily New Death Count per 100K Pop","Forecasting (5-Day Severity Index)","Uninsured % (Community Health Factor)","Over 65 Years % (Community Health Context)","Life expectancy (Length and Quality of Life)"]},$=["native_american_reservations","segregated_cities","blackbelt","uscongressional_districts"],ee=["clinic","hospital","clinic-hospitals"],te=["county_usfacts.geojson","county_1p3a.geojson","state_usafacts.geojson"],ne=function(e){var t=e.URLmapParams,n=e.URLcurrentData,a=e.URLcurrentVariable,r=e.URLviewState,i=t.overlay?"&ovr=".concat($.indexOf(t.overlay)):"",o=t.resource?"&res=".concat(ee.indexOf(t.resource)):"",c="7-Day Average Daily New Confirmed Count"!==a?"&var=".concat(J[n].indexOf(a)):"",s="natural_breaks"!==t.mapType?"&mthd=".concat(t.mapType):"",l="county_usfacts.geojson"!==n?"&src=".concat(te.indexOf(n)):"",d="?lat=".concat(Math.round(1e3*r.latitude)/1e3,"&lon=").concat(Math.round(1e3*r.longitude)/1e3,"&z=").concat(Math.round(10*r.zoom)/10),u="cartogram"===t.vizType?"&cartogram=true":"";return"".concat(d).concat(i).concat(o).concat(c).concat(s).concat(l).concat("").concat(u,"&v=1")},ae=function(e,t){return"".concat(e,"-").concat(t.numerator,"-").concat(t.nIndex,"-").concat(t.nRange,"-").concat(t.denominator,"-").concat(t.dProperty,"-").concat(t.dIndex,"-").concat(t.dRange,"-").concat(t.scale)},re=function(){var e=Object(h.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E(t).then((function(e){return n.ReadGeojsonMap(t.split("/").slice(-1)[0],e.ab),e.response.json().then((function(e){return{data:e,geoidIndex:I(e.features)}}))})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(e,t,n,a){if("natural_breaks"===a){if(0===e)return n[0];for(var r=1;r<t.length;r++)if(e<t[r])return n[r];return n[0]}if(a.includes("hinge")){for(var i=1;i<t.length;i++)if(e<t[i])return n[i-1];return n[0]}},oe=n(116),ce=function(e,t,n,a,r){var i={},o={},c=e.features.length,s=parseInt(e.features[0].properties[t]);if(Number.isInteger(s))for(;c>0;)c--,i[parseInt(e.features[c].properties[t])]=e.features[c],o[parseInt(e.features[c].properties[t])]={};else for(;c>0;)c--,i[e.features[c].properties[t]]=e.features[c],o[e.features[c].properties[t]]={};for(var l=n.length;l>0;){l--;var d=Object.keys(n[l][0]);for(c=d.length;c>0;){c--;try{o[d[c]][a[l]]=n[l][0][d[c]]}catch(j){}}}for(var u=Object(oe.merge)(i,o),h=[],p=Object.keys(u),b=0;b<p.length;b++)h.push(u[p[b]]);return h},se=function(e){return{type:"SET_CURRENT_DATA",payload:{data:e}}},le=function(e){return{type:"SET_CURR_DATE",payload:{date:e}}},de=function(e){return{type:"SET_VARIABLE_PARAMS",payload:{params:e}}},ue=function(e){return{type:"SET_MAP_PARAMS",payload:{params:e}}},he=function(e){return{type:"SET_VARIABLE_NAME",payload:{name:e}}},pe=function(e){return{type:"SET_ANCHOR_EL",payload:{anchorEl:e}}},be=function(e){return{type:"SET_PANELS",payload:{params:e}}},je=function(e){return{type:"SET_NOTIFICATION",payload:{info:e}}},xe=n(17),ge=n(18);function fe(){var e=Object(xe.a)(["\n    position: fixed;\n    bottom:0;\n    left:50%;\n    background:",";\n    transform:translateX(-50%);\n    width:90vw;\n    max-width: 500px;\n    box-sizing: border-box;\n    padding:0 0 5px 0;\n    margin:0;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius:0.5vh 0.5vh 0 0;\n    transition:250ms all;\n    hr {\n        opacity:0.5;\n    }\n    @media (max-width:1024px){\n        div {\n            padding-bottom:5px;\n        }\n        #binModeSwitch {\n            position:absolute !important;\n            right: 10px !important;\n            top: 10px !important;\n        }\n        #dateRangeSelector {\n            position:absolute !important;\n            left: 66% !important;\n            transform:translateX(-50%) !important;\n            top: 10px !important;\n        }\n    }\n    \n    @media (max-width:768px){\n    \n        width:100%;\n        max-width:100%;\n        padding:0;\n        left:0;\n        transform:none;\n    }\n    @media (max-width:750px) and (orientation: landscape) {\n        // bottom all the way down for landscape phone\n    }\n"]);return fe=function(){return e},e}var me=ge.a.div(fe(),V),Oe=function(){Object(b.b)();var e=Object(b.c)((function(e){return e.panelState})),t=Object(r.useState)(0),n=Object(p.a)(t,2),i=n[0],o=n[1];return window.addEventListener("resize",(function(){return o(function(){try{return document.querySelector("#main-chart-container").offsetHeight}catch(e){return 0}}())})),Object(a.jsx)(me,{bottom:e.chart?0:i,children:Object(a.jsx)(hn,{})})},ye=n(621),ve=n(671);function we(){var e=Object(xe.a)(["\n    width:12.5px;\n    height:12.5px;\n    background:url('","/assets/img/info.png');\n    background-repeat: no-repeat;\n    background-size: cover;\n    outline:none;\n    border:none;\n    padding:0;\n    margin:4px;\n"]);return we=function(){return e},e}var _e=ge.a.button(we(),"."),ke=function(e){var t=Object(b.b)();return Object(a.jsx)(_e,{id:e.id,onMouseEnter:function(e){t(pe(e.currentTarget))},onMouseLeave:function(){t(pe(null))}},e.id)},Se=n(62),Ce=n(686);function De(){var e=Object(xe.a)(["\n    display:inline;\n    padding:0;\n    margin:0;\n    align-self:flex-start;\n"]);return De=function(){return e},e}var Pe=ge.a.div(De()),Te=function(e){var t=e.cx,n=e.cy,r=e.index,i=e.color,o=e.angle;return 13===r?Object(a.jsx)("svg",{x:t-10,y:n-10,width:20,height:20,fill:i,viewBox:"0 0 500 500",children:Object(a.jsx)("polygon",{points:"50,125 50,375 375,250",transform:"rotate(".concat(o," 250 250)")})}):null},Ie=function(e){var t=e.data.map((function(t){return{val:t/e.data[0]}})),n=Ce.a().domain([0,.5,1]).range({"cases/deaths":["green","yellow","red"],testingCap:["#f7fbff","#f7fbff","#08306b"],testingPos:["#0d0887","#cb4679","#f0f921"]}[e.schema]),r=e.data[13]-e.data[0],i=function(e,t){return n(e/t+.5)};return Object(a.jsx)(Pe,{children:Object(a.jsxs)(Se.c,{data:t,width:60,height:30,children:[Object(a.jsx)(Se.h,{domain:["dataMin","dataMax"],hide:!0}),Object(a.jsx)(Se.b,{type:"linear",dataKey:"val",stroke:i(r,e.data[0]),strokeWidth:2,isAnimationActive:!1,dot:Object(a.jsx)(Te,{color:i(r,e.data[0]),angle:function(e,t){var n=e/t;return n>=.5?-60:n<=-.5?60:-1*n*60}(r,e.data[12])})})]})})},ze=Object(a.jsxs)("svg",{x:"0px",y:"0px",viewBox:"0 0 19.6 32",children:[Object(a.jsx)("path",{d:"M1,0h17.6c0.6,0,1,0.5,1,1v3.1c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1V1C0,0.5,0.4,0,1,0z"}),Object(a.jsx)("path",{d:"M1,9h17.6c0.6,0,1,0.5,1,1v3.1c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1V10C0,9.4,0.4,9,1,9z"}),Object(a.jsx)("path",{d:"M1,17.9h17.6c0.6,0,1,0.5,1,1V22c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1v-3.1C0,18.4,0.4,17.9,1,17.9z"}),Object(a.jsx)("path",{d:"M1,26.9h17.6c0.6,0,1,0.5,1,1V31c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1v-3.1C0,27.3,0.4,26.9,1,26.9z"})]}),Re=Object(a.jsxs)("svg",{x:"0px",y:"0px",viewBox:"0 0 19.6 32",children:[Object(a.jsx)("path",{d:"M1,0h17.6c0.6,0,1,0.5,1,1v3.1c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1V1C0,0.5,0.4,0,1,0z"}),Object(a.jsx)("path",{d:"M1,9h17.6c0.6,0,1,0.5,1,1v21c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.5-1-1V10C0,9.4,0.4,9,1,9z"})]}),Ee=Object(a.jsxs)("svg",{viewBox:"0 0 50 50",children:[Object(a.jsx)("circle",{className:"cls-1",cx:"25.43",cy:"24.63",r:"15.4",transform:"translate(-3.28 3.92) rotate(-8.28)"}),Object(a.jsx)("path",{className:"cls-2",d:"M28.87,47.49l-7.07,0L22,41.58a17.18,17.18,0,0,0,6.74,0Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M28.84,7.68a17.18,17.18,0,0,0-6.74,0l-.16-5.89H29Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M44,38.35l-5,5L35,39a17.33,17.33,0,0,0,4.78-4.76Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M15.85,10.22A17.19,17.19,0,0,0,11.07,15L6.8,10.92l5-5Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M48.27,21.17l0,7.08-5.88-.19a17.23,17.23,0,0,0,0-6.75Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M8.45,21.2a17.37,17.37,0,0,0,0,6.74l-5.89.16,0-7.08Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M39.12,6l5,5-4.29,4a17.43,17.43,0,0,0-4.75-4.78Z"}),Object(a.jsx)("path",{className:"cls-2",d:"M11,34.2A17.16,17.16,0,0,0,15.75,39L11.7,43.25l-5-5Z"})]}),Le=Object(a.jsxs)("svg",{viewBox:"0 0 50 50",children:[Object(a.jsx)("rect",{x:"0.03",y:"0.19",width:"49.93",height:"3.85",rx:"1"}),Object(a.jsx)("rect",{x:"0.03",y:"8.4",width:"46.19",height:"3.85",rx:"1"}),Object(a.jsx)("rect",{x:"0.03",y:"21.12",width:"49.93",height:"3.85",rx:"1"}),Object(a.jsx)("rect",{x:"0.03",y:"29.58",width:"49.93",height:"3.85",rx:"1"}),Object(a.jsx)("rect",{x:"0.03",y:"38.04",width:"43.69",height:"3.85",rx:"1"}),Object(a.jsx)("rect",{x:"0.03",y:"46.15",width:"49.93",height:"3.85",rx:"1"})]}),Ae=Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M52.5,21.4c-1.9,0-3.6,1.3-4.1,3.1L37.9,63.7l-6.4-11.1c-1.2-2-3.7-2.7-5.7-1.5c-0.3,0.2-0.6,0.4-0.9,0.7\r L10.1,66.6c-1.7,1.6-1.7,4.2-0.2,5.9c1.6,1.7,4.2,1.7,5.9,0.2c0.1,0,0.1-0.1,0.1-0.1L27,61.5l8.7,15.1c1.2,2,3.7,2.7,5.7,1.5\r c0.9-0.6,1.6-1.5,1.9-2.5l9.1-33.9l4.6,17.2c0.6,2.2,2.9,3.5,5.1,2.9c1.1-0.3,2-1,2.5-1.9l10.4-18l8.9,9.4c1.6,1.7,4.2,1.8,5.9,0.3\r s1.8-4.2,0.3-5.9c0,0-0.1-0.1-0.1-0.1L77.3,32.1c-1.6-1.7-4.2-1.8-5.9-0.2c-0.3,0.3-0.6,0.6-0.8,1L62.5,47l-6-22.5\r C56,22.7,54.4,21.4,52.5,21.4L52.5,21.4z"})})}),Me=Object(a.jsx)("svg",{viewBox:"0 0 100 100",x:"0px",y:"0px",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M 62.0763 27.4552 C 64.0258 25.642 65 23.4406 65 20.8589 C 65 18.2815 64.0258 16.0809 62.0763 14.2511 C 60.1273 12.4207 57.7859 11.5 55.0413 11.5 C 52.3076 11.5 49.9438 12.4207 47.9833 14.2511 C 46.0343 16.0809 45.0487 18.2815 45.0487 20.8589 C 45.0487 23.4406 46.0343 25.642 47.9833 27.4552 C 49.9438 29.2682 52.3076 30.178 55.0413 30.178 C 57.7859 30.178 60.1273 29.2682 62.0763 27.4552 ZM 57.5841 88.0802 C 61.1017 86.4348 62.9616 83.3419 61.1353 81.9274 C 60.0823 81.1132 58.7041 82.4604 57.6963 82.4604 C 55.5343 82.4604 54.0103 82.1065 53.1367 81.3939 C 52.2518 80.6754 51.8261 79.3446 51.8261 77.3796 C 51.8261 76.5942 51.9493 75.4433 52.2182 73.9213 C 52.487 72.395 52.8007 71.0302 53.1367 69.8404 L 57.3153 55.0418 C 57.7073 53.683 57.9988 52.1893 58.1554 50.5672 C 58.301 48.9276 58.3798 47.7935 58.3798 47.1533 C 58.3798 44.0378 57.2817 41.5004 55.0971 39.5465 C 52.9237 37.5991 49.8094 36.6159 45.7765 36.6159 C 43.5361 36.6159 41.1501 36.9472 38.652 37.8117 C 33.7564 39.5293 34.8432 43.7968 35.9296 43.7968 C 38.1364 43.7968 39.6152 44.1722 40.3995 44.9193 C 41.1837 45.6604 41.5868 46.9796 41.5868 48.8828 C 41.5868 49.9269 41.4413 51.1007 41.1947 52.3689 C 40.9369 53.6381 40.635 54.9909 40.2541 56.4111 L 36.053 71.2659 C 35.6947 72.8267 35.4253 74.2246 35.2463 75.4648 C 35.0784 76.7058 35 77.9187 35 79.1091 C 35 82.1578 36.12 84.6722 38.3716 86.6596 C 40.6238 88.6528 44.0854 90.5 48.1405 90.5 C 50.7731 90.5 54.537 89.518 57.5841 88.0802 Z"})})}),Ne=Object(a.jsxs)("svg",{viewBox:"0 0 12.1 50",children:[Object(a.jsx)("rect",{width:"2.4",height:"50"}),Object(a.jsx)("rect",{x:"4.9",width:"2.4",height:"50"}),Object(a.jsx)("rect",{x:"9.8",width:"2.4",height:"50"})]});function He(){var e=Object(xe.a)(["\n    position:absolute;\n    left:5px;\n    bottom:50%;\n    background:none;\n    outline:none;\n    border:none;\n    transform: translateY(-50%);\n    cursor:grab;\n    width:10px;\n    padding:0;\n    margin:0;\n    height:20px;\n    svg {\n      width:15px;\n      height:30px;\n      fill:white;\n    }\n    @media (max-width:1024px) {\n      display:none;\n    }\n"]);return He=function(){return e},e}function Fe(){var e=Object(xe.a)(["\n  outline:none;\n  border:none;\n  position:absolute;\n  right:20px;\n  top:15px;\n  svg {\n    fill:","44;\n    transition:250ms all;\n    height:15px;\n    &:hover {\n      fill:","77;\n    }\n  }\n  .MuiButton-root {\n    outline:none !important;\n    border:none !important;\n    min-width:0;\n    padding:10px;\n    box-sizing:border-box;\n    outline:none !important;\n    color:white !important;\n  }\n  .MuiButton-root.active {\n    svg {\n      fill:white;\n      &:hover: {\n        fill:white;\n      }\n    }\n  }\n"]);return Fe=function(){return e},e}function Ue(){var e=Object(xe.a)(["\n  width:100%;\n  display:flex;\n  align-items: center;\n"]);return Ue=function(){return e},e}function Be(){var e=Object(xe.a)(["\n  font-size:1.15rem;\n  padding:0 0 15px 0 !important;\n"]);return Be=function(){return e},e}function We(){var e=Object(xe.a)(["\n    padding-right:20px;\n    box-sizing:border-box;\n    width:100%;\n    display:inline-block;\n    padding: 0;\n    margin: 0;\n"]);return We=function(){return e},e}function Ge(){var e=Object(xe.a)(["\n    padding:5px 0 0 30px;\n    box-sizing:border-box;\n    overflow-x:visible;\n    // display:flex;\n    // flex-direction:column;\n    // flex-wrap:wrap;\n    width:500px;\n    columns:"," 250px;\n    column-gap:10px;\n    display:inline-block;\n"]);return Ge=function(){return e},e}function Ve(){var e=Object(xe.a)(["\n  height:100vh;\n  overflow-y:scroll;\n"]);return Ve=function(){return e},e}function Ye(){var e=Object(xe.a)(["\n  position:fixed;\n  right:0;\n  top:50px;\n  overflow-x:visible;\n  height:calc(100vh - 50px);\n  background-color: ","fa;\n  box-shadow: -2px 0px 5px rgba(0,0,0,0.7);\n  padding:20px;\n  box-sizing: border-box;\n  transition:250ms all;\n  font: 'Lato', sans-serif;\n  color: white;\n  font-size:100%;\n  padding:0;\n  z-index:5;\n  transform: translateX(100%);\n  &.open {\n    transform:none;\n  }\n  @media (max-width:1024px) {\n    min-width:50vw;\n  }  \n  @media (max-width:600px) {\n    width:100%;\n    left:0;\n    transform:translateX(-100%);\n    z-index:51;\n    &.open {\n      transform:none;\n    }\n    display: ",";\n  }\n  button#showHideRight {\n    position:absolute;    \n    right:calc(100% - 20px);\n    top:20px;\n    width:40px;\n    height:40px;\n    padding:0;\n    margin:0;\n    background-color: ",";\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\n    outline:none;\n    border:none;\n    cursor: pointer;\n    transition:500ms all;\n    svg {\n      width:15px;\n      height:15px;\n      margin:12.5px 0 0 0;\n      @media (max-width:600px){\n        width:20px;\n        height:20px;\n        margin:5px;\n      }\n      fill:white;\n      transform:rotate(180deg);\n      transition:500ms all;\n    }\n    :after {\n      opacity:0;\n      font-weight:bold;\n      color:white;\n      position: relative;\n      top:-17px;\n      transition:500ms all;\n      content: 'Report';\n      right:50px;\n      z-index:4;\n    }  \n    &.hidden {\n      right:100%;\n      svg {\n        transform:rotate(0deg);\n      }\n      :after {\n        opacity:1;\n      }\n    }\n    @media (max-width:768px){\n      top:120px;\n    }\n    @media (max-width:600px) {\n      left:100%;\n      width:30px;\n      height:30px;\n      top:160px;\n      &.hidden svg {\n        transform:rotate(0deg);\n      }\n      :after {\n        display:none;\n      }\n      &.active {\n        left:90%;\n      }\n      &.active svg {\n        transform:rotate(90deg);\n      }\n    }\n  }\n  \n\n  div {\n    div {\n      p {\n        line-height:1.5;\n        margin:0;\n        display:inline-block;\n      }\n    }\n  }\n  h2 {\n    padding:15px 0 5px 0;\n    margin:0;\n    display:inline-block;\n  }\n  h6 {\n    padding:0 0 15px 0;\n    margin:0;\n    a {\n      color:",";\n      text-decoration:none;\n    }\n  }\n  .extraPadding {\n    padding-bottom:20vh;\n  }\n"]);return Ye=function(){return e},e}var Xe=ge.a.div(Ye(),V,(function(e){return e.otherPanels?"none":"initial"}),V,K),Ke=ge.a.div(Ve()),Ze=ge.a.div(Ge(),(function(e){return e.cols})),qe=ge.a.span(We()),Qe=ge.a.h2(Be()),Je=ge.a.div(Ue()),$e=Object(ge.a)(ve.a)(Fe(),B,B),et=ge.a.button(He()),tt=function(){var e,t,n,i,o,c,s,l,d,u,h,j,f,m,O,y,v,w,_,k,S=Object(b.b)(),C=Object(b.c)((function(e){return e.sidebarData})),D=C.properties,P=C.cases,T=C.deaths,I=C.predictions,z=C.chr_health_factors,R=C.chr_life,E=C.chr_health_context,L=C.testing_ccpt,A=C.testing_tcap,M=C.testing_wk_pos,N=C.testing,H=Object(b.c)((function(e){return e.currentData})),F=Object(b.c)((function(e){return e.panelState})),U=Object(b.c)((function(e){return e.cols})),B=Object(r.useState)(!0),W=Object(p.a)(B,2),G=W[0],V=W[1],Y=Object(r.useState)(250),X=Object(p.a)(Y,2),K=X[0],Z=X[1],q=Object(r.useState)(1),Q=Object(p.a)(q,2),J=Q[0],$=Q[1],ee=Object(r.useState)(!1),te=Object(p.a)(ee,2),ne=te[0],ae=te[1],re=function(e){return"".concat(e.slice(-2)[0],"/").concat(e.slice(-1)[0])},ie=function(e){Z((function(t){return t-(window.innerWidth-e.screenX)<25&&t-(window.innerWidth-e.screenX)>-25?t:window.innerWidth-e.screenX<300?($(1),300):($(Math.floor((window.innerWidth-e.screenX)/300)),window.innerWidth-e.screenX)}))},oe=function(e){Z((function(t){var n;return(null===e||void 0===e||null===(n=e.targetTouches[0])||void 0===n?void 0:n.clientX)-ne||t}))},ce=function e(){window.removeEventListener("mousemove",ie),window.removeEventListener("mouseup",e)},se=function e(){window.removeEventListener("touchmove",oe),window.removeEventListener("touchend",e)};return Object(a.jsxs)(Xe,{className:F.info?"open":"",id:"data-panel",otherPanels:F.variables,children:[D&&Object(a.jsxs)($e,{children:[Object(a.jsx)(ye.a,{onClick:function(){return V(!0)},className:G?"active":"",children:Re}),Object(a.jsx)(ye.a,{onClick:function(){return V(!1)},className:G?"":"active",children:ze})]}),Object(a.jsx)(Ke,{children:Object(a.jsxs)(Ze,{cols:J,style:{width:K},children:[Object(a.jsxs)(qe,{children:[D&&Object(a.jsxs)("h2",{children:[D.NAME,D.state_name&&", ".concat(D.state_name)]}),Object(a.jsx)("br",{}),D&&(G?Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{children:"Population"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:null===(e=D.population)||void 0===e?void 0:e.toLocaleString("en")})})]}):Object(a.jsxs)("p",{children:["Population: ",null===(t=D.population)||void 0===t?void 0:t.toLocaleString("en")]}))]}),P&&T&&(G?Object(a.jsxs)(qe,{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Total Cases"}),Object(a.jsx)("br",{}),Object(a.jsxs)(Je,{children:[Object(a.jsx)(Qe,{children:null===(n=P.slice(-1)[0])||void 0===n?void 0:n.toLocaleString("en")}),Object(a.jsx)(Ie,{data:P.slice(-14),schema:"cases/deaths"})]}),Object(a.jsx)("p",{children:"Total Deaths "}),Object(a.jsx)("br",{}),Object(a.jsxs)(Je,{children:[Object(a.jsx)(Qe,{children:null===(i=T.slice(-1)[0])||void 0===i?void 0:i.toLocaleString("en")}),Object(a.jsx)(Ie,{data:T.slice(-14),schema:"cases/deaths"})]}),Object(a.jsx)("p",{children:"Cases per 100k Population"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:null===(o=g(P,D,{nProperty:null,nIndex:P.length-1,nRange:null,dProperty:"population",dIndex:null,dRange:null,scale:1e5}))||void 0===o?void 0:o.toFixed(2).toLocaleString("en")})}),Object(a.jsx)("p",{children:"Deaths per 100k Population"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:null===(c=g(T,D,{nProperty:null,nIndex:T.length-1,nRange:null,dProperty:"population",dIndex:null,dRange:null,scale:1e5}))||void 0===c?void 0:c.toFixed(2).toLocaleString("en")})}),Object(a.jsx)("p",{children:"New Cases per 100k Population"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:null===(s=g(P,D,{nProperty:null,nIndex:P.length-1,nRange:1,dProperty:"population",dIndex:null,dRange:null,scale:1e5}))||void 0===s?void 0:s.toFixed(2).toLocaleString("en")})}),Object(a.jsx)("p",{children:"New Deaths per 100k Population"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:null===(l=g(T,D,{nProperty:null,nIndex:T.length-1,nRange:1,dProperty:"population",dIndex:null,dRange:null,scale:1e5}))||void 0===l?void 0:l.toFixed(2).toLocaleString("en")})}),Object(a.jsx)("p",{children:"Licensed Hospital Beds"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:null===(d=D.beds)||void 0===d?void 0:d.toLocaleString("en")})})]}):Object(a.jsxs)(qe,{children:[Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Total Cases: ",null===(u=P.slice(-1)[0])||void 0===u?void 0:u.toLocaleString("en")]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Total Deaths: ",null===(h=T.slice(-1)[0])||void 0===h?void 0:h.toLocaleString("en")]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Cases per 100k Population: ",null===(j=g(P,D,{nProperty:null,nIndex:P.length-1,nRange:null,dProperty:"population",dIndex:null,dRange:null,scale:1e5}))||void 0===j?void 0:j.toFixed(2).toLocaleString("en")]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Deaths per 100k Population: ",null===(f=g(T,D,{nProperty:null,nIndex:T.length-1,nRange:null,dProperty:"population",dIndex:null,dRange:null,scale:1e5}))||void 0===f?void 0:f.toFixed(2).toLocaleString("en")]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["New Cases per 100k Population: ",null===(m=g(P,D,{nProperty:null,nIndex:P.length-1,nRange:1,dProperty:"population",dIndex:null,dRange:null,scale:1e5}))||void 0===m?void 0:m.toFixed(2).toLocaleString("en")]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["New Deaths per 100k Population: ",null===(O=g(T,D,{nProperty:null,nIndex:T.length-1,nRange:1,dProperty:"population",dIndex:null,dRange:null,scale:1e5}))||void 0===O?void 0:O.toFixed(2).toLocaleString("en")]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Licensed Hospital Beds: ",null===(y=D.beds)||void 0===y?void 0:y.toLocaleString("en")]}),Object(a.jsx)("br",{})]})),N&&(G?Object(a.jsxs)(qe,{children:[Object(a.jsx)("h2",{children:"Testing"}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"7-Day Positivity Rate"}),Object(a.jsx)("br",{}),Object(a.jsxs)(Je,{children:[Object(a.jsxs)(Qe,{children:[(100*M[M.length-1]).toFixed(2),"%"]}),Object(a.jsx)(Ie,{data:M.slice(-14),schema:"testingPos"})]}),Object(a.jsx)("p",{children:"7-Day Testing Capacity per 100k People"}),Object(a.jsx)("br",{}),Object(a.jsxs)(Je,{children:[Object(a.jsx)(Qe,{children:A[A.length-1].toLocaleString("en")}),Object(a.jsx)(Ie,{data:A.slice(-14),schema:"testingCap"})]}),Object(a.jsxs)("p",{children:["Total Testing: ",N[N.length-1].toLocaleString("en")]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:A[A.length-1].toLocaleString("en")})}),Object(a.jsx)("p",{children:"7-Day Confirmed Cases per Testing"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[(100*L[L.length-1]).toFixed(2),"%"]})}),Object(a.jsx)("p",{children:"Testing Criterion"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[" ",D.criteria]})})]}):Object(a.jsxs)(qe,{children:[Object(a.jsx)("h2",{children:"Testing"}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["7-Day Positivity Rate: ",(100*M[M.length-1]).toFixed(2),"%"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["7-Day Testing Capacity per 100k People: ",A[A.length-1].toLocaleString("en")]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Total Testing: ",N[N.length-1].toLocaleString("en")]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["7-Day Confirmed Cases per Testing: ",(100*L[L.length-1]).toFixed(2),"%"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Testing Criterion: ",D.criteria]}),Object(a.jsx)("br",{})]})),z&&(G?Object(a.jsxs)(qe,{children:[Object(a.jsxs)("h2",{children:["Community Health Factors",Object(a.jsx)(ke,{id:"healthfactor"})]}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://www.countyhealthrankings.org/",target:"_blank",rel:"noopener noreferrer",children:"County Health Rankings"})]}),Object(a.jsx)("p",{children:"Children in poverty"}),Object(a.jsx)(ke,{id:"PovChldPrc"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[z[x(U,H,"chr_health_factors","PovChldPrc")],"%"]})}),Object(a.jsxs)("p",{children:["Income inequality",Object(a.jsx)(ke,{id:"IncRt"})]}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:z[x(U,H,"chr_health_factors","IncRt")]})}),Object(a.jsx)("p",{children:"Median household income"}),Object(a.jsx)(ke,{id:"MedianHouseholdIncome"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:["$",null===(v=z[x(U,H,"chr_health_factors","MedianHouseholdIncome")])||void 0===v?void 0:v.toLocaleString("en")]})}),Object(a.jsx)("p",{children:"Food insecurity"}),Object(a.jsx)(ke,{id:"FdInsPrc"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[z[x(U,H,"chr_health_factors","FdInsPrc")],"%"]})}),Object(a.jsx)("p",{children:"Unemployment"}),Object(a.jsx)(ke,{id:"UnEmplyPrc"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[z[x(U,H,"chr_health_factors","UnEmplyPrc")],"%"]})}),Object(a.jsx)("p",{children:"Uninsured"}),Object(a.jsx)(ke,{id:"UnInPrc"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[z[x(U,H,"chr_health_factors","UnInPrc")],"%"]})}),Object(a.jsx)("p",{children:"Primary care physicians"}),Object(a.jsx)(ke,{id:"PrmPhysRt"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:z[x(U,H,"chr_health_factors","PrmPhysRt")]})}),Object(a.jsx)("p",{children:"Preventable hospital stays"}),Object(a.jsx)(ke,{id:"PrevHospRt"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:null===(w=z[x(U,H,"chr_health_factors","PrevHospRt")])||void 0===w?void 0:w.toLocaleString("en")})}),Object(a.jsx)("p",{children:"Residential segregation-black/white"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:z[x(U,H,"chr_health_factors","RsiSgrBlckRt")]||"NA"})}),Object(a.jsx)("p",{children:"Severe housing problems"}),Object(a.jsx)(ke,{id:"SvrHsngPrbRt"}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[z[x(U,H,"chr_health_factors","SvrHsngPrbRt")],"%"]})})]}):Object(a.jsxs)(qe,{children:[Object(a.jsxs)("h2",{children:["Community Health Factors",Object(a.jsx)(ke,{id:"healthfactor"})]}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://www.countyhealthrankings.org/",target:"_blank",rel:"noopener noreferrer",children:"County Health Rankings"})]}),Object(a.jsxs)("p",{children:["Children in poverty: ",z[x(U,H,"chr_health_factors","PovChldPrc")],"%",Object(a.jsx)(ke,{id:"PovChldPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Income inequality: ",z[x(U,H,"chr_health_factors","IncRt")],Object(a.jsx)(ke,{id:"IncRt"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Median household income: ",null===(_=z[x(U,H,"chr_health_factors","MedianHouseholdIncome")])||void 0===_?void 0:_.toLocaleString("en"),Object(a.jsx)(ke,{id:"MedianHouseholdIncome"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Food insecurity: ",z[x(U,H,"chr_health_factors","FdInsPrc")],Object(a.jsx)(ke,{id:"FdInsPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Unemployment: ",z[x(U,H,"chr_health_factors","UnEmplyPrc")],"%",Object(a.jsx)(ke,{id:"UnEmplyPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Uninsured: ",z[x(U,H,"chr_health_factors","UnInPrc")],"%",Object(a.jsx)(ke,{id:"UnInPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Primary care physicians: ",z[x(U,H,"chr_health_factors","PrmPhysRt")],Object(a.jsx)(ke,{id:"PrmPhysRt"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Preventable hospital stays: ",null===(k=z[x(U,H,"chr_health_factors","PrevHospRt")])||void 0===k?void 0:k.toLocaleString("en"),Object(a.jsx)(ke,{id:"PrevHospRt"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Residential segregation-black/white: ",z[x(U,H,"chr_health_factors","RsiSgrBlckRt")]||"NA"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Severe housing problems: ",z[x(U,H,"chr_health_factors","SvrHsngPrbRt")],"%",Object(a.jsx)(ke,{id:"SvrHsngPrbRt"})]}),Object(a.jsx)("br",{})]})),E&&(G?Object(a.jsxs)(qe,{children:[Object(a.jsx)("h2",{children:"Community Health Context"}),Object(a.jsx)(ke,{id:"healthcontext"}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://www.countyhealthrankings.org/",target:"_blank",rel:"noopener noreferrer",children:"County Health Rankings"})]}),Object(a.jsxs)("p",{children:["65 and older",Object(a.jsx)(ke,{id:"Over65YearsPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[E[x(U,H,"chr_health_context","Over65YearsPrc")],"%"]})}),Object(a.jsxs)("p",{children:["Adult obesity",Object(a.jsx)(ke,{id:"AdObPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[E[x(U,H,"chr_health_context","AdObPrc")],"%"]})}),Object(a.jsxs)("p",{children:["Diabetes prevalence",Object(a.jsx)(ke,{id:"AdDibPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[E[x(U,H,"chr_health_context","AdDibPrc")],"%"]})}),Object(a.jsxs)("p",{children:["Adult smoking",Object(a.jsx)(ke,{id:"SmkPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[E[x(U,H,"chr_health_context","SmkPrc")],"%"]})}),Object(a.jsxs)("p",{children:["Excessive drinking",Object(a.jsx)(ke,{id:"ExcDrkPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[E[x(U,H,"chr_health_context","ExcDrkPrc")],"%"]})}),Object(a.jsxs)("p",{children:["Drug overdose deaths",Object(a.jsx)(ke,{id:"DrOverdMrtRt"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:E[x(U,H,"chr_health_context","DrOverdMrtRt")]||"0"})})]}):Object(a.jsxs)(qe,{children:[Object(a.jsx)("h2",{children:"Community Health Context"}),Object(a.jsx)(ke,{id:"healthcontext"}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://www.countyhealthrankings.org/",target:"_blank",rel:"noopener noreferrer",children:"County Health Rankings"})]}),Object(a.jsxs)("p",{children:["65 and older: ",E[x(U,H,"chr_health_context","Over65YearsPrc")],"% ",Object(a.jsx)(ke,{id:"Over65YearsPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Adult obesity: ",E[x(U,H,"chr_health_context","AdObPrc")],"%",Object(a.jsx)(ke,{id:"AdObPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Diabetes prevalence: ",E[x(U,H,"chr_health_context","AdDibPrc")],"% ",Object(a.jsx)(ke,{id:"AdDibPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Adult smoking: ",E[x(U,H,"chr_health_context","SmkPrc")],"% ",Object(a.jsx)(ke,{id:"SmkPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Excessive drinking: ",E[x(U,H,"chr_health_context","ExcDrkPrc")],"% ",Object(a.jsx)(ke,{id:"ExcDrkPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Drug overdose deaths: ",E[x(U,H,"chr_health_context","DrOverdMrtRt")]||"0",Object(a.jsx)(ke,{id:"DrOverdMrtRt"})]}),Object(a.jsx)("br",{})]})),R&&(G?Object(a.jsxs)(qe,{children:[Object(a.jsxs)("h2",{children:["Length and Quality of Life",Object(a.jsx)(ke,{id:"healthlife"})]}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://www.countyhealthrankings.org/",target:"_blank",rel:"noopener noreferrer",children:"County Health Rankings"})]}),Object(a.jsxs)("p",{children:["Life expectancy",Object(a.jsx)(ke,{id:"LfExpRt"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:R[x(U,H,"chr_life","LfExpRt")]})}),Object(a.jsxs)("p",{children:["Self-rated health",Object(a.jsx)(ke,{id:"SlfHlthPrc"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[R[x(U,H,"chr_life","SlfHlthPrc")],"%"]})})]}):Object(a.jsxs)(qe,{children:[Object(a.jsxs)("h2",{children:["Length and Quality of Life",Object(a.jsx)(ke,{id:"healthlife"})]}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://www.countyhealthrankings.org/",target:"_blank",rel:"noopener noreferrer",children:"County Health Rankings"})]}),Object(a.jsxs)("p",{children:["Life expectancy: ",R[x(U,H,"chr_life","LfExpRt")],Object(a.jsx)(ke,{id:"LfExpRt"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Self-rated health: ",R[x(U,H,"chr_life","SlfHlthPrc")],"% ",Object(a.jsx)(ke,{id:"SlfHlthPrc"})]}),Object(a.jsx)("br",{})]})),I&&U[H]&&U[H].predictions&&(G?Object(a.jsxs)(qe,{children:[Object(a.jsx)("h2",{children:"Forecasting"}),Object(a.jsx)("br",{}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://github.com/Yu-Group/covid19-severity-prediction/",target:"_blank",rel:"noopener noreferrer",children:"Yu Group at Berkeley"})]}),Object(a.jsxs)("p",{children:["5-Day Severity Index",Object(a.jsx)(ke,{id:"SeverityIndex"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[" ",["","Low","Medium","High"][I[1]]]})}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[2].split("_")),Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:I[2]})}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[4].split("_")),Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsxs)(Qe,{children:[" ",I[4]]})}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[6].split("_")),Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:I[6]})}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[8].split("_")),Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:I[8]})}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[10].split("_")),Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:I[10]})}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[12].split("_")),Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:I[12]})}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[14].split("_")),Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Je,{children:Object(a.jsx)(Qe,{children:I[14]})})]}):Object(a.jsxs)(qe,{children:[Object(a.jsx)("h2",{children:"Forecasting"}),Object(a.jsx)("br",{}),Object(a.jsxs)("h6",{children:["Source: ",Object(a.jsx)("a",{href:"https://github.com/Yu-Group/covid19-severity-prediction/",target:"_blank",rel:"noopener noreferrer",children:"Yu Group at Berkeley"})]}),Object(a.jsxs)("p",{children:["5-Day Severity Index: ",["","Low","Medium","High"][I[1]],Object(a.jsx)(ke,{id:"SeverityIndex"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[2].split("_")),": ",I[2],Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[4].split("_")),": ",I[4],Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[6].split("_")),": ",I[6],Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[8].split("_")),": ",I[8],Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[10].split("_")),": ",I[10],Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[12].split("_")),": ",I[12],Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Predicted Deaths by ",re(U[H].predictions[14].split("_")),": ",I[14],Object(a.jsx)(ke,{id:"PredictedDeaths"})]}),Object(a.jsx)("br",{})]})),Object(a.jsx)("div",{className:"extraPadding"}),D&&Object(a.jsx)("button",{onClick:function(){return F.info?S(be({info:!1})):S(be({info:!0}))},id:"showHideRight",className:F.info?"active":"hidden",children:Le}),D&&Object(a.jsx)(et,{id:"resize",onMouseDown:function(){window.addEventListener("mousemove",ie),window.addEventListener("mouseup",ce)},onTouchStart:function(e){ae(+e.target.parentNode.parentNode.parentNode.style.left.slice(0,-2)),window.addEventListener("touchmove",oe),window.addEventListener("touchend",se)},style:{zIndex:10},children:Ne})]})})]})},nt=n(676),at=n(698),rt=n(699),it=n(688),ot=n(677),ct=n(678),st=n(675);function lt(){var e=Object(xe.a)(["\n  padding-top:4px !important;\n  p { \n    display: inline;\n    color:white;\n    transform:translateY(5px);\n  }\n  span.MuiSwitch-track {\n      background-color:",";\n  }\n  .MuiSwitch-colorSecondary.Mui-checked {\n      color:",";\n  }\n  .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\n      background-color: ",";\n  }\n  .MuiSwitch-colorSecondary:hover {\n      background-color:","55;\n  }\n"]);return lt=function(){return e},e}function dt(){var e=Object(xe.a)(["\n  .MuiFormLabel-root {\n    display:none;\n  }\n  padding:10px 0 5px 20px !important;\n  label + .MuiInput-formControl {\n    margin-top:0;\n  }\n"]);return dt=function(){return e},e}function ut(){var e=Object(xe.a)(["\n  padding:0 0 ","px 0!important;\n  color:white;\n  padding:0;\n  margin: 0 10px 40px 0;\n  .MuiInputBase-root {\n    font-family: 'Lato', sans-serif;\n  }\n  .MuiFormLabel-root {\n    color: white;\n    font-family: 'Lato', sans-serif;\n  }\n  .Mui-focused {\n    color: white !important;\n  }\n  .MuiInput-underline:before {\n    border-bottom:1px solid rgba(255,255, 255, 0.42);\n  }\n  .MuiInput-underline:after {\n    border-bottom: 2px solid white\n  }\n  .MuiInputBase-root {\n    color: white;\n    .MuiSvgIcon-root {\n      color: rgba(255,255,255,0.54);\n    },\n    .MuiPopover-paper {\n      color:white;\n    }\n  }\n  .MuiFormGroup-root {\n    .MuiFormControlLabel-root{\n      color:white;\n      span {\n        font-family: 'Lato', sans-serif;\n      }\n      .MuiRadio-root {\n        color: rgba(255,255,255,0.54);\n      }\n    }\n  }\n  .MuiRadio-root {\n    color:white;\n  }\n  .MuiRadio-colorSecondary.Mui-checked {\n    color:white;\n  }\n  div.radioContainer {\n    display:block;\n      .MuiFormControlLabel-root {\n        margin-right:0;\n      }\n      button {\n        transform:translateY(4px);\n      }\n    }\n  }\n"]);return ut=function(){return e},e}var ht=Object(ge.a)(st.a)(ut(),(function(e){return"radios"===e.component?"20":"40"})),pt=Object(ge.a)(ht)(dt()),bt=Object(ge.a)(nt.a)(lt(),Y,Z,Z,Z);function jt(){var e=Object(xe.a)(["\n    left:initial;\n    right:10px;\n"]);return jt=function(){return e},e}function xt(){var e=Object(xe.a)(["\n    position:absolute;\n    left:7%;\n    top:0;\n    font-size:75%;\n"]);return xt=function(){return e},e}function gt(){var e=Object(xe.a)(["\n    width:100%;\n    position:absolute;\n    font-size:1.05rem;\n    top:-5px;\n    left:0;\n    text-align:center;\n    pointer-events:none;\n\n"]);return gt=function(){return e},e}function ft(){var e=Object(xe.a)(["\n    box-sizing:border-box;\n    transform:translateY(22px);\n    &.MuiSlider-root {\n        width:90%;\n        margin-left:3%;\n        box-sizing:border-box;\n    }\n    span.MuiSlider-rail {\n        color:white;\n        height:4px;\n    }\n    span.MuiSlider-track {\n        color:white;\n        height:4px;\n    }\n    span.MuiSlider-thumb {\n        color:white;\n        .MuiSlider-valueLabel {\n            transform:translateY(0px);\n            pointer-events:none;\n            span {\n                background: none;\n            }\n        }\n    }\n    span.MuiSlider-thumb.MuiSlider-active: {\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\n    }\n"]);return ft=function(){return e},e}function mt(){var e=Object(xe.a)(["\ntransform:translateY(22px);\n    &.MuiSlider-root {\n        width:90%;\n        margin-left:3%;\n        box-sizing:border-box;\n    }\n    span.MuiSlider-rail {\n        color:white;\n        height:4px;\n    }\n    span.MuiSlider-track {\n        color:white;\n        height:4px;\n    }\n    span.MuiSlider-thumb {\n        color:white;\n        width:15px;\n        height:15px;\n        transform:translate(-1.5px, -1.5px);\n        .MuiSlider-valueLabel {\n            transform:translateY(-10px);\n            pointer-events:none;\n            font-size:15px;\n            span {\n                background: none;\n            }\n        }\n    }\n    // .MuiSlider-valueLabel span{\n    //     transform:translateX(-100%);        \n    // }\n    span.MuiSlider-thumb.MuiSlider-active {\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\n    }\n"]);return mt=function(){return e},e}function Ot(){var e=Object(xe.a)(["\n    background:none;\n    padding:0;\n    margin:0;\n    transform:translateY(16px);\n    svg {\n        width: 30px;\n        height:30px;\n        g {\n            fill: white;\n        },\n        path {\n            fill:white;\n        }\n    }\n    &.MuiButton-text {\n        padding:6px 0;\n    }\n"]);return Ot=function(){return e},e}function yt(){var e=Object(xe.a)(["\n    color: white;\n    box-sizing:border-box;\n    padding:0 20px;\n    width:100%;\n"]);return yt=function(){return e},e}var vt=ge.a.div(yt()),wt=Object(ge.a)(ye.a)(Ot()),_t=Object(ge.a)(at.a)(mt()),kt=Object(ge.a)(at.a)(ft()),St=ge.a.h3(gt()),Ct=ge.a.p(xt()),Dt=Object(ge.a)(Ct)(jt()),Pt=function(){var e,t=Object(b.b)(),n=Object(b.c)((function(e){return e.currentData})),i=Object(b.c)((function(e){return e.dates})),o=Object(b.c)((function(e){return e.dataParams})),c=Object(b.c)((function(e){return e.startDateIndex})),s=Object(b.c)((function(e){return e.mapParams})),l=Object(b.c)((function(e){return e.currentVariable})),d=Object(r.useState)(null),u=Object(p.a)(d,2),h=u[0],j=u[1],x=Object(r.useState)(!1),g=Object(p.a)(x,2),f=g[0],m=g[1],O=Object(r.useState)(7),y=Object(p.a)(O,2),v=y[0],w=y[1],_=function(e){return"".concat(i[n][e-c].slice(0,-3))};return void 0!==i[n]?Object(a.jsxs)(vt,{style:{display:"time-series"===o.nType||l.includes("Testing")?"initial":"none"},children:[Object(a.jsxs)(nt.a,{container:!0,spacing:2,style:{display:"flex",padding:l.includes("Testing")?"0 0 20px 0":"0"},children:[!f&&Object(a.jsx)(St,{children:(e=i[n][o.nIndex-c],new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))}),Object(a.jsx)(nt.a,{item:!0,xs:1,children:Object(a.jsx)(wt,{id:"playPause",onClick:function(){return function(e,n,a){null===e?j(setInterval((function(e){return t({type:"INCREMENT_DATE",payload:{index:n}})}),a)):(clearInterval(e),j(null))}(h,1,100)},children:null===h?Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("path",{d:"M78.627,47.203L24.873,16.167c-1.082-0.625-2.227-0.625-3.311,0C20.478,16.793,20,17.948,20,19.199V81.27  c0,1.25,0.478,2.406,1.561,3.031c0.542,0.313,1.051,0.469,1.656,0.469c0.604,0,1.161-0.156,1.703-0.469l53.731-31.035  c1.083-0.625,1.738-1.781,1.738-3.031C80.389,48.984,79.71,47.829,78.627,47.203z"})}):Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M22.4,0.6c3.4,0,6.8,0,10.3,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8\r c-3.4,0-6.8,0-10.3,0c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C10.6,5.9,15.9,0.6,22.4,0.6z M22.4,6.5c3.4,0,6.8,0,10.3,0\r c3.2,0,5.9,2.6,5.9,5.9c0,25,0,50.1,0,75.2c0,3.2-2.7,5.9-5.9,5.9c-3.4,0-6.8,0-10.3,0c-3.2,0-5.9-2.7-5.9-5.9\r c0-25.1,0-50.2,0-75.2C16.5,9.1,19.2,6.5,22.4,6.5z M67.3,6.5c3.4,0,6.8,0,10.2,0s6,2.6,6,5.9c0,25,0,50.1,0,75.2\r c0,3.2-2.7,5.9-6,5.9s-6.7,0-10.2,0c-3.3,0-5.9-2.7-5.9-5.9c0-25.1,0-50.2,0-75.2C61.4,9.1,64,6.5,67.3,6.5z M67.3,0.6\r c3.4,0,6.8,0,10.2,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8c-3.3,0-6.7,0-10.2,0\r c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C55.5,5.9,60.8,0.6,67.3,0.6z"})})})})})}),Object(a.jsxs)(nt.a,{item:!0,xs:11,children:[" ",!f&&Object(a.jsx)(_t,{value:o.nIndex,onChange:function(e,a){var r=null;a-c<7&&7===o.nRange&&(r=a-c||1),"time-series"===o.nType&&"time-series"===o.dType?t(de({nIndex:a,dIndex:a,nRange:r||o.nRange,dRange:r||o.nRange})):"time-series"===o.nType?t(de({nIndex:a,nRange:r||o.nRange})):"time-series"===o.dType?t(de({dIndex:a,dRange:r||o.nRange})):l.includes("Testing")&&t(de({nIndex:a})),t(le(i[n][a]))},min:c,step:1,max:c+i[n].length-1}),f&&Object(a.jsx)(kt,{value:[o.nIndex-o.nRange,o.nIndex],valueLabelDisplay:"on",onChange:function(e,n){o.dRange?t(de({nIndex:n[1],nRange:n[1]-n[0],rIndex:n[1],rRange:n[1]-n[0]})):t(de({nIndex:n[1],nRange:n[1]-n[0]}))},getAriaValueText:_,valueLabelFormat:_,"aria-labelledby":"aria-valuetext",min:c,step:1,max:c+i[n].length-1})]}),"characteristic"!==o.nType&&Object(a.jsx)(nt.a,{item:!0,xs:6,id:"dateRangeSelector",style:{transform:"translateX(25%)"},children:Object(a.jsxs)(pt,{children:[Object(a.jsx)(ot.a,{htmlFor:"date-select",children:"Date Range"}),Object(a.jsxs)(it.a,{id:"date-select",value:v,onChange:function(e){var n=e.target.value;"custom"===n?(m(!0),"time-series"===o.nType&&"time-series"===o.dType?t(de({nRange:30,dRange:30})):"time-series"===o.nType?t(de({nRange:30})):"time-series"===o.dType&&t(de({dRange:30}))):(m(!1),"time-series"===o.nType&&"time-series"===o.dType?t(de({nRange:n,dRange:n})):"time-series"===o.nType?t(de({nRange:n})):"time-series"===o.dType&&t(de({dRange:n}))),w(n)},displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[Object(a.jsx)(rt.a,{value:null,children:"Cumulative"},"cumulative"),Object(a.jsx)(rt.a,{value:1,children:"New Daily"},"daily"),Object(a.jsx)(rt.a,{value:7,children:"Weekly Average"},"weekly"),Object(a.jsx)(rt.a,{value:"custom",children:"Custom Range"},"customRange")]})]})}),"characteristic"!==o.nType&&Object(a.jsxs)(bt,{item:!0,xs:6,style:{float:"right",transform:"translate(25%, 5px)"},id:"binModeSwitch",children:[Object(a.jsx)(ct.a,{checked:"dynamic"===s.binMode,onChange:function(){"dynamic"===s.binMode?t(ue({binMode:""})):t(ue({binMode:"dynamic"}))},name:"bin chart switch"}),Object(a.jsx)("p",{children:"dynamic"===s.binMode?"Dynamic Bins":"Fixed Bins"})]}),!f&&Object(a.jsx)(Ct,{children:i[n][0]}),!f&&Object(a.jsx)(Dt,{children:i[n][i[n].length-1]})]}),Object(a.jsx)(Lt,{})]}):Object(a.jsx)(vt,{})},Tt=n(115);function It(){var e=Object(xe.a)(["\n    background:",";\n    border:none;\n    outline:none;\n    padding:10px;\n    height:51.5px;\n    box-sizing:border-box;\n    font-family:'Lato', sans-serif;\n    font-weight:bold;\n    margin-top:2px;\n    box-shadow: 2px 0px 5px rgba(0,0,0,0.7);\n    border-radius: 0 0.5vh 0.5vh 0;\n    cursor:pointer;\n    transition:150ms transform, 150ms background;\n    font-size:115%;\n    svg {\n        width:20px;\n        height:20px;\n        fill:",";\n    }\n    &:hover {\n        background:",";\n        svg {\n            fill:",";\n        }\n    }\n    @media (max-width:1024px) {\n        height:40px;\n        width:40px;\n        margin-top:10px;\n        display:block;\n        border-radius:0;\n    }\n    \n    @media (max-width:600px) {\n        height:30px;\n        width:30px;\n        padding:0;\n        svg {\n            width:20px;\n            height:20px;\n        }\n    }\n"]);return It=function(){return e},e}function zt(){var e=Object(xe.a)(["\n    position:absolute;\n    left:calc(100% + 1px);\n    top:-2px;\n    @media (max-width:1024px) {\n        position:fixed;\n        left:0px;\n        top:210px;\n    }\n    @media (max-width:600px) {\n        top:240px;\n    }\n"]);return zt=function(){return e},e}var Rt=ge.a.div(zt()),Et=ge.a.button(It(),(function(e){return e.isActive?X:V}),(function(e){return e.isActive?G:B}),(function(e){return e.isActive?B:G}),(function(e){return e.isActive?G:X})),Lt=function(){var e=Object(b.c)((function(e){return e.panelState})),t=Object(b.b)(),n=function(n){return e[n]?t(be(Object(Tt.a)({},n,!1))):t(be(Object(Tt.a)({},n,!0)))};return Object(a.jsxs)(Rt,{children:[Object(a.jsx)(Et,{title:"Show Line Chart",isActive:e.lineChart,onClick:function(){return n("lineChart")},children:Ae}),Object(a.jsx)(Et,{title:"Show Tutorial",isActive:e.tutorial,onClick:function(){return n("tutorial")},children:Me})]})};function At(){var e=Object(xe.a)(["\n    position: absolute;\n    top: 3px;\n    right: 5px;\n    font-size: 200%;\n    cursor: pointer;\n    padding:0;\n    background:none;\n    outline:none;\n    border:none;\n    color:white;\n    p {\n        font-size:50%;\n        display:inline;\n        font-family:'Montserrat', sans-serif;\n        line-height:1;\n    }\n    svg {\n        fill:white;\n        width:40px;\n        height:30px;\n    }\n"]);return At=function(){return e},e}function Mt(){var e=Object(xe.a)(["\n    position:absolute;\n    left:0;\n    top:5px;\n    background:none;\n    outline:none;\n    border:none;\n    cursor:move;\n    svg {\n        fill:white;\n        width:20px;\n        height:20px;\n    }\n"]);return Mt=function(){return e},e}function Nt(){var e=Object(xe.a)(["\n    position:fixed;\n    overflow:hidden;\n    background:",";\n    padding:20px 20px 0 20px;\n    box-sizing: border-box;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius: 0.5vh;\n    &.collapsed {\n        display:none;\n    };\n"]);return Nt=function(){return e},e}var Ht=ge.a.div(Nt(),V),Ft=ge.a.button(Mt()),Ut=ge.a.button(At()),Bt=function(e){var t=Object(b.b)(),n=Object(b.c)((function(t){return t.panelState[e.title]})),i=Object(r.useState)(e.defaultX),o=Object(p.a)(i,2),c=o[0],s=o[1],l=Object(r.useState)(e.defaultY),d=Object(p.a)(l,2),u=d[0],h=d[1],j=Object(r.useState)(!1),x=Object(p.a)(j,2),g=x[0],f=x[1],m=function(e){s((function(t){return t+e.movementX})),h((function(t){return t+e.movementY}))},O=function(e){var t,n;s((null===e||void 0===e||null===(t=e.targetTouches[0])||void 0===t?void 0:t.clientX)-15),h((null===e||void 0===e||null===(n=e.targetTouches[0])||void 0===n?void 0:n.clientY)-15)},y=function e(){window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",e),f(!1)},v=function e(){window.removeEventListener("touchmove",O),window.removeEventListener("touchend",e)};return Object(r.useEffect)((function(){s(e.defaultX),h(e.defaultY)}),[n,e.defaultX,e.defaultY]),Object(a.jsxs)(Ht,{style:{left:"".concat(c,"px"),top:"".concat(u,"px"),zIndex:e.z||1},className:n?"":"collapsed",isDragging:g,children:[e.content,Object(a.jsx)(Ft,{id:"resize",onMouseDown:function(){window.addEventListener("mousemove",m),window.addEventListener("mouseup",y),f(!0)},onTouchStart:function(){window.addEventListener("touchmove",O),window.addEventListener("touchend",v)},style:{zIndex:10},children:Object(a.jsx)("svg",{viewBox:"0 0 64 64",x:"0px",y:"0px",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M53.39,32.57a1.52,1.52,0,0,0-.33-1.63l-5.84-5.85a1.51,1.51,0,0,0-2.13,2.13l3.29,3.28H33.5V15.62l3.28,3.29a1.51,1.51,0,0,0,2.13-2.13l-5.85-5.84a1.5,1.5,0,0,0-2.12,0l-5.85,5.84a1.51,1.51,0,0,0,2.13,2.13l3.28-3.29V30.5H15.62l3.29-3.28a1.51,1.51,0,0,0-2.13-2.13l-5.84,5.85a1.5,1.5,0,0,0,0,2.12l5.84,5.85a1.51,1.51,0,0,0,2.13-2.13L15.62,33.5H30.5V48.38l-3.28-3.29a1.51,1.51,0,0,0-2.13,2.13l5.85,5.84a1.5,1.5,0,0,0,2.12,0l5.85-5.84a1.51,1.51,0,0,0-2.13-2.13L33.5,48.38V33.5H48.38l-3.29,3.28a1.51,1.51,0,0,0,2.13,2.13l5.84-5.85A1.51,1.51,0,0,0,53.39,32.57Z"})})})}),Object(a.jsx)(Ut,{onClick:function(){return t(be(Object(Tt.a)({},e.title,!1)))},children:"\xd7"})]})};function Wt(){var e=Object(xe.a)(["\n    position: absolute;\n    bottom:0;\n    &#right-arrow {\n        right: 0;\n        width: 20px;\n        height: 20px;\n    }\n    &#left-arrow {\n        left: 0;\n        transform: rotate(180deg);\n        width: 20px;\n        height: 20px;\n    }\n"]);return Wt=function(){return e},e}function Gt(){var e=Object(xe.a)(["\n    background:none;\n    outline:none;\n    border:none;\n    &.active {\n        svg {\n            transform: scale(1.5);\n        }\n    }\n"]);return Gt=function(){return e},e}function Vt(){var e=Object(xe.a)(["\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    display: flex;\n    justify-content: space-around;\n    width: calc(100% - 60px);\n    height: 25px;\n    margin-left: 30px;\n    padding: 0 20px;\n    box-sizing: border-box;\n"]);return Vt=function(){return e},e}function Yt(){var e=Object(xe.a)(["\n    width: 100%;\n    height: 100%;\n    padding: 20px;\n    box-sizing: border-box;\n    h3 {\n        margin:0;\n    }\n    p.subtitle {\n        font-size:75%;\n        padding:0;\n        margin:1px;\n    } \n    ul {\n       padding-inline-start: 15px;\n    }\n    img {\n        width: 25px;\n        height: 25px;\n        padding:5px 10px 0 0;\n        transition: 250ms all;\n        opacity: 0.7;\n    }\n    img:hover {\n        opacity:1;\n    }\n\n"]);return Yt=function(){return e},e}function Xt(){var e=Object(xe.a)(["\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: ","%;\n    display: flex;\n    -ms-flex: 1;\n    transition: 250ms all;\n    width: ","%;\n"]);return Xt=function(){return e},e}function Kt(){var e=Object(xe.a)(["\n    background: ",";\n    color: ",";\n    padding: 0;\n    overflow: hidden;\n    display: ",";\n    border-radius: 4px;\n    -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    svg {\n        width: 10px;\n        height: 10px;\n        padding: 5px;\n        fill: ",";\n        display: inline;\n        transition: 250ms all;\n        cursor: pointer;\n    }\n    a {\n       color: ","; \n       text-decoration:none;\n    }\n    @media (max-width:1024px) {\n        right:50%;\n        bottom:50%;\n        transform: translate(50%, 50%);\n        overflow:hidden;\n        -moz-box-shadow: 0 0 5px rgba(0,0,0,.2);\n        -webkit-box-shadow: 0 0 5px rgba(0,0,0,.2);\n        box-shadow: 0 0 0 5px rgba(0,0,0,.2);\n    }\n"]);return Kt=function(){return e},e}var Zt=ge.a.div(Kt(),V,B,(function(e){return e.active?"initial":"none"}),B,K),qt=ge.a.div(Xt(),(function(e){return-100*e.position}),(function(e){return 100*e.panelCount})),Qt=ge.a.div(Yt()),Jt=ge.a.div(Vt()),$t=ge.a.button(Gt()),en=ge.a.svg(Wt()),tn=function(){var e=Object(b.c)((function(e){return e.panelState.tutorial})),t=Object(r.useState)(0),n=Object(p.a)(t,2),i=n[0],o=n[1],c=[{title:"Welcome to the US Covid Atlas",subtitle:"11/22 Hotfix Notes",content:'Please note that we are now using UsaFacts State level data by default. You can explore this dataset under "Data Source" and then "By State"<br/><br/>          \n            If you are returning to this site, please try clearing your\n            page cache with a hard refresh (control + shift + R or\n            command + shift + R) to avoid any display issues.'},{title:"New Features",subtitle:"November Release Notes",content:"The November release includes state level testing data, new resource layers for hospitals and clinics, map sharing capabilities, and improved data loading times.<br><br>\n            State level testing data has a variables for testing positivity, capacity, and confirmed cases. With the new map share button on the right, you can share a link to the map you are viewing. Using the re-designed map overlays, you can overlay a collection of map resources and regional highlights."},{title:"Getting Started",subtitle:"November Release Notes",content:"To get started, try the following:\n            <ul>\n              <li>Click the play button in the <a href=\"#\" onclick=\"highlightElement('sliderdiv', 'id')\">timeline</a> on the top of the page to see how the pandemic has unfolded</li>\n              <li>Explore <a href=\"#\" onclick=\"highlightElement('select-source', 'id')\">state level data</a> on testing positivity rates and capacities</li>\n              <li>Use the <a href=\"#\" onclick=\"highlightElement('mapboxgl-ctrl-geolocate', 'class')\">geolocation</a> function and <a href=\"#\" onclick=\"highlightElement('select-resource', 'id')\">Health Clinics layers</a> to find COVID-19 testing near you</li>\n              <li><a href=\"#\" onclick=\"highlightElement('share-container', 'id')\">Share your map</a> on Social Media, or with a colleague or community member</li>\n            </ul>"},{title:"Found a bug or have a suggestion?",subtitle:"November Release Notes",content:'The US Covid Atlas team is always working to improve the platform and its ability to generate insights.<br><br>\n                Please contact the team at <a href="mailto:contact@theuscovidatlas.org">contact@theuscovidatlas.org</a>\n                or reach out on social media below.\n                <div class="social-container">\n                    <a href="https://twitter.com/covid_atlas" target="_blank" rel="noopener noreferrer">\n                        <img src="'.concat(".",'/icons/twitter-icon.png" alt="Twitter Icon">\n                    </a>\n                    <a href="https://github.com/GeoDaCenter/covid"  target="_blank" rel="noopener noreferrer">\n                        <img src="').concat(".",'/icons/github-icon.png" alt="Twitter Icon">\n                    </a>\n                </div>')}];return Object(a.jsxs)(Zt,{active:e,children:[Object(a.jsx)(qt,{panelCount:c.length,position:i,children:c.map((function(e,t){return Object(a.jsxs)(Qt,{children:[Object(a.jsx)("h3",{children:e.title}),Object(a.jsx)("p",{className:"subtitle",children:e.subtitle}),Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.content}})]},"panel-".concat(t))}))}),Object(a.jsx)(Jt,{children:c.map((function(e,t){return Object(a.jsx)($t,{onClick:function(){return o(t)},className:i===t?"active":"",children:Object(a.jsx)("svg",{viewBox:"0 0 100 100",className:"dot",children:Object(a.jsx)("circle",{cx:"50",cy:"50",r:"40"})})},"dot-".concat(t))}))}),Object(a.jsx)(en,{viewBox:"0 0 100 100",id:"right-arrow",onClick:function(){return o((function(e){return(e+1)%c.length}))},children:Object(a.jsx)("g",{transform:"translate(0,-952.36218)",children:Object(a.jsx)("path",{d:"m 71.20311,1002.3622 -2.84375,-3.28121 -31.99997,-37 -7.5625,6.5624 29.15622,33.71881 -29.15622,33.7188 7.5625,6.5624 31.99997,-37 2.84375,-3.2812 z"})})}),Object(a.jsx)(en,{viewBox:"0 0 100 100",id:"left-arrow",onClick:function(){return o((function(e){return e-1>=0?e-1:c.length-1}))},children:Object(a.jsx)("g",{transform:"translate(0,-952.36218)",children:Object(a.jsx)("path",{d:"m 71.20311,1002.3622 -2.84375,-3.28121 -31.99997,-37 -7.5625,6.5624 29.15622,33.71881 -29.15622,33.7188 7.5625,6.5624 31.99997,-37 2.84375,-3.2812 z"})})})]})},nn=function(e){var t=e.data;return t.slice(-1)[0]===">"+t.slice(-2,-1)[0]&&t.splice(-2,1),t.map((function(e){return Object(a.jsx)("div",{className:"bin label",children:e},"".concat(e,"_").concat(Math.floor(1e4*Math.random())))}))};function an(){var e=Object(xe.a)(["\n    width:100%;\n    display: flex;\n    margin-top:10px;\n    box-sizing: border-box;\n    .bin { \n        height:10px;\n        display: inline;\n        flex:1;\n        border:0;\n        margin:0;\n    }\n    .bin:nth-of-type(1) {\n        transform: ",";\n    }\n"]);return an=function(){return e},e}function rn(){var e=Object(xe.a)(["\n    width:100%;\n    display: flex;\n    margin-top:0px;\n    box-sizing: border-box;\n    padding: 0 ","%;\n    .bin { \n        height:10px;\n        display: inline;\n        border:0;\n        margin:0;\n        flex:2;\n        color:white;\n        font-size:10px;\n        text-align: center;\n    }\n    .bin:nth-of-type(1) {\n        transform: ",";\n    }\n"]);return rn=function(){return e},e}function on(){var e=Object(xe.a)(["\n    text-align: center;\n    font-family:'Playfair Display', serif;\n    padding:0;\n    font-weight:normal;\n    margin:0;\n    color:white;\n"]);return on=function(){return e},e}function cn(){var e=Object(xe.a)(["\n    width:100%;\n    padding:10px;\n    margin:0;\n    box-sizing: border-box;\n    div.MuiGrid-item {\n        padding:5px 5px 0 5px;\n    }\n"]);return cn=function(){return e},e}var sn=ge.a.div(cn()),ln=ge.a.h3(on()),dn=ge.a.div(rn(),(function(e){return e.binLength>6?100/e.binLength/2-1:0}),(function(e){return e.firstBinZero?"translateX(-45%)":"none"})),un=ge.a.div(an(),(function(e){return e.firstBinZero?"scaleX(0.35)":"none"})),hn=function(){var e=Object(b.c)((function(e){return e.mapParams})),t=Object(b.c)((function(e){return e.currentVariable}));return Object(a.jsx)(sn,{children:Object(a.jsxs)(nt.a,{container:!0,spacing:2,id:"legend-bins-container",children:[Object(a.jsx)(nt.a,{item:!0,xs:12,children:Object(a.jsx)(ln,{children:t})}),Object(a.jsxs)(nt.a,{item:!0,xs:12,children:[Object(a.jsx)(un,{firstBinZero:"240,240,240"==="".concat(e.colorScale[0])&&null===e.fixedScale,children:void 0!==e.colorScale&&e.colorScale.map((function(e){return Object(a.jsx)("div",{className:"bin color",style:{backgroundColor:"rgb(".concat(e[0],",").concat(e[1],",").concat(e[2],")")}},"".concat(e[0]).concat(e[1]))}))}),Object(a.jsxs)(dn,{firstBinZero:"240,240,240"==="".concat(e.colorScale[0]),binLength:e.bins.bins.length,children:["240,240,240"==="".concat(e.colorScale[0])&&null===e.fixedScale&&Object(a.jsx)("div",{className:"bin firstBin",children:"0"}),void 0!==e.bins.bins&&Object(a.jsx)(nn,{data:e.bins.bins})]})]})]})})};function pn(){var e=Object(xe.a)(["\n    text-align: center;\n    font-family:'Playfair Display', serif;\n    padding:0;\n    font-weight:normal;\n    margin:0;\n    color:white;\n"]);return pn=function(){return e},e}function bn(){var e=Object(xe.a)(["\n    float:left;\n    p {\n        color:white;\n        display:inline;\n    }\n    span.MuiSwitch-track {\n        background-color:",";\n    }\n    .MuiSwitch-colorSecondary.Mui-checked {\n        color:",";\n    }\n    .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\n        background-color: ",";\n    }\n    .MuiSwitch-colorSecondary:hover {\n        background-color:","55;\n    }\n"]);return bn=function(){return e},e}function jn(){var e=Object(xe.a)(["\n    background:red;\n"]);return jn=function(){return e},e}var xn=ge.a.span(jn()),gn=ge.a.div(bn(),X,Z,Z,Z),fn=ge.a.h3(pn()),mn=function(e){return"".concat(e/1e6,"M")},On=function(e){return"".concat(e/1e3,"K")},yn=function(e){return Object(a.jsx)("text",Object(d.a)(Object(d.a)({},e),{},{children:e.labelFormatter(e.payload.value)}))},vn=function(e,t,n){if(null===e)try{return n.slice(0,1)[0].date}catch(a){return null}else try{return n[t-e].date}catch(r){return null}},wn=function(e,t){try{return t[e].date}catch(n){return null}},_n=function(e){if(e.active){var t=e.payload;return Object(a.jsxs)("div",{style:{background:G,padding:"1px 10px",borderRadius:"4px",boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)"},children:[Object(a.jsx)("p",{style:{color:"white",padding:0},children:t[0].payload.date}),t.map((function(e){return Object(a.jsxs)("p",{style:{color:e.color,textShadow:"2px 2px 4px ".concat(W),fontWeight:600},children:[e.name,": ",Number.isInteger(Math.floor(e.payload[e.dataKey]))?Math.floor(e.payload[e.dataKey]).toLocaleString("en"):e.payload[e.dataKey]]})}))]})}return null},kn=function(){var e=Object(b.c)((function(e){return e.chartData})),t=Object(b.c)((function(e){return e.dataParams})),n=Object(b.c)((function(e){return e.currentVariable})),i=Object(b.c)((function(e){return e.dates})),o=Object(b.c)((function(e){return e.currentData})),c=Object(b.c)((function(e){return e.startDateIndex})),s=Object(b.c)((function(e){return e.sidebarData})),l=Object(r.useState)(!1),d=Object(p.a)(l,2),u=d[0],h=d[1],j=Object(b.c)((function(e){return e.sidebarData})).properties,x=Object(b.b)(),g=function(e){void 0!==e.activeTooltipIndex&&f(e.activeTooltipIndex+c)},f=function(e){"time-series"===t.nType&&"time-series"===t.dType?x(de({nIndex:e,dIndex:e})):"time-series"===t.nType?x(de({nIndex:e})):"time-series"===t.dType?x(de({dIndex:e})):n.includes("Testing")&&x(de({nIndex:e})),x(le(i[o][e]))};return Object(a.jsxs)(xn,{children:[Object(a.jsxs)(fn,{children:["Total Cases and 7-Day Average New Cases",j&&Object(a.jsxs)("span",{children:[": ",j.NAME,j.state_name&&", ".concat(j.state_name)]})]}),Object(a.jsx)(Se.e,{width:"100%",height:"80%",children:Object(a.jsxs)(Se.c,{data:e,margin:{top:0,right:10,left:10,bottom:0},onClick:g,children:[Object(a.jsx)(Se.g,{dataKey:"date",tick:Object(a.jsx)(yn,{style:{fill:"".concat(B,"88"),fontSize:"10px",fontFamily:"Lato",fontWeight:600,transform:"translateY(10px)"},labelFormatter:g})}),Object(a.jsx)(Se.h,{yAxisId:"left",type:"number",dataKey:"count",scale:u?"log":"linear",domain:[.01,"dataMax"],allowDataOverflow:!0,ticks:0===Object.keys(s).length?[2e6,4e6,6e6,8e6,1e7,12e6,14e6]:[],tick:Object(a.jsx)(yn,{style:{fill:X,fontSize:"10px",fontFamily:"Lato",fontWeight:600},labelFormatter:0===Object.keys(s).length?mn:On}),children:Object(a.jsx)(Se.a,{value:"Total Cases",position:"insideLeft",style:{marginTop:10,fill:X,fontFamily:"Lato",fontWeight:600},angle:-90})}),Object(a.jsx)(Se.h,{yAxisId:"right",orientation:"right",dataKey:"dailyNew",scale:u?"log":"linear",domain:[.01,"dataMax"],allowDataOverflow:!0,tick:Object(a.jsx)(yn,{style:{fill:X,fontSize:"10px",fontFamily:"Lato",fontWeight:600},labelFormatter:On}),children:Object(a.jsx)(Se.a,{value:"7-Day Average New Cases",position:"insideTopRight",style:{marginTop:10,fill:K,fontFamily:"Lato",fontWeight:600},angle:-90})}),Object(a.jsx)(Se.f,{content:_n}),Object(a.jsx)(Se.d,{yAxisId:"left",x1:vn(t.nRange,t.nIndex-c,e),x2:wn(t.nIndex-c,e),fill:"white",fillOpacity:.15,isAnimationActive:!1}),Object(a.jsx)(Se.b,{type:"monotone",yAxisId:"left",dataKey:"count",name:"Total Cases",stroke:X,dot:!1}),Object(a.jsx)(Se.b,{type:"monotone",yAxisId:"right",dataKey:"dailyNew",name:"7-Day Average New Cases",stroke:K,dot:!1}),Object(a.jsx)(Se.b,{type:"monotone",yAxisId:"right",dataKey:"selectedGeog",name:"Selected Geography Count",stroke:B,dot:!1})]})}),Object(a.jsxs)(gn,{children:[Object(a.jsx)(ct.a,{checked:u,onChange:function(){h((function(e){return!e}))},name:"log chart switch",inputProps:{"aria-label":"secondary checkbox"}}),Object(a.jsx)("p",{children:u?"Log Scale":"Linear Scale"})]})]})},Sn=n(332),Cn=n(687),Dn=n(695),Pn=n(336),Tn=n(679),In=n(700),zn=n(346),Rn=n(684),En=n(347),Ln=n(692),An=n(44),Mn=n(149),Nn=n(345),Hn=n(335);function Fn(){var e=Object(xe.a)(["\n    position:fixed;\n    left:110%;\n"]);return Fn=function(){return e},e}function Un(){var e=Object(xe.a)(["\n    position: absolute;\n    right: ","px;\n    bottom: 30px;\n    zIndex: 10;\n    transition: 250ms all;\n    @media (max-width:768px) {\n        bottom:100px;\n    }\n    @media (max-width: 400px) {\n        transform:scale(0.75) translate(20%, 20%);\n    }\n"]);return Un=function(){return e},e}function Bn(){var e=Object(xe.a)(["\n    @media (max-width:600px) {\n        display:none !important;\n    }\n"]);return Bn=function(){return e},e}function Wn(){var e=Object(xe.a)(["\n    width:29px;\n    height:29px;\n    padding:5px;\n    margin-bottom:10px;\n    display:block;\n    background-color: ",";\n    -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n    border-radius: 4px;\n    outline:none;\n    border:none;\n    transition:250ms all;\n    cursor:pointer;\n    &:last-of-type {\n        margin-top:10px;\n    }\n    :after {\n        opacity: ",";\n        content:'Map Link Copied to Clipboard!';\n        background:",";\n        -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n        -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\n        box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n        border-radius: 4px;\n        position: absolute;\n        transform:translate(-120%, -25%);\n        padding:5px;\n        width:150px;\n        pointer-events:none;\n        max-width:50vw;\n        transition:250ms all;\n    }\n"]);return Wn=function(){return e},e}function Gn(){var e=Object(xe.a)(["\n    background:",";\n    padding:20px;\n    color:white;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius:0.5vh 0.5vh 0 0;\n    transition:0s all;\n    h3 {\n        margin:2px 0;\n    }\n"]);return Gn=function(){return e},e}function Vn(){var e=Object(xe.a)(["\n    position:absolute;\n    left:0;\n    top:0;\n    width:100%;\n    height:calc(100% - 50px);\n    background:",";\n    @media (max-width:600px) {\n        div.mapboxgl-ctrl-geocoder {\n            display:none;\n        }\n    }\n"]);return Vn=function(){return e},e}var Yn=Object(An.c)({width:window.innerWidth,height:window.innerHeight,bounds:[[-130.14,53.96],[-67.12,19]]}),Xn={hospital:{x:0,y:0,width:128,height:128},clinic:{x:128,y:0,width:128,height:128}},Kn="pk.eyJ1IjoibGl4dW45MTAiLCJhIjoiY2locXMxcWFqMDAwenQ0bTFhaTZmbnRwaiJ9.VRNeNnyb96Eo-CorkJmIqg",Zn=Object(Sn.a)(Hn),qn=ge.a.div(Vn(),G),Qn=ge.a.div(Gn(),V),Jn=ge.a.button(Wn(),(function(e){return e.isActive?Z:Y}),(function(e){return e.shareNotification?1:0}),Y),$n=Object(ge.a)(Nn.a)(Bn()),ea=ge.a.div(Un(),(function(e){return e.infoPanel?317:10})),ta=ge.a.input(Fn()),na=(new Dn.a({id:"globe",controller:!1,resolution:1}),new Pn.a({repeat:!0})),aa=function(){var e=Object(b.c)((function(e){return e})),t=e.storedData,n=e.storedGeojson,i=e.currentData,o=e.storedLisaData,c=e.storedCartogramData,s=e.panelState,u=e.dates,j=e.dataParams,x=e.mapParams,f=e.currentVariable,m=e.startDateIndex,O=e.urlParams,y=Object(r.useState)(!1),w=Object(p.a)(y,2),_=w[0],k=w[1],S=Object(r.useState)(!1),D=Object(p.a)(S,2),T=D[0],I=D[1],z=Object(r.useState)(Zn),R=Object(p.a)(z,2),E=R[0],L=R[1],A=Object(r.useState)({}),M=Object(p.a)(A,2),N=M[0],H=M[1],U=Object(r.useState)({latitude:+O.lat||Yn.latitude,longitude:+O.lon||Yn.longitude,zoom:+O.z||Yn.zoom,bearing:0,pitch:0}),B=Object(p.a)(U,2),W=B[0],G=B[1],V=Object(r.useState)([]),Y=Object(p.a)(V,2),X=Y[0],K=Y[1],Z=Object(r.useState)(null),q=Object(p.a)(Z,2),Q=q[0],J=q[1],$=Object(r.useState)(null),ee=Object(p.a)($,2),te=ee[0],re=ee[1],ce=Object(r.useState)(null),se=Object(p.a)(ce,2),le=se[0],de=se[1],ue=Object(r.useState)(null),he=Object(p.a)(ue,2),pe=he[0],be=he[1],je=Object(r.useState)(!1),xe=Object(p.a)(je,2),ge=xe[0],fe=xe[1],me=Object(b.b)();Object(r.useEffect)((function(){var e=[];if(t[i]&&"cartogram"===x.vizType)for(var n=0;n<t[i].length;n++)e.push({id:n});K(e)}),[t,i,x.vizType]),Object(r.useEffect)((function(){J(ae(i,j))}),[j,x]),Object(r.useEffect)((function(){switch(x.vizType){case"2D":G((function(e){return Object(d.a)(Object(d.a)({},e),{},{latitude:+O.lat||Yn.latitude,longitude:+O.lon||Yn.longitude,zoom:+O.z||Yn.zoom,bearing:0,pitch:0})})),be(null);break;case"3D":G((function(e){return Object(d.a)(Object(d.a)({},e),{},{latitude:+O.lat||39.8283,longitude:+O.lon||-98.5795,zoom:+O.z||Yn.zoom,bearing:-30,pitch:30})})),be(null)}}),[x.vizType,i]),Object(r.useEffect)((function(){var e=o[ae(i,j)];void 0!==e&&H(e)}),[o,j,x]),Object(r.useEffect)((function(){var e,t=Zn.get("layers");e="cartogram"===x.vizType?t.map((function(e){return e.setIn(["layout","visibility"],"none")})):"3D"===x.vizType?t.map((function(e){return e.get("id").includes("label")&&!e.get("id").includes("water")?e:e.setIn(["layout","visibility"],"none")})):t.map((function(e){return x.resource.includes(e.get("id"))||x.overlay.includes(e.get("id"))?e.setIn(["layout","visibility"],"visible"):e})),L(Zn.set("layers",e))}),[x.overlay,x.vizType]),Object(r.useEffect)((function(){null===te&&C("".concat(".","/csv/us_healthcare_capacity-facility-CovidCareMap.csv")).then((function(e){return re(e)})),null===le&&C("".concat(".","/csv/health_centers.csv")).then((function(e){return de(e)}))}),[]),Object(r.useEffect)((function(){if(c[ae(i,j)]){var e=v(c[ae(i,j)]),t=[Math.floor(e[0]),Math.floor(e[1])];null!==pe&&t[0]===pe[0]||(G((function(t){return Object(d.a)(Object(d.a)({},t),{},{latitude:e[1],longitude:e[0],zoom:5,bearing:0,pitch:0})})),be(t))}}),[c,i]),Object(r.useEffect)((function(){G((function(e){return Object(d.a)(Object(d.a)({},e),{},{latitude:+O.lat||Yn.latitude,longitude:+O.lon||Yn.longitude,zoom:+O.z||Yn.zoom,bearing:0,pitch:0})}))}),[O]);var Oe=Object(r.useRef)(),ye=[new In.a({id:"choropleth",data:{type:"FeatureCollection",name:i,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:t[i]?t[i]:[]},visible:"cartogram"!==x.vizType,pickable:"cartogram"!==x.vizType,stroked:!1,filled:!0,wireframe:"3D"===x.vizType,extruded:"3D"===x.vizType,opacity:.8,material:!1,getFillColor:function(e){return function(e,t,a){return t.hasOwnProperty("bins")?"lisa"===a?F.lisa[N[n[i].geoidOrder[e.properties.GEOID]]]:ie(g(e[j.numerator],e[j.denominator],j),t.breaks,x.colorScale,x.mapType):[0,0,0]}(e,x.bins,x.mapType)},getElevation:function(e){return function(e,t){return t.hasOwnProperty("bins")?g(e[j.numerator],e[j.denominator],j)*(j.scale3D/("time-series"===j.nType&&null===j.nRange?(j.nIndex-m)/10:1)):0}(e,x.bins,x.mapType)},updateTriggers:{data:i,pickable:x.vizType,getFillColor:[j,x],getElevation:[j,x]},onHover:function(e){try{k(e)}catch(t){k(null)}},onClick:function(e){try{var t,n;me({type:"SET_DATA_SIDEBAR",payload:{data:e.object}}),I(e.object.properties.GEOID),me(function(e){return{type:"SET_CHART_DATA",payload:{data:e}}}(P({data:e.object},"cases",m,u[i],(null===(t=e.object)||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.population)/1e5||1)))}catch(a){}}}),new In.a({id:"highlightLayer",data:{type:"FeatureCollection",name:i,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:t[i]?t[i]:[]},pickable:!1,stroked:!0,filled:!1,getLineColor:function(e){return T===e.properties.GEOID?[20,20,20]:[20,20,20,0]},lineWidthScale:500,getLineWidth:5,lineWidthMinPixels:3,lineWidthMaxPixels:10,updateTriggers:{data:i,getLineColor:T}}),new zn.a({id:"hospital-layer",data:te,pickable:!0,visible:x.resource.includes("hospital"),iconAtlas:"".concat(".","/assets/img/icon_atlas.png"),iconMapping:Xn,getIcon:function(e){return"hospital"},getPosition:function(e){return[e.Longitude,e.Latitude]},sizeUnits:"meters",getSize:2e4,sizeMinPixels:12,sizeMaxPixels:24,updateTriggers:{data:te,visible:x},onHover:function(e){try{k(e)}catch(t){k(null)}}}),new zn.a({id:"clinics-layer",data:le,pickable:!0,visible:x.resource.includes("clinic"),iconAtlas:"".concat(".","/assets/img/icon_atlas.png"),iconMapping:Xn,getIcon:function(e){return"clinic"},getSize:2e4,getPosition:function(e){return[e.lon,e.lat]},sizeUnits:"meters",sizeMinPixels:7,sizeMaxPixels:20,updateTriggers:{data:le,visible:x},onHover:function(e){try{k(e)}catch(t){k(null)}}}),new Rn.a({id:"background",data:[[[-180,90],[0,90],[180,90],[180,-90],[0,-90],[-180,-90]]],opacity:1,getPolygon:function(e){return e},stroked:!1,filled:!0,visible:"cartogram"===x.vizType,getFillColor:[10,10,10],updateTriggers:{visible:x.vizType}}),new En.a({id:"cartogram layer",data:X,pickable:!0,visible:"cartogram"===x.vizType,getPosition:function(e){try{return c[Q][e.id].position}catch(t){return[0,0]}},getFillColor:function(e){try{return t=c[Q][e.id].value,n=e.id,a=x.bins,r=x.mapType,a.hasOwnProperty("bins")?"lisa"===r?F.lisa[N[n]]:ie(t,a.breaks,x.colorScale,x.mapType):[0,0,0]}catch(i){return[0,0,0]}var t,n,a,r},getRadius:function(e){try{return 10*c[Q][e.id].radius}catch(t){return 0}},onHover:function(e){try{k(Object(d.a)(Object(d.a)({},e),{},{object:Object(oe.find)(t[i],(function(t){var a;return t.properties.GEOID===n[i].indexOrder[null===(a=e.object)||void 0===a?void 0:a.id]}))}))}catch(a){k(null)}},updateTriggers:{getPosition:[X,x,j,Q],getFillColor:[X,x,j,Q],getRadius:[X,x,j,Q],visible:[X,x,j,Q]}}),new Ln.a({id:"cartogram text layer",data:X,pickable:!1,visible:"cartogram"===x.vizType&&i.includes("state"),getPosition:function(e){try{return c[Q][e.id].position}catch(t){return[0,0]}},sizeUnits:"meters",fontWeight:"bold",getTextAnchor:"middle",getAlignmentBaseline:"center",maxWidth:500,wordBreak:"break-word",getSize:function(e){try{return 5*c[Q][e.id].radius}catch(t){return 0}},getText:function(e){try{return i.includes("state")?Object(oe.find)(t[i],(function(t){return+t.properties.GEOID===n[i].indexOrder[e.id]})).properties.NAME:""}catch(a){return""}},updateTriggers:{getPosition:[X,x,j,Q],getFillColor:[X,x,j,Q],getSize:[X,x,j,Q],getRadius:[X,x,j,Q],visible:[X,x,j,Q]}})],ve=function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:"The US Covid Atlas",text:"Near Real-Time Exploration of the COVID-19 Pandemic.",url:"".concat(window.location.href).concat(ne(t))},e.prev=1,e.next=4,navigator.share(n);case 4:e.next=17;break;case 6:e.prev=6,e.t0=e.catch(1),(a=document.querySelector("#share-url")).value="".concat(n.url),a.style.display="block",a.select(),a.setSelectionRange(0,99999),document.execCommand("copy"),a.style.display="none",fe(!0),setTimeout((function(){return fe(!1)}),5e3);case 17:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(qn,{children:Object(a.jsxs)(Cn.a,{initialViewState:W,controller:!0,layers:ye,views:na,onViewPortChange:function(){return console.log("moved")},children:[Object(a.jsxs)(Mn.d,{reuseMaps:!0,ref:Oe,mapStyle:E,preventStyleDiffing:!0,mapboxApiAccessToken:Kn,onViewportChange:function(){return k(!1)},onLoad:function(){me({type:"SET_MAP_LOADED",payload:{loaded:!0}})},children:[Object(a.jsx)($n,{mapRef:Oe,onViewportChange:function(e){return G(e)},mapboxApiAccessToken:Kn,position:"top-right",id:"mapGeocoder",style:{position:"fixed",top:"5px",right:"5px"}}),Object(a.jsxs)(ea,{infoPanel:s.info,children:[Object(a.jsx)(Mn.b,{positionOptions:{enableHighAccuracy:!1},trackUserLocation:!1,onGeolocate:function(e){return function(e){G((function(t){return Object(d.a)(Object(d.a)({},t),{},{latitude:e.coords.latitude,longitude:e.coords.longitude,zoom:8,transitionInterpolator:new Tn.a,transitionDuration:250})}))}(e)},style:{marginBottom:10}}),Object(a.jsx)(Mn.c,{onViewportChange:function(e){return G(e)}}),Object(a.jsx)(Jn,{title:"Share this Map",shareNotification:ge,onClick:function(){return ve({URLmapParams:x,URLcurrentData:i,URLcurrentVariable:f,URLviewState:Oe.current.props.viewState})},children:Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("path",{d:"M22.5,65c4.043,0,7.706-1.607,10.403-4.208l29.722,14.861C62.551,76.259,62.5,76.873,62.5,77.5c0,8.284,6.716,15,15,15   s15-6.716,15-15c0-8.284-6.716-15-15-15c-4.043,0-7.706,1.608-10.403,4.209L37.375,51.847C37.449,51.241,37.5,50.627,37.5,50   c0-0.627-0.051-1.241-0.125-1.847l29.722-14.861c2.698,2.601,6.36,4.209,10.403,4.209c8.284,0,15-6.716,15-15   c0-8.284-6.716-15-15-15s-15,6.716-15,15c0,0.627,0.051,1.241,0.125,1.848L32.903,39.208C30.206,36.607,26.543,35,22.5,35   c-8.284,0-15,6.716-15,15C7.5,58.284,14.216,65,22.5,65z"})})}),Object(a.jsx)(ta,{type:"text",value:"",id:"share-url"})]}),Object(a.jsx)("div",{})]}),_.object&&Object(a.jsx)(Qn,{style:{position:"absolute",zIndex:1,pointerEvents:"none",left:_.x,top:_.y},children:Object(a.jsx)(ra,{content:_.object})})]})})},ra=function(e){var t=e.content,n=t.properties,r=t.cases,i=t.deaths,o=t.testing_ccpt,c=t.testing_tcap,s=t.testing_wk_pos,l=t.testing,d=r&&r.length-1,u=i&&i.length-1,h=l&&l.length-1;return n&&r&&i&&l?Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:n.NAME}),Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),"Cases: ",r[d].toLocaleString("en"),Object(a.jsx)("br",{}),"New Cases: ",(r[d]-r[d-1]).toLocaleString("en"),Object(a.jsx)("br",{}),"Deaths: ",i[u].toLocaleString("en"),Object(a.jsx)("br",{}),"New Deaths: ",(i[u]-i[u-1]).toLocaleString("en"),Object(a.jsx)("br",{}),"Total Testing: ",l[h].toLocaleString("en"),Object(a.jsx)("br",{}),"7-Day Positivity Rate: ",(100*s[h]).toFixed(2),"%",Object(a.jsx)("br",{}),"7-Day Testing Capacity: ",c[h].toFixed(2),Object(a.jsx)("br",{}),"7-Day Confirmed Cases per Testing: ",(100*o[h]).toFixed(2),"%",Object(a.jsx)("br",{}),"Testing Criterion: ",n.criteria,Object(a.jsx)("br",{})]})]}):n&&r&&i?Object(a.jsxs)("div",{children:[Object(a.jsxs)("h3",{children:[n.NAME," ",n.state_name&&", ".concat(n.state_name)]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),"Cases: ",r[d].toLocaleString("en"),Object(a.jsx)("br",{}),"Deaths: ",i[u].toLocaleString("en"),Object(a.jsx)("br",{}),"New Cases: ",(r[d]-r[d-1]).toLocaleString("en"),Object(a.jsx)("br",{}),"New Deaths: ",(i[u]-i[u-1]).toLocaleString("en"),Object(a.jsx)("br",{})]})]}):e.content["Hospital Type"]?Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:e.content.Name}),Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),e.content["Hospital Type"],Object(a.jsx)("br",{}),e.content.Address," ",Object(a.jsx)("br",{}),e.content.Address_2&&"".concat(e.content.Address_2).concat(Object(a.jsx)("br",{})),e.content.City,", ",e.content.State,Object(a.jsx)("br",{}),e.content.Zipcode,Object(a.jsx)("br",{})]})]}):e.content.testing_status?Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:e.content.name}),Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),e.content.address,Object(a.jsx)("br",{}),e.content.city,",",e.content.st_abbr," ",Object(a.jsx)("br",{}),e.content.phone,Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"Yes"===e.content.testing_status?"This location offers COVID-19 testing.":"Currently, this location does not offer COVID-19 testing.",Object(a.jsx)("br",{})]})]}):Object(a.jsx)("div",{})};function ia(){var e=Object(xe.a)(["\n  @media (max-width:1024px){\n    display:none !important;\n  }\n"]);return ia=function(){return e},e}var oa=ge.a.ul(ia()),ca=function(){return Object(a.jsxs)("div",{className:"navbar",children:[Object(a.jsxs)("div",{className:"nav-logo",children:[Object(a.jsx)("img",{src:"".concat(".","/favicon/android-icon-192x192.png"),style:{height:"30px",paddingRight:"5px"}}),Object(a.jsx)("a",{href:"index.html",children:"US COVID ATLAS "})]}),Object(a.jsxs)(oa,{children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"data.html",children:"DATA"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"api.html",children:"API"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"methods.html",children:"METHODS"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"faq.html",children:"FAQ"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"about.html",children:"INSIGHTS"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"about.html",children:"ABOUT"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"contact.html",children:"CONTACT"})})]})]})};function sa(){var e=Object(xe.a)(["\n    position: absolute;\n    top: 12px;\n    right: 10px;\n    font-size: 200%;\n    cursor: pointer;\n    padding:0;\n    background:none;\n    outline:none;\n    border:none;\n    color:white;\n"]);return sa=function(){return e},e}function la(){var e=Object(xe.a)(["\n    width: 300px;\n    max-width: 90vw;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    z-index: 15;\n    background: ",";\n    color: ",";\n    padding: 0;\n    overflow: hidden;\n    border-radius: 4px;\n    padding:20px 30px 20px 20px;\n    -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    transform:translate(-50%, -50%);\n"]);return la=function(){return e},e}var da=ge.a.div(la(),V,B),ua=ge.a.button(sa()),ha=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.notification}));return t&&Object(a.jsxs)(da,{children:[t,Object(a.jsx)(ua,{onClick:function(){return e(je(null))},children:"\xd7"})]})},pa=n(622),ba=n(701),ja=n(693),xa=n(696);function ga(){var e=Object(xe.a)(["\n  font-variant: small-caps;\n  font-weight:800;\n"]);return ga=function(){return e},e}function fa(){var e=Object(xe.a)(["\n  max-height:74vh;\n  overflow-y:visible;\n  box-sizing:border-box;\n  padding:20px;\n\n  @media (max-height:1079px){\n    overflow-y:scroll;\n    padding:20px 20px 25vh 20px;\n  }\n  \n  @media (max-width:600px) {\n    width:100%;\n    padding:0 10px 25vh 10px;\n  }\n"]);return fa=function(){return e},e}function ma(){var e=Object(xe.a)(["\n  width:100%;\n  .MuiFormControl-root {\n    width:45%;\n    min-width:60px;\n    margin-right:5px;\n  }\n"]);return ma=function(){return e},e}function Oa(){var e=Object(xe.a)(["\n  color:white;\n  padding-bottom:20px;\n  .MuiButtonGroup-grouped {\n    color:white;\n    border-color:","77;\n    &:hover {\n      border-color:white;\n    }\n    &.active {\n      background:white;\n      color:",";\n    }\n  }\n"]);return Oa=function(){return e},e}function ya(){var e=Object(xe.a)(["\n  position:fixed;\n  left:0;\n  top:50px;\n  height:auto;\n  min-height:calc(100vh - 50px);\n  min-width:200px;\n  background-color: ","fa;\n  box-shadow: 2px 0px 5px rgba(0,0,0,0.7);\n  padding:0;\n  box-sizing: border-box;\n  transition:250ms all;\n  font: 'Lato', sans-serif;\n  color:white;\n  z-index:50;\n  @media (max-width:1024px) {\n    min-width:50vw;\n  }  \n  @media (max-width:600px) {\n    width:100%;\n    display: ",";\n  }\n  div.noteContainer {\n    position: absolute;\n    bottom:0;\n    left:0;\n    padding:20px;\n    box-sizing:border-box;\n    background:",";\n    width:calc(100%);\n    box-shadow: 0px -5px 10px rgba(0,0,0,0.25);\n    a {  \n      color: ",";\n      -webkit-text-decoration: none;\n      text-decoration: none;\n      }\n    }\n  }\n  p.note {\n    font-family: 'Lato', sans-serif;\n    font-weight:300;\n    font-size:90%;\n  }\n  div.poweredByGeoda {\n    color:white;\n    width:100%;\n    text-align:center;\n    @media (max-height:900px){\n    }\n    a {\n      color:white;\n      margin:0 auto;\n      text-decoration: none;\n      letter-spacing: 2px;\n      font-size:75%;\n      img {\n        width:23px;\n        height:27px;\n        transform: translate(-50%,40%);\n      }\n    }\n  }\n  button#showHideLeft {\n    position:absolute;\n    left:95%;\n    top:20px;\n    width:40px;\n    height:40px;\n    box-sizing:border-box;\n    padding:0;\n    margin:0;\n    background-color: ",";\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\n    outline:none;\n    border:none;\n    cursor: pointer;\n    transition:500ms all;\n    svg { \n      width:20px;\n      height:20px;\n      margin:10px 0 0 0;\n      @media (max-width:600px){\n        width:20px;\n        height:20px;\n        margin:5px;\n      }\n      fill:white;\n      transform:rotate(0deg);\n      transition:500ms all;\n      .cls-1 {\n        fill:none;\n        stroke-width:6px;\n        stroke:white;\n      }\n    }\n    :after {\n      opacity:0;\n      font-weight:bold;\n      content: 'Variables';\n      color:white;\n      position: relative;\n      right:-50px;\n      top:-22px;\n      transition:500ms all;\n      z-index:4;\n    }\n    @media (max-width:768px){\n      top:120px;\n    }\n    @media (max-width:600px) {\n      left:90%;\n      width:30px;\n      height:30px;\n      :after {\n        display:none;\n      }\n    }\n  }\n  button#showHideLeft.hidden {\n    left:100%;\n    svg {\n      transform:rotate(90deg);\n    }\n    :after {\n      opacity:1;\n    }\n  }\n"]);return ya=function(){return e},e}var va=ge.a.div(ya(),V,(function(e){return e.otherPanels?"none":"initial"}),V,K,V),wa=Object(ge.a)(ve.a)(Oa(),B,V),_a=ge.a.div(ma()),ka=ge.a.div(fa()),Sa=Object(ge.a)(rt.a)(ga()),Ca=function(e){var t=function(){var e=Object(h.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all([R()(t),O(a)]).then((function(e){return n({type:"SET_STORED_MOBILITY_DATA",payload:{data:{centroids:e[1],flows:e[0]}}})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n=Object(b.b)(),i=Object(b.c)((function(e){return e})),o=i.cols,c=i.currentData,s=i.currentVariable,u=i.dataParams,p=i.mapParams,j=i.panelState,g=i.urlParams,f=i.storedMobilityData,m={"HEADER:cases":{},"Confirmed Count":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,scale3D:100},"Confirmed Count per 100K Population":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5,scale3D:1e3},"Confirmed Count per Licensed Bed":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"beds",dRange:null,dIndex:null,scale:1,scale3D:1e5},"HEADER:deaths":{},"Death Count":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,scale3D:1e4},"Death Count per 100K Population":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5,scale3D:15e3},"Death Count / Confirmed Count":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"cases",dType:"time-series",dProperty:null,scale:1},"HEADER:community health":{},"Uninsured % (Community Health Factor)":{numerator:"chr_health_factors",nType:"characteristic",nProperty:x(o,c,"chr_health_factors","UnInPrc"),nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:"uninsured",scale3D:15e3},"Over 65 Years % (Community Health Context)":{numerator:"chr_health_context",nType:"characteristic",nProperty:x(o,c,"chr_health_context","Over65YearsPrc"),nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:"over65",scale3D:15e3},"Life expectancy (Length and Quality of Life)":{numerator:"chr_life",nType:"characteristic",nProperty:x(o,c,"chr_life","LfExpRt"),nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:"lifeExp",scale3D:1e3}},y={"HEADER:forecasting":{},"Forecasting (5-Day Severity Index)":{numerator:"predictions",nType:"characteristic",nProperty:x(o,c,"predictions","severity_index"),nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:"forecasting",fixedScale:"forecasting",scale3D:5e4}},v={"HEADER:testing":{},"7 Day Testing Positivity Rate %":{numerator:"testing_wk_pos",nType:"characteristic",nProperty:null,nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,fixedScale:"testing",colorScale:"testing",scale3D:1e7},"7 Day Testing Capacity":{numerator:"testing_tcap",nType:"characteristic",nProperty:null,nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,fixedScale:"testingCap",colorScale:"testingCap",scale3D:3e3},"7 Day Confirmed Cases per Testing %":{numerator:"testing_ccpt",nType:"characteristic",nProperty:null,nRange:null,denominator:"properties",dType:null,dProperty:null,dRange:null,dIndex:null,scale:1,fixedScale:"testing",colorScale:"testing",scale3D:1e7}};Object(r.useEffect)((function(){g.var&&w({event:{target:{value:J[g.src||"county_usfacts.geojson"][g.var]}}})}),[]),Object(r.useEffect)((function(){"mobility-county"===p.overlay&&f==={}&&(t("".concat(".","/gz/county_lex_2020-11-28.csv.gz"),"".concat(".","/csv/county_centroids.csv")),console.log("loaded mobility data"))}),[p.overlay]);var w=function(e){var t=e.target.value,a=m[t]||y[t]||v[t]||null;"characteristic"===u.nType&&"time-series"===a.nType&&(a.nRange=7),"time-series"===a.nType&&"time-series"===a.dType&&(a.dIndex=u.nIndex,a.dRange=a.nRange||u.nRange),console.log(u.nRange),console.log(u.nIndex),n(de(Object(d.a)({},a))),n(he(t)),n(ue({customScale:a.colorScale||"",fixedScale:a.fixedScale||null}))},_=function(e){p.vizType!==e&&n(ue({vizType:e}))};return Object(a.jsxs)(va,{style:{transform:j.variables?"":"translateX(-100%)"},otherPanels:j.info,children:[Object(a.jsxs)(ka,{children:[Object(a.jsxs)("h2",{children:["Data Sources &",Object(a.jsx)("br",{})," Map Variables"]}),Object(a.jsxs)(ht,{children:[Object(a.jsx)(ot.a,{htmlFor:"data-select",children:"Data Source"}),Object(a.jsxs)(it.a,{id:"data-select",value:c,onChange:function(e){var t=e.target.value;t.includes("state")&&y.hasOwnProperty(s)||t.includes("county")&&v.hasOwnProperty(s)?(n(ue({customScale:"",fixedScale:null})),n(de(Object(d.a)({},m["Confirmed Count per 100K Population"]))),n(he("Confirmed Count per 100K Population")),n(je("".concat(q[t].plainName," data do not have ").concat(s,". The Atlas will default to Confirmed Cases Per 100k People."))),setTimeout((function(){n(se(t))}),250),setTimeout((function(){n(je(null))}),1e4)):n(se(t))},children:[Object(a.jsx)(Sa,{disabled:!0,children:"county data"}),Object(a.jsx)(rt.a,{value:"county_usfacts.geojson",children:"USA Facts (County)"},"county_usfacts.geojson"),Object(a.jsx)(rt.a,{value:"county_nyt.geojson",children:"New York Times (County)"},"county_nyt.geojson"),Object(a.jsx)(rt.a,{value:"county_1p3a.geojson",children:"1point3acres (County)"},"county_1p3a.geojson"),Object(a.jsx)(rt.a,{value:"cdc.geojson",children:"CDC (County)"},"cdc.geojson"),Object(a.jsx)(Sa,{disabled:!0,children:"state data"}),Object(a.jsx)(rt.a,{value:"state_usafacts.geojson",children:"USA Facts (State)"},"state_usafacts.geojson"),Object(a.jsx)(rt.a,{value:"state_nyt.geojson",children:"New York Times (State)"},"state_nyt.geojson")]})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(ht,{children:[Object(a.jsx)(ot.a,{htmlFor:"numerator-select",children:"Select Variable"}),Object(a.jsxs)(it.a,{value:s,id:"numerator-select",onChange:w,children:[Object.keys(m).map((function(e){return"HEADER"===e.split(":")[0]?Object(a.jsx)(Sa,{disabled:!0,children:e.split(":")[1]},e.split(":")[1]):Object(a.jsx)(rt.a,{value:e,children:e},e)})),c.includes("county")&&Object.keys(y).map((function(e){return"HEADER"===e.split(":")[0]?Object(a.jsx)(Sa,{disabled:!0,children:e.split(":")[1]},e.split(":")[1]):Object(a.jsx)(rt.a,{value:e,children:e},e)})),(c.includes("state")||c.includes("cdc"))&&Object.keys(v).map((function(e){return"HEADER"===e.split(":")[0]?Object(a.jsx)(Sa,{disabled:!0,children:e.split(":")[1]},e.split(":")[1]):Object(a.jsx)(rt.a,{value:e,children:e},e)}))]})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(ht,{component:"Radio",children:[Object(a.jsx)(pa.a,{component:"legend",children:"Map Type"}),Object(a.jsxs)(xa.a,{"aria-label":"maptype",name:"maptype1",onChange:function(e,t){n(ue("lisa"===t?{mapType:t,nBins:4,bins:U[t],colorScale:F[t]}:{nBins:"hinge15_breaks"===t?6:8,mapType:t}))},value:p.mapType,className:"radioContainer",children:[Object(a.jsx)(ba.a,{value:"natural_breaks",control:Object(a.jsx)(ja.a,{}),label:"Natural Breaks"},"natural_breaks"),Object(a.jsx)(ke,{id:"NaturalBreaks"}),Object(a.jsx)("br",{}),Object(a.jsx)(ba.a,{value:"hinge15_breaks",control:Object(a.jsx)(ja.a,{}),label:"Box Map"},"hinge15_breaks"),Object(a.jsx)(ke,{id:"BoxMap"}),Object(a.jsx)("br",{}),Object(a.jsx)(ba.a,{value:"lisa",control:Object(a.jsx)(ja.a,{}),label:"Hotspot"},"lisa"),Object(a.jsx)(ke,{id:"Hotspot"}),Object(a.jsx)("br",{})]})]}),Object(a.jsx)("p",{children:"Visualization Type"}),Object(a.jsxs)(wa,{color:"primary","aria-label":"text button group",children:[Object(a.jsx)(ye.a,{className:"2D"===p.vizType?"active":"","data-val":"2D",onClick:function(){return _("2D")},children:"2D"},"2D-btn"),Object(a.jsx)(ye.a,{className:"3D"===p.vizType?"active":"","data-val":"3D",onClick:function(){return _("3D")},children:"3D"},"3D-btn"),Object(a.jsx)(ye.a,{className:"cartogram"===p.vizType?"active":"","data-val":"cartogram",onClick:function(){return _("cartogram")},children:"Cartogram"},"cartogram-btn")]}),Object(a.jsx)("br",{}),Object(a.jsxs)(_a,{children:[Object(a.jsxs)(ht,{children:[Object(a.jsx)(ot.a,{htmlFor:"overlay-select",children:"Overlay"}),Object(a.jsxs)(it.a,{id:"overlay-select",value:p.overlay,onChange:function(e){n(ue({overlay:e.target.value}))},children:[Object(a.jsx)(rt.a,{value:"",children:"None"},"None"),Object(a.jsx)(rt.a,{value:"native_american_reservations",children:"Native American Reservations"},"native_american_reservations"),Object(a.jsxs)(rt.a,{value:"segregated_cities",children:["Hypersegregated Cities",Object(a.jsx)(ke,{id:"Hypersegregated"})]},"segregated_cities"),Object(a.jsxs)(rt.a,{value:"blackbelt",children:["Black Belt Counties",Object(a.jsx)(ke,{id:"BlackBelt"})]},"blackbelt"),Object(a.jsxs)(rt.a,{value:"uscongress-districts",children:["US Congressional Districts ",Object(a.jsx)(ke,{id:"USCongress"})]},"uscongress-districts")]})]}),Object(a.jsxs)(ht,{children:[Object(a.jsx)(ot.a,{htmlFor:"resource-select",children:"Resource"}),Object(a.jsxs)(it.a,{id:"resource-select",value:p.resource,onChange:function(e){n(ue({resource:e.target.value}))},children:[Object(a.jsx)(rt.a,{value:"",children:"None"},"None"),Object(a.jsx)(rt.a,{value:"clinics_hospitals",children:"Clinics and Hospitals"},"variable1"),Object(a.jsx)(rt.a,{value:"clinics",children:"Clinics"},"variable2"),Object(a.jsx)(rt.a,{value:"hospitals",children:"Hospitals"},"variable3")]})]})]})]}),Object(a.jsxs)("div",{className:"noteContainer",children:[Object(a.jsx)("h3",{children:"Help us improve the Atlas!"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSf0KdYeVyvwnz0RLnZijY3kdyFe1SwXukPc--a1HFPE1NRxyw/viewform?usp=sf_link",target:"_blank",rel:"noopener noreferrer",children:"Take the Atlas v2 survey here "}),"or share your thoughts at ",Object(a.jsx)("a",{href:"mailto:contact@theuscovidatlas.org",target:"_blank",rel:"noopener noreferrer",children:"contact@theuscovidatlas.org."})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("p",{className:"note",children:["Data is updated with freshest available data at 3pm CST daily, at minimum. In case of data discrepancy, local health departments are considered most accurate as per CDC recommendations. More information on ",Object(a.jsx)("a",{href:"data.html",children:"data"}),", ",Object(a.jsx)("a",{href:"methods.html",children:"methods"}),", and ",Object(a.jsx)("a",{href:"FAQ.html",children:"FAQ"})," at main site."]}),Object(a.jsx)("div",{className:"poweredByGeoda",children:Object(a.jsxs)("a",{href:"https://geodacenter.github.io",target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)("img",{src:"".concat(".","/assets/img/geoda-logo.png")}),"POWERED BY GEODA"]})})]}),Object(a.jsx)("button",{onClick:function(){j.variables?n(be({variables:!1})):n(be({variables:!0}))},id:"showHideLeft",className:j.variables?"active":"hidden",children:Ee})]})},Da=n(685);function Pa(){var e=Object(xe.a)(["\n    z-index:10000;\n    max-width:200px;\n    background:none;\n    padding:0;\n    margin:0;\n    pointer-events: none;\n    div.tooltipContentContainer {\n        background:black;\n        padding:1px 10px;\n        margin:0;\n        borderRadius: 4px;\n        color:white;\n        // transform:translateX(65%);\n        box-shadow: 0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12);\n        pointer-events: all;\n        a {\n            color: ",";\n            text-decoration:none;\n        }\n    }\n"]);return Pa=function(){return e},e}var Ta=Object(ge.a)(Da.a)(Pa(),K),Ia=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.anchorEl})),n=Boolean(t),r=n?"simple-popper":void 0;return Object(a.jsx)(Ta,{id:r,open:n,anchorEl:t,placement:"left",disablePortal:!1,modifiers:{flip:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:"scrollParent"}},onMouseEnter:function(n){e(pe(t))},onMouseLeave:function(){e(pe(null))},children:Object(a.jsx)("div",{className:"tooltipContentContainer",children:t&&Q[t.id]})})};function za(){var e=Object(xe.a)(["\n    position:fixed;\n    width:100%;\n    height:100%;\n    z-index:500;\n    top:0;\n    left:0;\n    background:",";\n    transition: 500ms opacity;\n    img {\n        width:100px;\n        height:86px;\n        position:fixed;\n        left:50%;\n        top:50%;\n        transform:translate(-50%, -50%);\n    }\n    @keyframes fade {\n        0% {fill-opacity:1};\n        50% {fill-opacity:0.25};\n        100% {fill-opacity:1};\n    }\n    &.fadeOut {\n        opacity:0;\n        pointer-events:none;\n    }\n"]);return za=function(){return e},e}var Ra=ge.a.div(za(),V),Ea=function(e){var t=Object(r.useState)(!1),n=Object(p.a)(t,2),i=n[0],o=n[1];return e.loaded&&setTimeout((function(){o(!0)}),500),Object(a.jsx)(Ra,{className:e.loaded?"fadeOut":"",style:{display:i?"none":"initial"},id:"preloaderContainer",children:Object(a.jsx)("img",{src:"".concat(".","/assets/img/preloader.gif"),alt:"Preloader"})})};function La(){var e=Object(xe.a)(["\n    position:absolute;\n    right:5px;\n    bottom:10px;\n    background:none;\n    outline:none;\n    border:none;\n    transform: rotate(90deg);\n    cursor:nw-resize;\n    display:",";\n"]);return La=function(){return e},e}var Aa=ge.a.button(La(),(function(e){return e.notScaleable?"none":"initial"})),Ma=function(e){var t=Object(r.useState)(e.defaultWidth),n=Object(p.a)(t,2),i=n[0],o=n[1],c=Object(r.useState)(e.defaultHeight),s=Object(p.a)(c,2),l=s[0],d=s[1],u=Object(r.useState)(!1),h=Object(p.a)(u,2),j=h[0],x=h[1],g=function(e){o((function(t){return t+e.movementX})),d((function(t){return t+e.movementY}))},f=function(e){o((function(t){var n;return(null===e||void 0===e||null===(n=e.targetTouches[0])||void 0===n?void 0:n.clientX)-j[0]||t})),d((function(t){var n;return(null===e||void 0===e||null===(n=e.targetTouches[0])||void 0===n?void 0:n.clientY)-j[1]||t}))},m=function e(){window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",e)},O=function e(){window.removeEventListener("touchmove",f),window.removeEventListener("touchend",e)},y=Object(b.c)((function(t){return t.panelState[e.title]}));return Object(r.useEffect)((function(){o(e.defaultWidth),d(e.defaultHeight)}),[y,e.defaultHeight,e.defaultWidth]),Object(a.jsxs)("div",{style:{width:i,height:l,minHeight:e.minHeight,minWidth:e.minWidth},children:[e.content,Object(a.jsx)(Aa,{id:"resize",notScaleable:e.notScaleable,onMouseDown:function(){window.addEventListener("mousemove",g),window.addEventListener("mouseup",m)},onTouchStart:function(e){x([+e.target.parentNode.parentNode.parentNode.style.left.slice(0,-2),+e.target.parentNode.parentNode.parentNode.style.top.slice(0,-2)]),window.addEventListener("touchmove",f),window.addEventListener("touchend",O)},style:{zIndex:10},children:Object(a.jsx)("svg",{height:"20px",width:"20px",fill:"white",viewBox:"0 0 8.4666667 8.4666667",x:"0px",y:"0px",children:Object(a.jsx)("g",{transform:"translate(0,-288.53333)",children:Object(a.jsx)("path",{d:"m 5.5562495,289.59166 v 0.52916 h 0.94878 l -1.665015,1.66502 0.3741367,0.37414 1.665015,-1.66502 v 0.94878 h 0.5291667 v -1.85208 z m -2.303735,3.78168 -1.665015,1.66501 v -0.94878 H 1.0583328 v 1.85209 h 1.8520834 v -0.52917 h -0.94878 l 1.665015,-1.66501 z"})})})})]})};function Na(){var e=Object(xe.a)(["\n    position: fixed;\n    top:50px;\n    left:calc(50% - 25px);\n    background:",";\n    transform:translateX(-50%);\n    width:90vw;\n    max-width: 500px;\n    box-sizing: border-box;\n    padding:0;\n    margin:0;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius:0 0 0.5vh 0.5vh ;\n    transition:250ms all;\n    hr {\n        opacity:0.5;\n    }\n    div.MuiGrid-item {\n        padding:0;\n    }\n    \n    @media (max-width:768px){\n        width:100%;\n        max-width:100%;\n        padding:0;\n        left:0;\n        transform:none;\n    }\n    @media (max-width:750px) and (orientation: landscape) {\n        // bottom all the way down for landscape phone\n    }\n"]);return Na=function(){return e},e}var Ha=ge.a.div(Na(),V),Fa=function(){return Object(a.jsx)(Ha,{children:Object(a.jsx)(Pt,{})})};var Ua=function(){var e=window.innerWidth<=1024?[.1*window.innerWidth,.1*window.innerWidth,.25*window.innerHeight,.8*window.innerWidth,.8*window.innerWidth,.4*window.innerHeight,.2*window.innerHeight,.5*window.innerWidth]:[window.innerWidth-400,window.innerWidth-575,75,300,450,300,200,200],t=Object(p.a)(e,8),n=t[0],i=t[1],o=t[2],s=t[3],x=t[4],g=t[5],m=t[6],O=t[7],v=Object(b.c)((function(e){return e})),_=v.storedData,k=v.storedGeojson,S=v.storedLisaData,C=v.storedCartogramData,I=v.currentData,z=v.cols,R=v.dates,E=v.mapParams,L=v.dataParams,A=(v.startDateIndex,v.mapLoaded),N=Object(r.useState)(null),B=Object(p.a)(N,2),W=B[0],G=B[1],V=Object(b.b)(),Y=function(){var e=Object(h.a)(l.a.mark((function e(t,n){var a,r,i,o,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.geojson,r=t.csvs,i=t.joinCols,o=t.tableNames,c=t.accumulate,s=r.map((function(e){return H("".concat(".","/csv/").concat(e,".csv"),i[1],c.includes(e)).then((function(e){return e}))})),Promise.all([re("".concat(".","/geojson/").concat(a),n).then((function(e){return e}))].concat(Object(u.a)(s))).then((function(e){var t=ce(e[0].data,i[0],e.slice(1),o,i[1]),r=w(e.slice(1),o),c=f(r.cases),s=P(t,"cases",c[1],c[0]),l=D(t,Object(d.a)(Object(d.a)({},L),{},{nIndex:null})),h=n.custom_breaks(a,E.mapType,E.nBins,null,l);V({type:"DATA_LOAD",payload:{load:{storeData:{data:t,name:a},currentData:a,columnNames:{data:r,name:a},storeGeojson:{data:e[0].geoidIndex,name:a},chartData:s,mapParams:{bins:{bins:"natural_breaks"===E.mapType?h.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(u.a)(h.breaks.slice(1,-1)),[Math.pow(10,12)])},colorScale:F[E.customScale||E.mapType]},dates:{data:c[0],name:a},currDate:c[0][c.length-1],startDateIndex:c[1],variableParams:{nIndex:r.cases.length-1,binIndex:r.cases.length-1}}}})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){if(null!==W&&_.hasOwnProperty(I)&&"lisa"!==E.mapType&&"dynamic"!==E.binMode)if(null===E.fixedScale||"natural_breaks"!==E.mapType){var e=W.custom_breaks(I,E.mapType,E.nBins,null,D(_[I],Object(d.a)(Object(d.a)({},L),{},{nIndex:null})));V(ue({bins:{bins:"natural_breaks"===E.mapType?e.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(u.a)(e.breaks.slice(1,-1)),[Math.pow(10,12)])},colorScale:"natural_breaks"===E.mapType?F[E.customScale||E.mapType]:F[E.mapType||E.customScale]}))}else V(ue({bins:U[E.fixedScale],colorScale:F[E.fixedScale]}))};return Object(r.useEffect)((function(){var e,t={},n=window.location.search,a=new URLSearchParams(n),r=Object(c.a)(a);try{for(r.s();!(e=r.n()).done;){var i=Object(p.a)(e.value,2),o=i[0],s=i[1];t[o]=s}}catch(d){r.e(d)}finally{r.f()}V({type:"SET_URL_PARAMS",payload:{load:{currentData:t.src?te[decodeURI(t.src)]:"county_usfacts.geojson",paramsDict:t,mapParams:{vizType:t.cartogram?"cartogram":t["3d"]?"3D":"2D",mapType:t.mthd?decodeURI(t.mthd):"natural_breaks",overlay:void 0!==t.ovr?$[t.ovr]:"",resource:void 0!==t.res?ee[t.res]:""}}}}),window.innerWidth<=1024&&V(be({variables:!1,info:!1,tutorial:!1,lineChart:!1})),function(){var e=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.New();case 2:t=e.sent,G(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(r.useEffect)((function(){if(null!==W)if(_==={})Y(q[I],W);else if(void 0===_[I])Y(q[I],W);else if(void 0!==z[I]){var e=f(z[I].cases)[1],t=z[I].cases.length;V({type:"DATA_LOAD_EXISTING",payload:{load:{currDate:R[I][R[I].length-1],startDateIndex:e,variableParams:{nIndex:t-1,binIndex:t-1},chartData:P(_[I],"cases",e,R[I])}}}),X()}}),[W,I]),Object(r.useEffect)((function(){if(null!==W&&"lisa"===E.mapType){var e=ae(I,L);S.hasOwnProperty(e)||V({type:"SET_STORED_LISA_DATA",payload:{data:M(W,I,T(_[I],L,k[I].indexOrder)),name:e}})}if(null!==W&&"cartogram"===E.vizType){var t=ae(I,L);C.hasOwnProperty(t)||V(function(e,t){return{type:"SET_STORED_CARTOGRAM_DATA",payload:{data:e,name:t}}}(y(W,I,T(_[I],L,k[I].indexOrder)),t))}}),[L,E]),Object(r.useEffect)((function(){console.log(L),X()}),[I,L.numerator,L.nProperty,L.nRange,L.denominator,L.dProperty,L.dRange,L.scale,E.mapType]),Object(r.useEffect)((function(){if(null!==W&&"dynamic"===E.binMode&&""!==I&&"lisa"!==E.mapType){var e=W.custom_breaks(I,E.mapType,E.nBins,null,D(_[I],L));V({type:"SET_NEW_BINS",payload:{load:{mapParams:{bins:{bins:"natural_breaks"===E.mapType?e.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(u.a)(e.breaks.slice(1,-1)),[Math.pow(10,12)])},colorScale:F[E.customScale||E.mapType]},variableParams:{binIndex:L.nIndex}}}})}}),[L.nIndex,L.dIndex,E.binMode]),Object(r.useEffect)((function(){var e=window.innerWidth<=1024?[.1*window.innerWidth,.1*window.innerWidth,.25*window.innerHeight,.8*window.innerWidth,.8*window.innerWidth,.4*window.innerHeight,.2*window.innerHeight,.5*window.innerWidth]:[window.innerWidth-400,window.innerWidth-575,75,300,450,300,200,200],t=Object(p.a)(e,8);n=t[0],i=t[1],o=t[2],s=t[3],x=t[4],g=t[5],m=t[6],O=t[7]}),[window.innerHeight,window.innerWidth]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(Ea,{loaded:A}),Object(a.jsx)(ca,{}),Object(a.jsx)("header",{className:"App-header",style:{position:"fixed",left:"20vw",top:"100px",zIndex:10}}),Object(a.jsxs)("div",{id:"mainContainer",children:[Object(a.jsx)(aa,{}),Object(a.jsx)(Fa,{}),Object(a.jsx)(Oe,{}),Object(a.jsx)(Ca,{}),Object(a.jsx)(tt,{}),Object(a.jsx)(Ia,{}),Object(a.jsx)(ha,{}),Object(a.jsx)(Bt,{z:9,defaultX:i,defaultY:o,title:"lineChart",content:Object(a.jsx)(Ma,{content:Object(a.jsx)(kn,{}),title:"lineChart",defaultWidth:x,defaultHeight:g,minHeight:m,minWidth:O})}),Object(a.jsx)(Bt,{z:10,defaultX:n,defaultY:o+20,title:"tutorial",content:Object(a.jsx)(Ma,{notScaleable:!0,content:Object(a.jsx)(tn,{}),title:"tutorial",defaultWidth:s,defaultHeight:g,minHeight:m,minWidth:O})})]})]})},Ba=n(187),Wa={geodaProxy:null,storedData:{},storedGeojson:{},storedLisaData:{},storedCartogramData:{},storedCSV:{},storedMobilityData:{},cols:{},currentData:"county_usfacts.geojson",chartData:[{}],centroids:{},dates:{},currDate:"",currDateIndex:"",startDateIndex:"",currentVariable:"Confirmed Count per 100K Population",currentMethod:"natural_breaks",currentOverlay:"",currentResource:"",dataParams:{numerator:"cases",nType:"time-series",nProperty:null,nRange:7,nIndex:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5,binIndex:"",scale3D:1e3},mapParams:{mapType:"natural_breaks",bins:{bins:[],breaks:[]},binMode:"",fixedScale:null,nBins:8,vizType:"2D",activeGeoid:"",overlay:"",resource:"",colorScale:[[240,240,240],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[177,0,38]]},panelState:{variables:!0,info:!1,tutorial:!1,lineChart:!0},storedRange:null,currentGeoid:"",sidebarData:{},anchorEl:null,mapLoaded:!1,notification:null,urlParams:{}},Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_LOAD":var n=t.payload.load,a=n.storeData,r=n.currentData,i=n.columnNames,o=n.storeGeojson,c=n.chartData,s=n.mapParams,l=n.dates,u=n.currDate,h=n.startDateIndex,p=n.variableParams,b=Object(d.a)({},e.storedData),j=Object(d.a)({},e.cols),x=Object(d.a)({},e.storedGeojson),g=Object(d.a)(Object(d.a)({},e.mapParams),s),f=Object(d.a)({},e.dates),m=Object(d.a)(Object(d.a)({},e.dataParams),p),O=Object(d.a)(Object(d.a)({},e.panelState),{},{info:!1});return b[a.name]=a.data,j[i.name]=i.data,x[o.name]=o.data,f[l.name]=l.data,Object(d.a)(Object(d.a)({},e),{},{storedData:b,cols:j,storedGeojson:x,mapParams:g,dates:f,dataParams:m,currentData:r,chartData:c,currDate:u,startDateIndex:h,sidebarData:{},panelState:O});case"DATA_LOAD_EXISTING":var y=Object(d.a)(Object(d.a)({},e.dataParams),t.payload.load.variableParams),v=Object(d.a)(Object(d.a)({},e.panelState),{},{info:!1});return Object(d.a)(Object(d.a)({},e),{},{dataParams:y,chartData:t.payload.load.chartData,currDate:t.payload.load.currDate,startDateIndex:t.payload.load.startDateIndex,sidebarData:{},panelState:v});case"SET_NEW_BINS":var w=Object(d.a)(Object(d.a)({},e.dataParams),t.payload.load.variableParams),_=Object(d.a)(Object(d.a)({},e.mapParams),t.payload.load.mapParams);return Object(d.a)(Object(d.a)({},e),{},{dataParams:w,mapParams:_});case"SET_GEOID":return Object(d.a)(Object(d.a)({},e),{},{currentGeoid:t.payload.geoid});case"SET_STORED_DATA":var k=Object(d.a)({},e.storedData);return k[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{storedData:k});case"SET_STORED_GEOJSON":var S=Object(d.a)({},e.storedGeojson);return S[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{storedGeojson:S});case"SET_STORED_LISA_DATA":var C=Object(d.a)({},e.storedLisaData);return C[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{storedLisaData:C});case"SET_STORED_CARTOGRAM_DATA":var D=Object(d.a)({},e.storedCartogramData);return D[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{storedCartogramData:D});case"SET_STORED_MOBILITY_DATA":return Object(d.a)(Object(d.a)({},e),{},{storedMobilityData:t.payload.data});case"SET_CENTROIDS":var P=Object(d.a)({},e.centroids);return P[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{centroids:P});case"SET_CURRENT_DATA":return Object(d.a)(Object(d.a)({},e),{},{currentData:t.payload.data});case"SET_GEODA_PROXY":return Object(d.a)(Object(d.a)({},e),{},{geodaProxy:t.payload.proxy});case"SET_DATES":var T=Object(d.a)({},e.dates);return T[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{dates:T});case"SET_DATA_FUNCTION":return Object(d.a)(Object(d.a)({},e),{},{currentDataFn:t.payload.fn});case"SET_COLUMN_NAMES":var I=Object(d.a)({},e.cols);return I[t.payload.name]=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{cols:I});case"SET_CURR_DATE":return Object(d.a)(Object(d.a)({},e),{},{currDate:t.payload.date});case"SET_DATE_INDEX":return Object(d.a)(Object(d.a)({},e),{},{currDateIndex:t.payload.index});case"SET_START_DATE_INDEX":return Object(d.a)(Object(d.a)({},e),{},{startDateIndex:t.payload.index});case"SET_BINS":var z={};return z.bins=t.payload.bins,z.breaks=t.payload.breaks,Object(d.a)(Object(d.a)({},e),{},{bins:z});case"SET_3D":return Object(d.a)(Object(d.a)({},e),{},{use3D:!e.use3D});case"SET_DATA_SIDEBAR":return Object(d.a)(Object(d.a)({},e),{},{sidebarData:t.payload.data});case"INCREMENT_DATE":var R=Object(d.a)({},e.dataParams);return t.payload.index+e.dataParams.nIndex>e.dates[e.currentData].length?(R.nIndex=e.startDateIndex,R.dIndex=e.startDateIndex,Object(d.a)(Object(d.a)({},e),{},{dataParams:R})):(R.nIndex=R.nIndex+t.payload.index,R.dIndex=R.dIndex+t.payload.index,Object(d.a)(Object(d.a)({},e),{},{dataParams:R}));case"SET_VARIABLE_PARAMS":var E=Object(d.a)(Object(d.a)({},e.dataParams),t.payload.params);return"time-series"===E.nType&&null===E.nIndex&&(E.nIndex=e.storedIndex,E.nRange=e.storedRange),"time-series"===E.dType&&null===E.dIndex&&(E.dIndex=e.storedIndex,E.dRange=e.storedRange),"characteristic"===E.nType&&"time-series"===e.dataParams.nType?Object(d.a)(Object(d.a)({},e),{},{storedIndex:e.dataParams.nIndex,storedRange:e.dataParams.nRange,dataParams:E}):Object(d.a)(Object(d.a)({},e),{},{dataParams:E});case"SET_MAP_PARAMS":var L=Object(d.a)(Object(d.a)({},e.mapParams),t.payload.params);return Object(d.a)(Object(d.a)({},e),{},{mapParams:L});case"SET_PANELS":var A=Object(d.a)(Object(d.a)({},e.panelState),t.payload.params);return Object(d.a)(Object(d.a)({},e),{},{panelState:A});case"SET_VARIABLE_NAME":return Object(d.a)(Object(d.a)({},e),{},{currentVariable:t.payload.name});case"SET_CHART_DATA":return Object(d.a)(Object(d.a)({},e),{},{chartData:t.payload.data});case"SET_ANCHOR_EL":return Object(d.a)(Object(d.a)({},e),{},{anchorEl:t.payload.anchorEl});case"SET_MAP_LOADED":return Object(d.a)(Object(d.a)({},e),{},{mapLoaded:t.payload.loaded});case"SET_NOTIFICATION":return Object(d.a)(Object(d.a)({},e),{},{notification:t.payload.info});case"SET_URL_PARAMS":var M=Object(d.a)(Object(d.a)({},e.mapParams),t.payload.load.mapParams);return Object(d.a)(Object(d.a)({},e),{},{currentData:t.payload.load.currentData,urlParams:t.payload.load.paramsDict,mapParams:M});default:return e}},Va=(n(618),n(619),n(342)),Ya=n.n(Va),Xa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ka(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Za=Object(Ba.b)(Ga,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Ya.a.load({google:{families:["Lato:300,400,700,900","Playfair Display:ital","sans-serif"]}}),o.a.render(Object(a.jsx)(b.a,{store:Za,children:Object(a.jsx)(Ua,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");Xa?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ka(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Ka(e)}))}}()}},[[620,1,2]]]);
//# sourceMappingURL=main.3a8ed4fa.chunk.js.map